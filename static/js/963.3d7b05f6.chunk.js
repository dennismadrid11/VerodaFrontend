"use strict";(self.webpackChunksky=self.webpackChunksky||[]).push([[963],{9665:function(e,t,n){n.r(t),n.d(t,{default:function(){return we}});var a=n(1413),r=n(885),i=n(2791),o=n(6871),l=n(6986),c={header:"ScheduleBanner_header__6vAdq",headerText:"ScheduleBanner_headerText__cx2vh",customDateInput:"ScheduleBanner_customDateInput__5Zn8C",addButton:"ScheduleBanner_addButton__Ihnta",headerSearch:"ScheduleBanner_headerSearch__levDM",searchIcon:"ScheduleBanner_searchIcon__l+xWc",searchInputSearchIcon:"ScheduleBanner_searchInputSearchIcon__dtl96",searchInputCloseIcon:"ScheduleBanner_searchInputCloseIcon__yCgX4",divHeaderPadding:"ScheduleBanner_divHeaderPadding__15leB",divHeaderSelect:"ScheduleBanner_divHeaderSelect__t9u+3",divHeaderDate:"ScheduleBanner_divHeaderDate__RAySv",paddingTopNone:"ScheduleBanner_paddingTopNone__qplag"},s=n(9639),d=n(1103),u=n(184);function h(e){var t=e.componentName,n=e.channels,a=e.callbackSelectChannelFunction,o=(e.callbackSelectMonthFunction,e.callbackSelectYearFunction,e.callbackGenerateSchedule),l=e.callbackCheckPriorityList,h=e.disabledGenerate,f=e.defaultSelected,m=e.onChangeFormSetScheduleSessionParameters,p=e.hiddenSelectChannels,g=e.callbackCreateSchedule,x=e.isLoading,v=(e.callbackSelectPeriod,e.disabledCreateSchedule),y=e.setPeriodFilterStartRange,F=e.setPeriodFilterEndRange,S=e.selectedPeriod,_=e.setPeriod,N=(0,i.useState)("Please select a channel"),j=(0,r.Z)(N,2),b=j[0],w=j[1],k=(0,i.useState)("Select month"),C=(0,r.Z)(k,2),D=C[0],B=C[1],Z=(0,i.useState)("Select year"),I=(0,r.Z)(Z,2),O=I[0],M=I[1],V=new Date,P=(0,i.useState)({start:new Date(V.getFullYear(),V.getMonth(),V.getDate()),end:new Date(V.getFullYear(),V.getMonth()+1,0)}),T=(0,r.Z)(P,2),A=T[0],E=T[1],R={start:new Date(V.getFullYear(),V.getMonth(),V.getDate()),end:new Date(V.getFullYear()+3,V.getMonth(),V.getDate())},U=(0,i.useState)(!0),Y=(0,r.Z)(U,2),L=Y[0],H=Y[1],K=(0,i.useState)(0),W=(0,r.Z)(K,2),J=W[0],q=W[1];(0,i.useEffect)((function(){J<1&&(q(J+1),y(A.start),F(A.end))}),[J]),(0,i.useEffect)((function(){"Please select a channel"!==b&&"Select month"!==D&&"Select year"!==O&&l()}),[b,D,O]),(0,i.useEffect)((function(){w(f.channel),B(f.month),M(f.year)}),[f]),(0,i.useEffect)((function(){S&&0===Object.keys(S).length&&Object.getPrototypeOf(S)===Object.prototype||E({start:S.start,end:S.end})}),[S]),(0,i.useEffect)((function(){H(v)}),[v]),(0,i.useEffect)((function(){var e=!1;A.start<R.start&&(e=!0),A.end>R.end&&(e=!0),"Please select a channel"===b&&(e=!0),A.start&&A.end||(e=!0),A.start>A.end&&(e=!0),H(e||v),e||v||(_(A),A.start&&A.end&&m({periodFrom:A.start,periodTo:A.end}))}),[A,b]);return(0,u.jsxs)("div",{className:"".concat(c.header," position-relative"),children:[(0,u.jsx)("div",{className:c.headerText,style:{width:"20%"},children:t}),(0,u.jsx)("div",{style:{width:"80%"},children:(0,u.jsxs)("div",{className:"row ".concat(c.marginBottom),style:{float:"right"},children:[(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:c.divHeaderPadding,children:(0,u.jsx)("div",{className:c.channelLabel,children:"Channel:"})}),(0,u.jsx)("div",{className:c.divHeaderSelect,style:{width:"175px",visibility:p?"hidden":"visible"},children:(0,u.jsx)(s.Z,{text:b,list:n,onSelect:function(e){a(e.id),w(e.name),m({channelID:e.id})},width:"175px",withSearch:!0})}),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"".concat(c.divHeaderPadding," ").concat(c.paddingTopNone," ").concat(c.customDateInput),children:!x&&(0,u.jsx)(d.Z,{onChange:function(e){E(e)},min:R.start,max:R.end,startSettings:{value:A.start,label:"Period from:",labelLeft:!0,width:"155px"},endSettings:{value:A.end,label:"To:",labelLeft:!0,width:"155px"}})})})]}),(0,u.jsxs)("div",{style:{width:"auto",padding:"0",paddingRight:"10px",marginBottom:"10px"},children:[(0,u.jsx)("button",{className:"".concat(c.addButton," "),onClick:o,disabled:!(A.start&&A.end)||h||A.start>A.end||L,type:"button",children:"Generate Schedules"})," "]}),(0,u.jsx)("div",{style:{width:"auto",padding:"0",paddingRight:"10px",marginBottom:"10px"},children:(0,u.jsx)("button",{className:"".concat(c.addButton," "),type:"button",onClick:g,disabled:L,children:"Create Schedule"})})]})})]})}h.defaultProps={channels:null,disabledGenerate:!0,defaultSelected:null,hiddenSelectChannels:!0};var f=h,m=n(1597),p="ScheduleTableHeader_columns__+67uB",g="ScheduleTableHeader_columns2__9SPAx",x="ScheduleTableHeader_columnID__NOCuN",v="ScheduleTableHeader_filterIcons__FDInv",y="ScheduleTableHeader_clearFilterIcons__A3Xa7",F="ScheduleTableHeader_dropdownFirstname__ZBkHi",S="ScheduleTableHeader_dropdownLastname__HYd50",_="ScheduleTableHeader_dropdownEmail__fJwCe",N="ScheduleTableHeader_icon__h4Q4y",j="ScheduleTableHeader_label__cFBYF",b="ScheduleTableHeader_dropdownValidityDate__K6zsm",w="ScheduleTableHeader_numberDiv__zAuUU",k="ScheduleTableHeader_noIcon__B0LmT",C=n(5374),D=n(3551),B=n(2223),Z=n(3528),I="number_filter_startsWithButton__+dJew",O="number_filter_numberInput__C5PBW",M="number_filter_clearFilterButton__Ei72f",V="number_filter_filterButton__XMi6d",P="number_filter_options__3k-yS",T="number_filter_optionItem__VFp6J",A=i.forwardRef,E=i.useImperativeHandle,R=A((function(e,t){var n=[{optionId:1,optionText:"Equal"},{optionId:2,optionText:"Greater Than"},{optionId:3,optionText:"Greater Than or Equal"},{optionId:4,optionText:"Less Than"},{optionId:5,optionText:"Less Than or Equal"},{optionId:6,optionText:"Not Equal"}],a=(0,i.useState)(n[0]),o=(0,r.Z)(a,2),l=o[0],c=o[1],s=(0,i.useState)(!1),d=(0,r.Z)(s,2),h=d[0],f=d[1],m=(0,i.useState)(""),p=(0,r.Z)(m,2),g=p[0],x=p[1],v=(0,i.useState)(!0),y=(0,r.Z)(v,2),F=y[0],S=y[1],_=(0,i.useRef)(),N=function(t){_.current.contains(t.target)||(e.backdropClicked(e.component),f(!1))},j=function(e){c(e),f(!1),""!==g&&S(!1)},b=function(){c(n[0]),x(""),S(!0)},w=function(t){var n=JSON.parse(JSON.stringify(e.filterModel));return"Filter"===t?("ID"===e.component&&(n.iDFilter=l.optionId,n.iDFilterValue=g,n.useCache=!0),"Weighted"===e.component&&(n.weightedFilter=l.optionId,n.weightedFilterValue=g,n.useCache=!0),"Neatness"===e.component&&(n.neatnessFilter=l.optionId,n.neatnessFilterValue=g,n.useCache=!0),"Primetime"===e.component&&(n.primetimeFilter=l.optionId,n.primetimeFilterValue=g,n.useCache=!0),"Break"===e.component&&(n.breakFilter=l.optionId,n.breakFilterValue=g,n.useCache=!0),"Youth"===e.component&&(n.youthFilter=l.optionId,n.youthFilterValue=g,n.useCache=!0),"UkBoxOffice"===e.component&&(n.ukBoxOfficeFilter=l.optionId,n.ukBoxOfficeFilterValue=g,n.useCache=!0),"UsBoxOffice"===e.component&&(n.usBoxOfficeFilter=l.optionId,n.usBoxOfficeFilterValue=g,n.useCache=!0),"Unweighted"===e.component&&(n.unweightedFilter=l.optionId,n.unweightedFilterValue=g,n.useCache=!0),"AdOptimisation"===e.component&&(n.adOptimisationFilter=l.optionId,n.adOptimisationFilterValue=g,n.useCache=!0)):("ID"===e.component&&(n.iDFilter=void 0,n.iDFilterValue=void 0,n.useCache=!0),"Weighted"===e.component&&(n.weightedFilter=void 0,n.weightedFilterValue=void 0,n.useCache=!0),"Neatness"===e.component&&(n.neatnessFilter=void 0,n.neatnessFilterValue=void 0,n.useCache=!0),"Primetime"===e.component&&(n.primetimeFilter=void 0,n.primetimeFilterValue=void 0,n.useCache=!0),"Break"===e.component&&(n.breakFilter=void 0,n.breakFilterValue=void 0,n.useCache=!0),"Youth"===e.component&&(n.youthFilter=void 0,n.youthFilterValue=void 0,n.useCache=!0),"UkBoxOffice"===e.component&&(n.ukBoxOfficeFilter=void 0,n.ukBoxOfficeFilterValue=void 0,n.useCache=!0),"UsBoxOffice"===e.component&&(n.usBoxOfficeFilter=void 0,n.usBoxOfficeFilterValue=void 0,n.useCache=!0),"Unweighted"===e.component&&(n.unweightedFilter=void 0,n.unweightedFilterValue=void 0,n.useCache=!0),"AdOptimisation"===e.component&&(n.adOptimisationFilter=void 0,n.adOptimisationFilterValue=void 0,n.useCache=!0)),n},k=function(){b(),e.onClickedButtonFilter(w("Clear")),e.toggleDropdown(null)};return E(t,(function(){return{clearFilterModel:function(){b()}}})),(0,i.useEffect)((function(){return document.addEventListener("mousedown",N),function(){return document.removeEventListener("mousedown",N)}})),(0,u.jsxs)("div",{className:"p-3",ref:_,children:[(0,u.jsx)("div",{}),(0,u.jsxs)("div",{className:"position-relative",children:[(0,u.jsx)("button",{className:I,onClick:function(){f(!h)},type:"button",children:l.optionText}),(0,u.jsx)("div",{className:P,style:{display:h?null:"none",marginBottom:"-".concat(25*n.length,"px"),height:"".concat(25.25*n.length,"px")},children:n.map((function(e){return(0,u.jsx)("div",{className:T,onClick:function(){return j(e)},onKeyDown:function(){return j(e)},role:"presentation",children:(0,u.jsx)("span",{children:e.optionText})},e.id)}))})]}),(0,u.jsx)("br",{}),(0,u.jsx)("input",{className:O,type:"number",value:g,placeholder:"Enter the value",onChange:function(e){S(!1),e.target.value.length<=7&&x(e.target.value),l.optionId===n[0].optionId&&j(n[0])},onKeyDown:function(e){return"e"===e.key&&e.preventDefault()}}),(0,u.jsx)("hr",{style:{backgroundColor:"#6d6d73"}}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)("p",{className:M,onClick:k,onKeyDown:k,role:"presentation",children:"Clear"}),(0,u.jsx)("button",{className:V,onClick:function(){e.onClickedButtonFilter(w("Filter")),e.toggleDropdown(null),S(!0)},disabled:F,type:"button",children:"Filter"})]})]})}));R.defaultProps={component:""},R.displayName="NumberFilterComponent";var U=R,Y=n(2266),L="date_filter_options__emZwl",H="date_filter_optionItem__tLg6W",K="date_filter_activeItem__1NOLc",W="date_filter_dateSection__RGYLr",J="date_filter_startSection__B3M7p",q="date_filter_endSection__d24Vu",z="date_filter_divider__ITuHf",G="date_filter_dateRangeDiv__CF4ou",X="date_filter_dateRangeString__-ILoF",Q="date_filter_totalDays__71nPX",$="date_filter_arrowLeftIcon__FDGbB",ee="date_filter_clearFilterButton__emhiq",te="date_filter_applyFilterButton__Jdar2",ne=n(5804),ae=i.forwardRef,re=i.useImperativeHandle,ie=ae((function(e,t){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],a="".concat(n[(new Date).getMonth()]," ").concat((new Date).getDate(),", ").concat((new Date).getFullYear()),o=(0,i.useState)(4),l=(0,r.Z)(o,2),c=l[0],s=l[1],d=(0,i.useState)(new Date),h=(0,r.Z)(d,2),f=h[0],m=h[1],p=(0,i.useState)(a),g=(0,r.Z)(p,2),x=g[0],v=g[1],y=(0,i.useState)(new Date),F=(0,r.Z)(y,2),S=F[0],_=F[1],N=(0,i.useState)(a),j=(0,r.Z)(N,2),b=j[0],w=j[1],k=(0,i.useState)(4),C=(0,r.Z)(k,2),D=C[0],B=C[1],Z=(0,i.useState)(),I=(0,r.Z)(Z,2),O=I[0],M=I[1],V=(0,i.useRef)(),P=(0,i.useState)(),T=(0,r.Z)(P,2),A=T[0],E=T[1],R=(0,i.useState)(),U=(0,r.Z)(R,2),ae=U[0],ie=U[1],oe=function(t){V.current.contains(t.target)||e.backdropClicked(e.component)},le=function(e,t){var n=t.getTime()-e.getTime(),a=Math.round(n/864e5);M(a)},ce=function(e){switch(s(e),E(),ie(),e){case 1:var t=new Date;t.setMonth(t.getMonth()-1),m(t),le(t,new Date),v("".concat(n[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())),B(1);break;case 2:var a=new Date;a.setMonth(a.getMonth()-2),m(a),le(a,new Date),v("".concat(n[a.getMonth()]," ").concat(a.getDate(),", ").concat(a.getFullYear())),B(2);break;case 3:var r=new Date;r.setMonth(r.getMonth()-3),m(r),le(r,new Date),v("".concat(n[threeDaysAgo.getMonth()]," ").concat(r.getDate(),", ").concat(r.getFullYear())),B(3);break;default:m(new Date),E(new Date),le(new Date,new Date),v("".concat(n[(new Date).getMonth()]," ").concat((new Date).getDate(),", ").concat((new Date).getFullYear())),B(4)}w("".concat(n[(new Date).getMonth()]," ").concat((new Date).getDate(),", ").concat((new Date).getFullYear())),_(new Date),ie(new Date)},se=function(){m(new Date),_(new Date),ce(1),E(),ie()},de=function(t){var n=JSON.parse(JSON.stringify(e.filterModel));if("Filter"===t){var a=null!=A?A:f,r=null!=ae?ae:S;"Period"===e.component&&(n.periodFilter=D,n.periodFilterStartRange=a,n.periodFilterEndRange=r,n.useCache=!0)}else"Period"===e.component&&(n.periodFilter=void 0,n.periodFilterStartRange=void 0,n.periodFilterEndRange=void 0,n.useCache=!0);return n},ue=function(){se(),e.onClickedButtonFilter(de("Clear")),e.toggleDropdown(null)};return re(t,(function(){return{clearFilterModel:function(){se()}}})),(0,i.useEffect)((function(){return ce(1),document.addEventListener("mousedown",oe),function(){return document.removeEventListener("mousedown",oe)}}),[]),(0,u.jsxs)("div",{className:"d-flex",style:{height:"100%"},ref:V,children:[(0,u.jsx)("div",{className:L,children:[{optionId:1,optionName:"1 Month"},{optionId:2,optionName:"2 Months"},{optionId:3,optionName:"3 Months"},{optionId:4,optionName:"Custom"}].map((function(e){return(0,u.jsx)("div",{className:"".concat(H," ").concat(c===e.optionId?K:null),onClick:function(){return ce(e.optionId)},onKeyDown:function(){return ce(e.optionId)},role:"presentation",children:e.optionName},e.id)}))}),(0,u.jsxs)("div",{className:W,children:[(0,u.jsx)("div",{className:G,children:(0,u.jsxs)("p",{className:X,children:[x," ",(0,u.jsx)("span",{children:(0,u.jsx)("img",{className:$,src:ne,alt:"ArrowLeftIcon"})})," ",b]})}),(0,u.jsxs)("div",{className:Q,children:[O," Day(",(0,u.jsx)("small",{style:{fontSize:"9px",marginLeft:"1px",marginRight:"1px"},children:"s"}),")"]}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)("div",{className:J,style:{pointerEvents:4!==c?"none":null,textAlign:"center"},children:(0,u.jsx)(Y.ZP,{tileClassName:function(e){var t=e.date;return t>f&&t<=S?"react-calendar__month-view__days__day_between-day-range":null},onChange:m,onClickDay:function(e){m(e),E(e),v("".concat(n[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())),le(e,S)},value:f,maxDate:S})}),(0,u.jsx)("div",{className:z}),(0,u.jsx)("div",{className:q,style:{pointerEvents:4!==c?"none":null,textAlign:"center"},children:(0,u.jsx)(Y.ZP,{tileClassName:function(e){var t=e.date;return t>=f&&t<S?"react-calendar__month-view__days__day_between-day-range":null},onChange:_,onClickDay:function(e){_(e),ie(e),w("".concat(n[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())),le(f,e)},value:S,minDate:f})})]}),(0,u.jsxs)("div",{className:"d-flex",style:{marginTop:"-10px",marginLeft:"500px"},children:[(0,u.jsx)("p",{className:ee,onClick:ue,onKeyDown:ue,role:"presentation",children:"Clear"}),(0,u.jsx)("button",{className:te,onClick:function(){e.onClickedButtonFilter(de("Filter")),e.toggleDropdown(null)},type:"button",children:"Apply"})]})]})]})}));ie.defaultProps={component:""},ie.displayName="DateFilterComponent";var oe=ie;var le=function(e){var t=e.sortBy,n=e.filterModel,a=e.onClickedButtonFilter,o=e.handleSetSortBy,l=e.onClickedButtonClearAllFilters,c=e.onClickedButtonClearFilter,s=e.scoringColumns,d=(0,i.useState)(!1),h=(0,r.Z)(d,2),f=h[0],m=h[1],I=(0,i.useState)(!1),O=(0,r.Z)(I,2),M=O[0],V=O[1],P=(0,i.useState)(!1),T=(0,r.Z)(P,2),A=T[0],E=T[1],R=(0,i.useState)(!1),Y=(0,r.Z)(R,2),L=Y[0],H=Y[1],K=(0,i.useState)(!1),W=(0,r.Z)(K,2),J=W[0],q=W[1],z=(0,i.useState)(!1),G=(0,r.Z)(z,2),X=G[0],Q=G[1],$=(0,i.useState)(!1),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],ae=(0,i.useState)(!1),re=(0,r.Z)(ae,2),ie=re[0],le=re[1],ce=(0,i.useState)(!1),se=(0,r.Z)(ce,2),de=se[0],ue=se[1],he=(0,i.useState)(!1),fe=(0,r.Z)(he,2),me=fe[0],pe=fe[1],ge=(0,i.useState)(!1),xe=(0,r.Z)(ge,2),ve=xe[0],ye=xe[1],Fe=(0,i.useState)(!1),Se=(0,r.Z)(Fe,2),_e=Se[0],Ne=Se[1],je=(0,i.useRef)(),be=(0,i.useRef)(),we=(0,i.useRef)(),ke=(0,i.useRef)(),Ce=(0,i.useRef)(),De=(0,i.useRef)(),Be=(0,i.useRef)(),Ze=(0,i.useRef)(),Ie=(0,i.useRef)(),Oe=(0,i.useRef)(),Me=(0,i.useRef)(),Ve=function(e){m("ID"===e&&!f),V("Weighted"===e&&!M),E("Neatness"===e&&!A),H("Primetime"===e&&!L),q("Break"===e&&!J),Q("Youth"===e&&!X),ne("UkBoxOffice"===e&&!te),le("UsBoxOffice"===e&&!ie),ue("Unweighted"===e&&!de),ye("AdOptimisation"===e&&!ve),Ne("Period"===e&&!_e)},Pe=function(e){"ID"===e&&m(!1),"Weighted"===e&&V(!1),"Neatness"===e&&E(!1),"Primetime"===e&&H(!1),"Break"===e&&q(!1),"Youth"===e&&Q(!1),"UkBoxOffice"===e&&ne(!1),"UsBoxOffice"===e&&le(!1),"Unweighted"===e&&ue(!1),"AdOptimisation"===e&&ye(!1),"Period"===e&&Ne(!1)},Te=function(e){a(e)},Ae=function(e){var a=JSON.parse(JSON.stringify(n));a.userSort=e,a.sortBy=t[e].state?2:1,Te(a),o(e)},Ee=function(){null!==je.current&&void 0!==je.current&&je.current.clearFilterModel(),null!==be.current&&void 0!==be.current&&be.current.clearFilterModel(),null!==we.current&&void 0!==we.current&&we.current.clearFilterModel(),null!==ke.current&&void 0!==ke.current&&ke.current.clearFilterModel(),null!==Ce.current&&void 0!==Ce.current&&Ce.current.clearFilterModel(),null!==De.current&&void 0!==De.current&&De.current.clearFilterModel(),null!==Be.current&&void 0!==Be.current&&Be.current.clearFilterModel(),null!==Ze.current&&void 0!==Ze.current&&Ze.current.clearFilterModel(),null!==Ie.current&&void 0!==Ie.current&&Ie.current.clearFilterModel(),null!==Oe.current&&void 0!==Oe.current&&Oe.current.clearFilterModel(),null!==Me.current&&void 0!==Me.current&&Me.current.clearFilterModel(),l(n.periodFilterStartRange,n.periodFilterEndRange)};return(0,i.useEffect)((function(){pe(!!(n.iDFilter||n.iDFilterValue||n.weightedFilter||n.weightedFilterValue||n.neatnessFilter||n.neatnessFilterValue||n.primetimeFilter||n.primetimeFilterValue||n.breakFilter||n.breakFilterValue||n.youthFilter||n.youthFilterValue||n.ukBoxOfficeFilter||n.ukBoxOfficeFilterValue||n.usBoxOfficeFilter||n.usBoxOfficeFilterValue||n.unweightedFilter||n.unweightedFilterValue||n.adOptimisationFilter||n.adOptimisationFilterValue||n.periodFilter||n.periodFilterStartRange||n.periodFilterEndRange))}),[n]),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"".concat(p," ").concat(x),children:[(0,u.jsx)("span",{onClick:function(){return Ae(1)},onKeyDown:function(){return Ae(1)},role:"presentation",children:"ID"})," ",(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.iDFilter&&n.iDFilterValue?D:C,alt:"FilterIcon1",onClick:function(){return Ve("ID")},onKeyDown:function(){return Ve("ID")},role:"presentation"}),(0,u.jsx)("div",{className:F,style:{display:f?null:"none"},children:(0,u.jsx)(U,{ref:je,component:"ID",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("ID")},toggleDropdown:Ve,backdropClicked:Pe})}),(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon1",style:{display:1===n.userSort?null:"none",transform:t[1].state?"rotate(0deg)":"rotate(180deg)"}})]}),(0,u.jsx)("td",{className:"".concat(p," ").concat(g),children:(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("div",{onClick:function(){return Ae(11)},onKeyDown:function(){return Ae(11)},role:"presentation",className:j,title:"Period",children:"Period"})," ",(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.periodFilter&&n.periodFilterStartRange&&n.periodFilterEndRange?D:C,alt:"FilterIcon2",onClick:function(){return Ve("Period")},onKeyDown:function(){return Ve("Period")},role:"presentation"})}),(0,u.jsx)("div",{className:b,style:{display:_e?null:"none"},children:(0,u.jsx)(oe,{ref:Me,component:"Period",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("Period")},toggleDropdown:Ve,backdropClicked:Pe})}),(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon2",style:{display:11===n.userSort?null:"none",transform:t[11].state?"rotate(0deg)":"rotate(180deg)"}})})]})}),(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(2)},onKeyDown:function(){return Ae(2)},role:"presentation",className:j,title:"Weighted",children:"Weighted"})," ",(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.weightedFilter&&n.weightedFilterValue?D:C,alt:"FilterIcon2",onClick:function(){return Ve("Weighted")},onKeyDown:function(){return Ve("Weighted")},role:"presentation"})}),(0,u.jsx)("div",{className:S,style:{display:M?null:"none"},children:(0,u.jsx)(U,{ref:be,component:"Weighted",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("Weighted")},toggleDropdown:Ve,backdropClicked:Pe})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(2===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon2",style:{display:2===n.userSort?null:"none",transform:t[2].state?"rotate(0deg)":"rotate(180deg)"}})})]})}),s.neatness&&(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(3)},onKeyDown:function(){return Ae(3)},role:"presentation",className:j,title:"Neatness",children:"Neatness"})," ",(0,u.jsx)("div",{className:"".concat(N," ").concat(n.neatnessFilter&&n.neatnessFilterValue?k:""),children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.neatnessFilter&&n.neatnessFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("Neatness")},onKeyDown:function(){return Ve("Neatness")},role:"presentation"})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(3===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:3===n.userSort?null:"none",transform:t[3].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:A?null:"none"},children:(0,u.jsx)(U,{ref:we,component:"Neatness",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("Neatness")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),s.strengthofPrimetime&&(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(4)},onKeyDown:function(){return Ae(4)},role:"presentation",className:j,title:"Primetime",children:"Primetime"})," ",(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.primetimeFilter&&n.primetimeFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("Primetime")},onKeyDown:function(){return Ve("Primetime")},role:"presentation"})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(4===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:4===n.userSort?null:"none",transform:t[4].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:L?null:"none"},children:(0,u.jsx)(U,{ref:ke,component:"Primetime",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("Primetime")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),s.averageBreakTime&&(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(5)},onKeyDown:function(){return Ae(5)},role:"presentation",className:j,title:"Break",children:"Break"})," ",(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.breakFilter&&n.breakFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("Break")},onKeyDown:function(){return Ve("Break")},role:"presentation"})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(5===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:5===n.userSort?null:"none",transform:t[5].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:J?null:"none"},children:(0,u.jsx)(U,{ref:Ce,component:"Break",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("Break")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),s.youthofAsset&&(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(6)},onKeyDown:function(){return Ae(6)},role:"presentation",className:j,title:"Youth",children:"Youth"})," ",(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.youthFilter&&n.youthFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("Youth")},onKeyDown:function(){return Ve("Youth")},role:"presentation"})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(6===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:6===n.userSort?null:"none",transform:t[6].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:X?null:"none"},children:(0,u.jsx)(U,{ref:De,component:"Youth",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("Youth")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),s.ukBoxOffice&&(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(7)},onKeyDown:function(){return Ae(7)},role:"presentation",className:j,title:"UK Box Office",children:"UK Box Office"}),(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.ukBoxOfficeFilter&&n.ukBoxOfficeFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("UkBoxOffice")},onKeyDown:function(){return Ve("UkBoxOffice")},role:"presentation"})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(7===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:7===n.userSort?null:"none",transform:t[7].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:te?null:"none"},children:(0,u.jsx)(U,{ref:Be,component:"UkBoxOffice",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("UkBoxOffice")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),s.usBoxOffice&&(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(8)},onKeyDown:function(){return Ae(8)},role:"presentation",className:j,title:"US Box Office",children:"US Box Office"}),(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.usBoxOfficeFilter&&n.usBoxOfficeFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("UsBoxOffice")},onKeyDown:function(){return Ve("UsBoxOffice")},role:"presentation"})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(8===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:8===n.userSort?null:"none",transform:t[8].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:ie?null:"none"},children:(0,u.jsx)(U,{ref:Ze,component:"UsBoxOffice",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("UsBoxOffice")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),s.adOptimisation&&(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(10)},onKeyDown:function(){return Ae(10)},role:"presentation",className:j,title:"AD Optimisation",children:"AD Optimisation"}),(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.adOptimisationFilter&&n.adOptimisationFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("AdOptimisation")},onKeyDown:function(){return Ve("AdOptimisation")},role:"presentation"})}),(0,u.jsx)("div",{className:"".concat(N," ").concat(10===n.userSort?"":k),children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:10===n.userSort?null:"none",transform:t[10].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:ve?null:"none"},children:(0,u.jsx)(U,{ref:Oe,component:"AdOptimisation",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("AdOptimisation")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{onClick:function(){return Ae(9)},onKeyDown:function(){return Ae(9)},role:"presentation",className:j,title:"Unweighted",children:"Unweighted"}),(0,u.jsx)("div",{className:"".concat(N," ").concat(9===n.userSort?"":k),children:(0,u.jsx)("img",{className:"".concat(v," mx-2"),src:n.unweightedFilter&&n.unweightedFilterValue?D:C,alt:"FilterIcon3",onClick:function(){return Ve("Unweighted")},onKeyDown:function(){return Ve("Unweighted")},role:"presentation"})}),(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{src:B,alt:"ArrowUpIcon3",style:{display:9===n.userSort?null:"none",transform:t[9].state?"rotate(0deg)":"rotate(180deg)"}})}),(0,u.jsx)("div",{className:_,style:{display:de?null:"none"},children:(0,u.jsx)(U,{ref:Ie,component:"Unweighted",filterModel:n,onClickedButtonFilter:Te,onClickedButtonClearFilter:function(){return c("Unweighted")},toggleDropdown:Ve,backdropClicked:Pe})})]})}),(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{style:{cursor:"default"},className:j,title:"Schedule",children:"Schedule"}),(0,u.jsx)("div",{className:N,children:(0,u.jsx)("img",{className:"".concat(y),style:{display:me?null:"none"},src:Z.Z,alt:"ClearFilterIcon",onClick:Ee,onKeyDown:Ee,role:"presentation"})})]})})]})},ce=n(6450),se=n(1459),de=n(8853);function ue(e){var t=e.schedules,n=e.callbackSelectSchedule,a=e.isLoading,r=e.scoringColumns,i=e.deleteSchedule,o=function(e){n(e)};return(0,u.jsxs)(u.Fragment,{children:[0===t.length&&(0,u.jsx)("tr",{className:"".concat(ce.Z.loadingHeight),children:(0,u.jsx)("td",{colSpan:"7",style:{fontSize:"50px",color:"#13ad83",textAlign:"center",backgroundColor:"transparent"},children:a?(0,u.jsx)("p",{style:{textAlign:"center"},children:(0,u.jsx)("i",{className:"".concat(ce.Z.faCircleNotchSpin," fas fa-circle-notch fa-spin")})}):(0,u.jsx)(u.Fragment,{children:"No Schedules Found"})})}),t.length>0&&(0,u.jsx)(u.Fragment,{children:t.map((function(e){return(0,u.jsxs)("tr",{className:"table-body-row",style:{cursor:"default"},children:[(0,u.jsx)("td",{className:"".concat(ce.Z.tdID," table-body-column"),"data-toggle":"tooltip","data-placement":"top",title:e.id,children:e.id}),(0,u.jsx)("td",{className:"".concat(ce.Z.td," table-body-column"),"data-toggle":"tooltip","data-placement":"top",title:e.period,children:e.period}),(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.weighted,children:e.weighted}),r.neatness&&(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.neatness,children:e.neatness}),r.strengthofPrimetime&&(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.primetime,children:e.primetime}),r.averageBreakTime&&(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.break,children:e.break}),r.youthofAsset&&(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.youth,children:e.youth}),r.ukBoxOffice&&(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.ukBoxOffice,children:e.ukBoxOffice}),r.usBoxOffice&&(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.usBoxOffice,children:e.usBoxOffice}),r.adOptimisation&&(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.adOptimisation,children:e.adOptimisation}),(0,u.jsx)("td",{className:"table-body-column ".concat(ce.Z.tableColumnNumber),"data-toggle":"tooltip","data-placement":"top",title:e.unweighted,children:e.unweighted}),(0,u.jsxs)("td",{className:"table-body-column",style:{textIndent:"60px"},children:[(0,u.jsx)("img",{name:e.id,style:{cursor:"pointer",marginLeft:"15px",marginRight:"15px",float:"right"},src:de.ap,alt:"ViewIcon",onClick:function(){return i(e)},onKeyDown:function(){return i(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",title:"Delete schedule"}),(0,u.jsx)("img",{name:e.id,style:{cursor:"pointer",marginLeft:"15px",float:"right"},src:se.Z,alt:"ViewIcon",onClick:function(){return o(e)},onKeyDown:function(){return o(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",title:"View schedule"})]})]},e.id)}))})]})}ue.defaultProps={isLoading:!0};var he=ue,fe=n(6029),me=n(2632),pe={channelOptions:["Sky Channel 1","Sky Channel 2","Sky Channel 3"],scheduleProgramsHeader:["Id","Weighted","Neatness","Primetime","Break","Youth","UK Box Office","US Box Office","Unweighted","Schedule"],months:[{id:1,value:"January"},{id:2,value:"February"},{id:3,value:"March"},{id:4,value:"April"},{id:5,value:"May"},{id:6,value:"June"},{id:7,value:"July"},{id:8,value:"August"},{id:9,value:"September"},{id:10,value:"October"},{id:11,value:"November"},{id:12,value:"December"}],year:function(){for(var e=[],t=2022;t<=2032;t+=1)e.push({id:t,name:t});return e},prioritisedProgramsHeader:["Title Name"]},ge=n(392),xe=n(2677),ve="YesNoModal_body__lijpy",ye="YesNoModal_description__iSMRo",Fe="YesNoModal_confirmationText__pVw9i",Se="YesNoModal_cancelButton__zGXC0",_e="YesNoModal_marginRight10__YC6fN",Ne="YesNoModal_saveButton__vdWZB",je="YesNoModal_marginTop30__fC33M";function be(e){var t=e.closeModal,n=e.confirmModal,a=e.yesButtonText,r=e.noButtonText,i=e.showModal,o=e.header,c=e.description;return(0,u.jsx)(l.Z,{show:i,centered:!0,size:"md",children:(0,u.jsxs)("div",{className:ve,style:{textAlign:"center"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:Fe,children:o}),(0,u.jsx)("p",{className:ye,children:c})]}),(0,u.jsxs)("div",{className:"".concat(je),children:[(0,u.jsx)("button",{className:"".concat(Se," ").concat(_e),onClick:t,type:"button",children:r}),(0,u.jsx)("button",{className:Ne,onClick:n,type:"button",children:a})]})]})})}be.defaultProps={yesButtonText:"Confirm",noButtonText:"Cancel",showModal:!1};var we=function(){var e=(0,o.s0)(),t=(0,o.TH)().state,n=(0,i.useState)(),c=(0,r.Z)(n,2),s=c[0],d=c[1],h=(0,i.useState)(!0),p=(0,r.Z)(h,2),g=p[0],x=p[1],v=(0,i.useState)(!0),y=(0,r.Z)(v,2),F=y[0],S=y[1],_=(0,i.useState)({channelId:0,month:0,year:0}),N=(0,r.Z)(_,2),j=N[0],b=N[1],w=(0,i.useState)([]),k=(0,r.Z)(w,2),C=k[0],D=k[1],B=(0,i.useState)(!0),Z=(0,r.Z)(B,2),I=Z[0],O=Z[1],M=(0,i.useState)(!0),V=(0,r.Z)(M,2),P=V[0],T=V[1],A=(0,i.useState)(!0),E=(0,r.Z)(A,2),R=E[0],U=E[1],Y=(0,i.useState)({totalCount:1,pageSize:1,currentPage:1,totalPages:1}),L=(0,r.Z)(Y,2),H=L[0],K=L[1],W=(0,i.useState)({pageNumber:1,pageSize:50}),J=(0,r.Z)(W,2),q=J[0],z=J[1],G=(0,i.useState)({userSort:2}),X=(0,r.Z)(G,2),Q=X[0],$=X[1],ee=(0,i.useState)({}),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],re=(0,i.useState)([{},{state:!0},{state:!1},{state:!1},{state:!1},{state:!1},{state:!1},{state:!1},{state:!1},{state:!1},{state:!1},{state:!1}]),ie=(0,r.Z)(re,2),oe=ie[0],se=ie[1],de=(0,i.useState)({neatness:!1,strengthofPrimetime:!1,averageBreakTime:!1,youthofAsset:!1,ukBoxOffice:!1,usBoxOffice:!1,adOptimisation:!1}),ue=(0,r.Z)(de,2),ve=ue[0],ye=ue[1],Fe=(0,i.useState)(0),Se=(0,r.Z)(Fe,2),_e=(Se[0],Se[1]),Ne=(0,i.useState)(""),je=(0,r.Z)(Ne,2),we=(je[0],je[1]),ke=(0,i.useState)(!1),Ce=(0,r.Z)(ke,2),De=(Ce[0],Ce[1]),Be=(0,i.useState)(""),Ze=(0,r.Z)(Be,2),Ie=Ze[0],Oe=Ze[1],Me=(0,i.useState)(!1),Ve=(0,r.Z)(Me,2),Pe=Ve[0],Te=Ve[1],Ae=(0,i.useState)(!0),Ee=(0,r.Z)(Ae,2),Re=Ee[0],Ue=Ee[1],Ye=(0,i.useState)({channel:"Please select a channel",month:0,year:0}),Le=(0,r.Z)(Ye,2),He=Le[0],Ke=Le[1],We=new Date,Je=(0,i.useState)({start:new Date(We.getFullYear(),We.getMonth(),We.getDate()),end:new Date(We.getFullYear(),We.getMonth()+2,0)}),qe=(0,r.Z)(Je,2),ze=qe[0],Ge=qe[1],Xe=new Date(We.getFullYear(),We.getMonth(),We.getDate()),Qe=new Date(We.getFullYear()+3,We.getMonth(),We.getDate()),$e=(0,i.useState)({}),et=(0,r.Z)($e,2),tt=et[0],nt=et[1],at=(0,i.useState)(!1),rt=(0,r.Z)(at,2),it=rt[0],ot=rt[1],lt=(0,i.useState)(!1),ct=(0,r.Z)(lt,2),st=ct[0],dt=ct[1],ut=(0,i.useState)(0),ht=(0,r.Z)(ut,2),ft=ht[0],mt=ht[1],pt=function(e){nt((function(t){return(0,a.Z)((0,a.Z)({},t),{},{start:e})}))},gt=function(e){nt((function(t){return(0,a.Z)((0,a.Z)({},t),{},{end:e})}))},xt=function(e){fe.Z.getChannelScoring(e).then((function(e){var t,n,a,r,i,o,l;e.data.scores.map((function(e){switch(e.name){case"Neatness":t=e.enabled;break;case"Strength of Primetime":n=e.enabled;break;case"Average Break Time":a=e.enabled;break;case"Youth of Asset":r=e.enabled;break;case"UK Box Office":i=e.enabled;break;case"US Box Office":o=e.enabled;break;case"Ad Optimisation":l=e.enabled}return!0})),ye({neatness:t,strengthofPrimetime:n,averageBreakTime:a,youthofAsset:r,ukBoxOffice:i,usBoxOffice:o,adOptimisation:l})}))},vt=function(){x(!0);var e=function(){var e=null==j.channelId?0:j.channelId,t="?channelId=".concat(e),n=void 0!==Q.iDFilter?"&iDFilter=".concat(Q.iDFilter):"",a=void 0!==Q.iDFilterValue?"&iDFilterValue=".concat(Q.iDFilterValue):"",r=void 0!==Q.weightedFilter?"&weightedFilter=".concat(Q.weightedFilter):"",i=void 0!==Q.weightedFilterValue?"&weightedFilterValue=".concat(Q.weightedFilterValue):"",o=void 0!==Q.neatnessFilter?"&neatnessFilter=".concat(Q.neatnessFilter):"",l=void 0!==Q.neatnessFilterValue?"&neatnessFilterValue=".concat(Q.neatnessFilterValue):"",c=void 0!==Q.primetimeFilter?"&primetimeFilter=".concat(Q.primetimeFilter):"",s=void 0!==Q.primetimeFilterValue?"&primetimeFilterValue=".concat(Q.primetimeFilterValue):"",d=void 0!==Q.breakFilter?"&breakFilter=".concat(Q.breakFilter):"",u=void 0!==Q.breakFilterValue?"&breakFilterValue=".concat(Q.breakFilterValue):"",h=void 0!==Q.youthFilter?"&youthFilter=".concat(Q.youthFilter):"",f=void 0!==Q.youthFilterValue?"&youthFilterValue=".concat(Q.youthFilterValue):"",m=void 0!==Q.ukBoxOfficeFilter?"&ukBoxOfficeFilter=".concat(Q.ukBoxOfficeFilter):"",p=void 0!==Q.ukBoxOfficeFilterValue?"&ukBoxOfficeFilterValue=".concat(Q.ukBoxOfficeFilterValue):"",g=void 0!==Q.usBoxOfficeFilter?"&usBoxOfficeFilter=".concat(Q.usBoxOfficeFilter):"",x=void 0!==Q.usBoxOfficeFilterValue?"&usBoxOfficeFilterValue=".concat(Q.usBoxOfficeFilterValue):"",v=void 0!==Q.unweightedFilter?"&unweightedFilter=".concat(Q.unweightedFilter):"",y=void 0!==Q.unweightedFilterValue?"&unweightedFilterValue=".concat(Q.unweightedFilterValue):"",F=void 0!==Q.adOptimisationFilter?"&adOptimisationFilter=".concat(Q.adOptimisationFilter):"",S=void 0!==Q.adOptimisationFilterValue?"&adOptimisationFilterValue=".concat(Q.adOptimisationFilterValue):"",_=void 0!==Q.periodFilter?"&periodFilter=".concat(Q.periodFilter):"",N=void 0!==Q.periodFilterStartRange?new Date(Q.periodFilterStartRange):"",b=void 0!==Q.periodFilterStartRange?"&periodFilterStartRange=".concat(xe.Z.toIsoDateFormat(N.setDate(N.getDate()))):"",w=void 0!==Q.periodFilterEndRange?new Date(Q.periodFilterEndRange):"",k=void 0!==Q.periodFilterEndRange?"&periodFilterEndRange=".concat(xe.Z.toIsoDateFormat(w.setDate(w.getDate()))):"",C=void 0!==Q.userSort?"&generatedScoreSort=".concat(Q.userSort):"",D=void 0!==Q.sortBy?"&sortBy=".concat(Q.sortBy):"";return"".concat(t,"&pageNumber=").concat(q.pageNumber||1,"&pageSize=").concat(q.pageSize).concat(n).concat(a).concat(r).concat(i).concat(o).concat(l).concat(c).concat(s).concat(d).concat(u).concat(h).concat(f).concat(m).concat(p).concat(g).concat(x).concat(v).concat(y).concat(F).concat(S).concat(_).concat(b).concat(k).concat(C).concat(D)}();fe.Z.getSchedules(e).then((function(e){D(e.data.scores),K({totalCount:e.data.totalCount,pageSize:e.data.pageSize,currentPage:e.data.currentPage,totalPages:e.data.totalPages});var t=e.data;_e(t.currentProgress),De(t.currentProgress>0),O(!t.generateEnabled),T(!t.generateEnabled),Oe(t.generateText),we(t.generateText),e.data.currentPage!==q.pageNumber&&z({pageNumber:e.data.currentPage,pageSize:q.pageSize}),U("No programme titles"===t.generateText)})).finally((function(){return x(!1)}))},yt=function(){T(!0);var e={ChannelId:j.channelId,Start:xe.Z.toIsoDateFormat(ze.start),End:xe.Z.toIsoDateFormat(ze.end)};fe.Z.generateSchedules(e).then((function(){(0,me.Vp)("Generate process started"),T(!1),Te(!1),vt()}))},Ft=(0,i.useState)(0),St=(0,r.Z)(Ft,2),_t=St[0],Nt=St[1],jt=(0,i.useState)(),bt=(0,r.Z)(jt,2),wt=bt[0],kt=bt[1],Ct=function(){fe.Z.saveScheduleSession(function(e){var t=e.channelId||e.channelID?"?channelId=".concat(e.channelId?e.channelId:e.channelID):"",n=e.periodFrom?"&periodFrom=".concat(xe.Z.toIsoDateFormat(e.periodFrom)):"",a=e.periodTo?"&periodTo=".concat(xe.Z.toIsoDateFormat(e.periodTo)):"";return"".concat(t).concat(n).concat(a)}(wt))},Dt=function(t){e("".concat("","/scheduler"),{state:{data:t,filter:j,period:ze}})};return(0,i.useEffect)((function(){if(null!==t){var e=t.scheduledata,n=t.scheduleInfo;b(e),Ke({channel:n.channelName,month:n.month,year:e.year}),xt(e.channelId),pt(t.period.start),gt(t.period.end)}fe.Z.getChannels().then((function(e){var t=e.data,n=[];t.map((function(e){return n.push({id:e.channelId,name:e.channelName}),!0})),d(n),Ue(!1)}))}),[]),(0,i.useEffect)((function(){0===j.channelId||null===j.channelId||g?x(!1):vt()}),[j,Q,q,ze]),(0,i.useEffect)((function(){s&&!t&&(S(!0),fe.Z.getScheduleSession().then((function(e){var t=new Date,n=s.find((function(t){return t.id===e.data.channelID}));e.data.monthID>0?pe.months.find((function(t){return t.id===e.data.monthID})):pe.months[t.getMonth()-1],pe.year().find((function(t){return t.name.toString()===e.data.year})),kt(e.data),b((0,a.Z)((0,a.Z)({},j),{},{channelId:n?n.id:null})),Ke({channel:n?n.name:"Please select a channel"}),nt({start:new Date(e.data.periodFrom),end:new Date(e.data.periodTo)}),Ge({start:new Date(e.data.periodFrom),end:new Date(e.data.periodTo)}),n&&xt(n.id),S(!1)})))}),[s]),(0,i.useEffect)((function(){wt&&(_t>0&&Ct(),Nt(_t+1))}),[wt]),(0,i.useEffect)((function(){T(I),ze.start<Xe&&T(!0),ze.end>Qe&&T(!0)}),[ze]),(0,u.jsxs)("div",{children:[(0,u.jsx)(f,{componentName:"Schedules",channels:s,callbackSelectChannelFunction:function(e){z((function(e){return(0,a.Z)((0,a.Z)({},e),{},{pageNumber:1})})),b((function(t){return(0,a.Z)((0,a.Z)({},t),{},{channelId:e})})),xt(e)},callbackSelectMonthFunction:function(e){z((function(e){return(0,a.Z)((0,a.Z)({},e),{},{pageNumber:1})})),b((function(t){return(0,a.Z)((0,a.Z)({},t),{},{month:e})}))},callbackSelectYearFunction:function(e){z((function(e){return(0,a.Z)((0,a.Z)({},e),{},{pageNumber:1})})),b((function(t){return(0,a.Z)((0,a.Z)({},t),{},{year:e.name})}))},callbackGenerateSchedule:function(){yt()},callbackCheckPriorityList:function(){},onChangeFormSetScheduleSessionParameters:function(e){kt((0,a.Z)((0,a.Z)({},wt),e))},disabledGenerate:P,defaultSelected:He,hiddenSelectChannels:Re,callbackCreateSchedule:function(){var e=ze.start,t=ze.end,n={id:0,period:("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()+" - "+(("0"+t.getDate()).slice(-2)+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+t.getFullYear())};ge.Z.setSelectedSchedule({data:n,filter:j,period:ze}),Dt(n)},isLoading:F,callbackSelectPeriod:function(e){Ge(e)},disabledCreateSchedule:R,setPeriodFilterStartRange:pt,setPeriodFilterEndRange:gt,selectedPeriod:tt,setPeriod:function(e){return Ge(e)}}),!1,(0,u.jsxs)("div",{style:{marginTop:"10px"},children:["No programme titles and segments"===Ie&&(0,u.jsx)("div",{style:{color:"#ff7878"},children:"No programme titles and segments found."}),"No segments"===Ie&&(0,u.jsxs)("div",{style:{color:"#ff7878"},children:["No segments found for the available programme titles under the selected period of the selected channel. To generate schedules, please go to ",(0,u.jsx)("strong",{children:"Prioritisation"}),", select the channel with the same period, then click ",(0,u.jsx)("strong",{children:"Get Segments"}),"."]}),"No programme titles"===Ie&&(0,u.jsx)("div",{style:{color:"#ff7878"},children:"No programme titles found for the selected channel and period."})]}),(0,u.jsx)("hr",{style:{background:"#c8c8c8"}}),(0,u.jsx)("div",{className:"d-flex",children:(0,u.jsx)("div",{style:{width:"100%"},children:(0,u.jsx)(m.Z,{component:(0,u.jsx)(he,{schedules:C,callbackSelectSchedule:function(e){ge.Z.setSelectedSchedule({data:e,filter:j,period:ze}),Dt(e)},isLoading:g,scoringColumns:ve,disabledGenerate:P,deleteSchedule:function(e){mt(e.id),ot(!0)}}),paginationParameters:H,paginate:function(e,t){x(!0),z({pageNumber:e,pageSize:t}),x(!1)},stylesTable:ce.Z.divTableHeight,hasExport:!1,tableHeader:(0,u.jsx)(le,{filterModel:Q,sortBy:oe,handleSetSortBy:function(e){var t=oe;!0===t[e].state?t[e].state=!1:t[e].state=!0,se(t),ae({userSort:e,sortBy:t[e].state?1:2})},onClickedButtonFilter:function(e){$(e)},onClickedButtonClearAllFilters:function(e,t){$({userSort:ne.userSort,sortBy:ne.sortBy,useCache:!0})},clearFilterModel:function(e){$(e)},scoringColumns:ve}),isTableBodyLoading:g})})}),(0,u.jsx)(l.Z,{size:"md",show:Pe,onHide:function(){return Te(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,u.jsxs)(l.Z.Body,{style:{padding:"35px"},children:[(0,u.jsxs)("div",{style:{textAlign:"center"},children:["There are already generated schedules for this channel under the selected period."," "]}),(0,u.jsx)("div",{style:{textAlign:"center"},children:"Generating new schedules will delete all existing schedules of this channel under the selected period."}),(0,u.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:(0,u.jsx)("b",{children:" Are you sure you want to generate again?"})}),(0,u.jsxs)("div",{style:{textAlign:"center",paddingTop:"30px"},children:[(0,u.jsx)("button",{className:ce.Z.cancelButton,onClick:function(){return Te(!1)},style:{marginLeft:"0"},type:"button",children:"Cancel"}),(0,u.jsx)("button",{className:ce.Z.saveButton,onClick:function(){return yt()},type:"button",children:"Generate"})]})]})}),(0,u.jsx)(be,{closeModal:function(){return ot(!1)},confirmModal:function(){st||(dt(!0),fe.Z.deleteSchedule(ft).then((function(e){(0,me.Vp)("Schedule successfully deleted"),vt()})).finally((function(){dt(!1),ot(!1)})))},yesButtonText:"Delete",showModal:it,header:"Are you sure you want to delete this schedule?",description:"This action cannot be undone and all data associated with this schedule will be permanently removed."})]})}},9791:function(e,t,n){n.d(t,{Z:function(){return x}});var a=n(885),r=n(2791),i=n(2426),o=n.n(i),l="styles_dateInput__T4igz",c="styles_dateInputWrapper__JFOLF",s="styles_dayInput__kWYrH",d="styles_monthInput__CpknJ",u="styles_yearInput__2I+id",h="styles_inputDivider__E1qa5",f="styles_invalidInput__jRCSu",m="styles_errorMessage__TNcHK",p="styles_disabledInput__w4mu9",g=n(184),x=(0,r.forwardRef)((function(e,t){var n=e.value,i=e.dayStart,x=e.monthStart,v=e.yearStart,y=e.dayEnd,F=e.monthEnd,S=e.yearEnd,_=e.onChange,N=e.disabled,j=e.validate,b=e.onValidate,w=e.requiredDateMessage,k=e.exceededDateMessage,C=e.min,D=e.max,B=e.autoFocus,Z=e.width,I=(0,r.useRef)(),O=(0,r.useRef)(),M=(0,r.useRef)(),V=(0,r.useState)(!1),P=(0,a.Z)(V,2),T=P[0],A=P[1],E=(0,r.useState)(""),R=(0,a.Z)(E,2),U=R[0],Y=R[1],L=(0,r.useState)(""),H=(0,a.Z)(L,2),K=H[0],W=H[1],J=(0,r.useState)(""),q=(0,a.Z)(J,2),z=q[0],G=q[1],X=(0,r.useState)(0),Q=(0,a.Z)(X,2),$=Q[0],ee=Q[1],te=(0,r.useState)(!1),ne=(0,a.Z)(te,2),ae=ne[0],re=ne[1],ie="function"===typeof b&&j,oe=function(){setTimeout((function(){I.current.focus(),I.current.select()}),0)},le=function(){setTimeout((function(){O.current.focus(),O.current.select()}),0)},ce=function(){setTimeout((function(){M.current.focus(),M.current.select()}),0)},se=function(e){return e.target.select()},de=function(e){e.stopPropagation();var t=e.target.name;"day"===t&&oe(),"month"===t&&le(),"year"===t&&ce()},ue=function(e){if("year"===e.target.name){if(!pe(e.target.value)&&"02"===K){var t=he(parseInt("02"));U>t&&Y(t)}if(pe(e.target.value)&&"02"===K&&parseInt(U)>29&&Y("29"),"02"!==K){var n=he(K);U>n&&Y(n)}}ee(0)},he=function(e){return new Date((new Date).getFullYear(),e,0).getDate()},fe=function(e){return 1===e.toString().length?"0".concat(e):"0"===e[0]?e.substring(1,3):e},me=function(e){return 1===e.length?"000".concat(e):2===e.length?"00".concat(e):3===e.length?"0".concat(e):5===e.length&&"0"===e[0]?e.substring(1,5):e},pe=function(e){return e%4===0&&e%100!==0||e%400===0},ge=function(e){var t=e.target.name,n=["day","month"].includes(t),a=e.target.value.split("").filter((function(e){return!isNaN(e)&&!isNaN(parseFloat(e))})).join(""),r="0"===(a=n?fe(a):me(a))[0],i=a&&!function(e,t){var n=parseInt(e);if("day"===t){var a=K?he(parseInt(K)):31;return 2===parseInt(K)&&pe(z)&&(a+=1),n<=a}return"month"!==t||n<=12}(a,t);if(1!==$&&3!==a.length||2!==a.length&&!i||("day"===t?le():ce()),n){if(!r&&(function(e){return 3===e.length}(a)||i))return!1}else if(!r&&(function(e){return 5===e.length}(a)||i))return!1;"day"===t?Y(a):"month"===t?W(a):G(a),ee($+1),A(!0)},xe=function(e){var t=C&&function(e){var t=new Date(C);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e<t}(e),n=D&&function(e){var t=new Date(D);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e>t}(e);return t||n};return(0,r.useEffect)((function(){(!n||T)&&U&&K&&z||(n&&o()(n).isValid()?function(e){var t=new Date(e),n=t.getDate(),a=t.getMonth()+1,r=t.getFullYear(),i=fe(n),o=fe(a),l=me(r);Y(i),W(o),G(l)}(n):(i&&Y(i),y&&Y(y),x&&W(x),F&&W(F),v&&G(v),S&&G(S)))}),[n]),(0,r.useEffect)((function(){if(T)if(U&&K&&z&&"00"!==U&&"00"!==K&&"0000"!==z){var e=new Date(parseInt(z),parseInt(K)-1,parseInt(U),0,0,0,0);"function"===typeof _&&_(e);var t=xe(e);re(t),"function"===typeof b&&b(t)}else"function"===typeof _&&_(null,U,K,z)}),[U,K,z]),(0,r.useEffect)((function(){B&&oe()}),[B]),(0,g.jsxs)("div",{className:l,style:{width:Z},children:[(0,g.jsxs)("div",{ref:t,className:"".concat(c," ").concat(!ie||n&&!ae||N?"":f," ").concat(N?p:""),style:{width:Z},onClick:oe,children:[(0,g.jsx)("input",{ref:I,className:s,style:{marginLeft:U&&"-5px"},value:U,name:"day",type:"text",placeholder:"DD",onChange:ge,onKeyDown:function(e){if("ArrowRight"===e.key&&le(),"ArrowUp"===e.key){var t=parseInt(U)+1;t<=he(K)&&Y(fe(t.toString()))}if("ArrowDown"===e.key){var n=parseInt(U)-1;n>=1&&Y(fe(n.toString()))}"Backspace"===e.key&&(Y(""),ee(0),A(!0))},onFocus:se,onClick:de,onBlur:ue,disabled:N,autoComplete:"off"}),(0,g.jsx)("span",{className:h,children:"/"}),(0,g.jsx)("input",{ref:O,className:d,value:K,name:"month",type:"text",placeholder:"MM",onChange:ge,onKeyDown:function(e){if("ArrowRight"===e.key&&ce(),"ArrowLeft"===e.key&&oe(),"ArrowUp"===e.key){var t=parseInt(K)+1;t<=12&&W(fe(t.toString()))}if("ArrowDown"===e.key){var n=parseInt(K)-1,a=he(n);n>=1&&W(fe(n.toString())),U>a&&Y(a)}"Backspace"===e.key&&(W(""),ee(0),A(!0))},onFocus:se,onClick:de,onBlur:ue,disabled:N,autoComplete:"off",style:{width:function(e){var t=e.toString();return"11"===t?"10px":["01","10"].includes(t)?"13px":"07"===t?"16px":t.includes("0")?"17px":"12"===t?"13px":"19px"}(K)}}),(0,g.jsx)("span",{className:h,children:"/"}),(0,g.jsx)("input",{ref:M,className:u,value:z,name:"year",type:"text",placeholder:"YYYY",onChange:ge,onKeyDown:function(e){if("ArrowLeft"===e.key&&le(),"ArrowUp"===e.key){var t=parseInt(z)+1;t<=9999&&G(me(t.toString()))}if("ArrowDown"===e.key){var n=parseInt(z)-1;n>=0&&G(me(n.toString()))}"Backspace"===e.key&&(G(""),A(!0))},onFocus:se,onClick:de,onBlur:ue,disabled:N,autoComplete:"off"})]}),!n&&!N&&ie&&(0,g.jsx)("span",{className:m,children:w||"Date is required"}),ae&&n&&!N&&ie&&(0,g.jsx)("span",{className:m,children:k||"Date exceeded date period"})]})}))},1103:function(e,t,n){n.d(t,{Z:function(){return x}});var a=n(4942),r=n(885),i=n(2791),o=n(9791),l="styles_dateRange__0PJkz",c="styles_dateInput__HjJbJ",s="styles_startDateWrapper__5WQVY",d="styles_endDateWrapper__d6kO1",u="styles_dateRangeWrapper__BlW6u",h="styles_label__JA+3W",f="styles_errorMessage__A6htc",m="styles_labelLeft__BqCFV",p="styles_spaceBetween__AfqRa",g=n(184),x=(0,i.forwardRef)((function(e,t){var n=e.startSettings,x=void 0===n?{value:null,label:"",labelLeft:!1,disabled:!1,required:!1,width:null}:n,v=e.endSettings,y=void 0===v?{value:null,label:"",labelLeft:!1,disabled:!1,required:!1,width:null}:v,F=e.min,S=e.max,_=e.validate,N=e.onValidate,j=e.onChange,b=e.invalidDateMessage,w=(0,i.useRef)(),k=(0,i.useRef)(),C=(0,i.useState)(null),D=(0,r.Z)(C,2),B=D[0],Z=D[1],I=(0,i.useState)(null),O=(0,r.Z)(I,2),M=O[0],V=O[1],P=(0,i.useState)(null),T=(0,r.Z)(P,2),A=T[0],E=T[1],R=(0,i.useState)(null),U=(0,r.Z)(R,2),Y=U[0],L=U[1],H=(0,i.useState)(null),K=(0,r.Z)(H,2),W=K[0],J=K[1],q=(0,i.useState)(null),z=(0,r.Z)(q,2),G=z[0],X=z[1],Q=(0,i.useState)(null),$=(0,r.Z)(Q,2),ee=$[0],te=$[1],ne=(0,i.useState)(null),ae=(0,r.Z)(ne,2),re=ae[0],ie=ae[1],oe=(0,i.useState)(!1),le=(0,r.Z)(oe,2),ce=le[0],se=le[1],de="function"===typeof N&&_,ue=ce&&!x.disabled&&!y.disabled&&de,he=!x.disabled&&!B&&x.required&&de,fe=!y.disabled&&!M&&y.required&&de,me=function(e,t,n,r,i){var o;("start"===e?Z(t):V(t),"function"===typeof j)&&j((o={start:"start"===e?t:B,end:"end"===e?t:M,dayStart:"start"===e?n:A,monthStart:"start"===e?r:W,yearStart:"start"===e?i:ee},(0,a.Z)(o,"end","end"===e?t:M),(0,a.Z)(o,"dayEnd","end"===e?n:Y),(0,a.Z)(o,"monthEnd","end"===e?r:G),(0,a.Z)(o,"yearEnd","end"===e?i:re),o))};return(0,i.useEffect)((function(){var e=B&&(F&&B<F||S&&B>S)||B&&M&&B>M||M&&S&&(M<F||M>S);se(e),de&&N(e)}),[B,M]),(0,i.useEffect)((function(){Z(x.value),V(y.value),E(x.dayStart),L(y.dayEnd),J(x.monthStart),X(y.monthEnd),te(x.yearStart),ie(y.yearEnd)}),[x,y]),(0,g.jsxs)("div",{className:l,children:[(0,g.jsxs)("div",{ref:t,className:u,children:[(0,g.jsxs)("div",{className:"".concat(s," ").concat(x.labelLeft&&m),children:[null!==x.label&&(0,g.jsx)("span",{className:h,children:x.label||"Start"}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(o.Z,{ref:w,value:x.value,dayStart:x.dayStart,monthStart:x.monthStart,yearStart:x.yearStart,min:F,max:M,onChange:function(e,t,n,a){return me("start",e,t,n,a)},validate:he,disabled:x.disabled,width:x.width})})]}),!y.labelLeft&&(0,g.jsx)("div",{className:p}),(0,g.jsxs)("div",{className:"".concat(d," ").concat(y.labelLeft&&m),children:[null!==y.label&&(0,g.jsx)("span",{className:h,children:y.label||"End"}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(o.Z,{ref:k,value:y.value,dayEnd:y.dayEnd,monthEnd:y.monthEnd,yearEnd:y.yearEnd,min:B,max:S,onChange:function(e,t,n,a){return me("end",e,t,n,a)},validate:fe,disabled:y.disabled,width:y.width})})]})]}),he&&!fe&&(0,g.jsx)("span",{className:f,children:"Start date is required"}),fe&&!he&&(0,g.jsx)("span",{className:f,children:"End date is required"}),he&&fe&&(0,g.jsx)("span",{className:f,children:"Start date and End date are required"}),ue&&(0,g.jsx)("span",{className:f,children:b||"Date range is invalid"})]})}))}}]);
//# sourceMappingURL=963.3d7b05f6.chunk.js.map