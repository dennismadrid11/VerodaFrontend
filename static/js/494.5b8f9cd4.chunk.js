"use strict";(self.webpackChunksky=self.webpackChunksky||[]).push([[494],{7853:function(e,t,a){a(2791);t.Z=a.p+"static/media/Vector.3bad804acc57a5bd5969c1dffefce226.svg"},2441:function(e,t,a){var n=a(4569),i=a.n(n),r={savePriotisation:function(e){var t="".concat("https://localhost:44357/api/","Title/SavePrioritisation");return i().post(t,e)},getChannels:function(){var e="".concat("https://localhost:44357/api/","Channel/GetChannelLookup");return i().get(e)},getTitles:function(e,t,a,n){var r=null===a?[]:a,o="".concat("https://localhost:44357/api/","Title/GetProgrammeTitlesList").concat(e,"&channelId=").concat(t.channelId,"&month=").concat(t.month,"&year=").concat(t.year,"&fromSearch=").concat(n);return i().post(o,r)},getPriorityList:function(e){var t="".concat("https://localhost:44357/api/","Title/GetPrioritisationList?channelId=").concat(e.channelId,"&month=").concat(e.month,"&year=").concat(e.year);return i().get(t)},getTitleByID:function(e,t){var a="".concat("https://localhost:44357/api/","Title/GetTitleDetails?titleId=").concat(e,"&channelId=").concat(t);return i().get(a)},uploadFile:function(e,t,a,n,r){var o="".concat("https://localhost:44357/api/","Title/ImportExcelFile?channelId=").concat(t,"&year=").concat(a,"&month=").concat(n,"&fileExtension=").concat(r);return i().post(o,e)},getSegments:function(e){var t="".concat("https://localhost:44357/api/","Title/GetSegments/").concat(e);return i().get(t)},exportUploadSample:function(){var e="".concat("https://localhost:44357/api/","Title/ExportTitleUploader");return i().get(e,{responseType:"arraybuffer"})},generateSegments:function(e){var t="".concat("https://localhost:44357/api/","Title/GenerateSegments?ChannelId=").concat(e.channelId,"&Month=").concat(e.month,"&Year=").concat(e.year);return i().get(t)},getPrioritisationSession:function(){var e="".concat("https://localhost:44357/api/","Channel/GetPrioritisationSession");return i().get(e)},savePrioritisationSession:function(e){var t="".concat("https://localhost:44357/api/","Channel/AddPrioritisationSession").concat(e);return i().post(t,e)},getTitleGroupList:function(e,t){var a="".concat("https://localhost:44357/api/","TitleGroup/GetTitlesGroupList").concat(e,"&initial=").concat(t);return i().get(a)},getTitleGroupPrograms:function(e,t,a,n){var r="".concat("https://localhost:44357/api/","Schedule/GetTitleGroupPrograms?searchKey=").concat(e,"&channelId=").concat(t,"&start=").concat(a,"&end=").concat(n);return i().get(r)},saveTitleGroupPriotisation:function(e){var t="".concat("https://localhost:44357/api/","TitleGroup/SaveTitleGroupPrioritisation");return i().post(t,e)}};t.Z=r},1715:function(e,t,a){var n=a(4569),i=a.n(n),r={getUser:function(e){var t="".concat("https://localhost:44357/api/","user/").concat(e);return i().get(t)},updateUser:function(e,t){var a="".concat("https://localhost:44357/api/","user/").concat(e);return i().put(a,t)},changePassword:function(e,t){var a="".concat("https://localhost:44357/api/","user/changepassword/").concat(e);return i().patch(a,t)}};t.Z=r},3653:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ke}});var n=a(2982),i=a(1413),r=a(885),o=a(2791),l=(a(9285),"TitleExclusion_selectChannel__M0Jdg"),s="TitleExclusion_selectChannelLabel__NjhBz",c="TitleExclusion_uploadFileIcon__z1O8q",d="TitleExclusion_downloadFileIcon__I4Sd3",u="TitleExclusion_disabledDownloadFileIcon__hddp8",f="TitleExclusion_disabledUploadFileIcon__hVLSk",m="TitleExclusion_isExportingDownloadFileIcon__UyI7E",h=a(8853);var p=a.p+"static/media/IndefiniteCalendar.bc91ea29d15eb30645ebf59aae30778d.svg";var v=a.p+"static/media/DefinedCalendar.2eeb392ce51f5c82bf6d02dd4e8626a1.svg",g=a(6033),x=a(1746),y={dualTable:"styles_dualTable__kzEmO",tableOne:"styles_tableOne__h3R3x",tableTwo:"styles_tableTwo__VI9qd",actionButtons:"styles_actionButtons__Woqrp",tableLabel:"styles_tableLabel__2SW5Z",searchWrapper:"styles_searchWrapper__PkONb",search:"styles_search__8Ohgj",timesIcon:"styles_timesIcon__cJBoY",searchIcon:"styles_searchIcon__eKK3n",timesIconWrapper:"styles_timesIconWrapper__vLyQI",searchIconWrapper:"styles_searchIconWrapper__Tqcnr",noDataComponent:"styles_noDataComponent__RwTBB",textWrapper:"styles_textWrapper__A47L7",verbiage:"styles_verbiage__EgJjg",dragButton:"styles_dragButton__gu1fq"},D=a(3594),_=a(8782),S=a(184);function b(e){var t=e.withOrdering,a=e.tableHeaders,l=void 0===a?[]:a,s=e.tableDatas,c=void 0===s?[]:s,d=e.tablesHeight,u=void 0===d?[]:d,f=e.tableLabels,m=void 0===f?[]:f,h=e.noDataVerbiage,p=void 0===h?[]:h,v=e.isFetchingDatas,g=void 0===v?[]:v,x=e.tableParameters,b=e.sortParameters,Z=e.paginationParameters,w=e.onFilter,N=e.onClearFilters,T=e.onSearch,j=e.onSort,I=e.onPaginate,E=e.onAddSelected,C=e.onRemoveAll,F=e.onRemoveSelected,A=e.onChangeTableTwoData,M=e.onAction,k=e.shouldScrollToView,B=e.setShouldScrollToView,L=e.onShowSetDateModal,V=e.shouldClearSelected,P=(0,o.useState)(!1),Y=(0,r.Z)(P,2),O=Y[0],R=Y[1],H=(0,o.useState)(!1),q=(0,r.Z)(H,2),z=q[0],J=q[1],U=(0,o.useState)([]),W=(0,r.Z)(U,2),G=W[0],Q=W[1],K=(0,o.useState)([]),X=(0,r.Z)(K,2),$=X[0],ee=X[1],te=(0,o.useState)([]),ae=(0,r.Z)(te,2),ne=ae[0],ie=ae[1],re=(0,o.useState)([]),oe=(0,r.Z)(re,2),le=oe[0],se=oe[1],ce=(0,o.useState)([]),de=(0,r.Z)(ce,2),ue=de[0],fe=de[1],me=(0,o.useState)(""),he=(0,r.Z)(me,2),pe=(he[0],he[1]),ve=(0,o.useState)(""),ge=(0,r.Z)(ve,2),xe=ge[0],ye=(ge[1],(0,o.useState)(!1)),De=(0,r.Z)(ye,2),_e=(De[0],De[1],(0,o.useRef)()),Se=(0,o.useState)(!1),be=(0,r.Z)(Se,2),Ze=be[0],we=be[1],Ne=(0,o.useState)(!0),Te=(0,r.Z)(Ne,2),je=(Te[0],Te[1],(0,o.useState)({order:1,sort:1})),Ie=(0,r.Z)(je,2),Ee=Ie[0],Ce=Ie[1],Fe=(0,o.useState)({pageSize:50,currentPage:1}),Ae=(0,r.Z)(Fe,2),Me=Ae[0],ke=Ae[1],Be=(0,o.useState)({page:1,size:50}),Le=(0,r.Z)(Be,2),Ve=Le[0],Pe=(Le[1],function(e,t){return(0,S.jsx)("div",{className:y.noDataComponent,style:{height:"calc(100vh + 120px - ".concat(t,")")},children:(0,S.jsx)("div",{className:y.textWrapper,children:(0,S.jsx)("p",{className:y.verbiage,children:e})})})}),Ye=function(){var e=ue[0];return $.findIndex((function(t){return t[Object.keys(t)[0]]===e[Object.keys(e)[0]]}))},Oe=function(e){var t=Ye(),a=$[t],i=(0,n.Z)($);return i.splice(t,1),i.splice(e,0,a),i},Re=function(e,t){ee(e);var a=function(e){var t=0;switch(e){case"first":t=0;break;case"up":t=Ye()-1;break;case"down":t=Ye()+1;break;case"last":t=$.length-1}var a=Me.size?Me.size:50;return Math.ceil(++t/a)}(t),n=a,i=Me.pageSize,r=1===n?0:(n-1)*i,o=e.slice(r,r+i);ie(o),ke({pageSize:i,totalCount:o.length,currentPage:n,totalPages:Math.ceil(e.length/i)})},He=function(){setTimeout((function(){B(!0)}),100)},qe=function(e,t){fe([]),J(!0);var a=e,n=1===a?0:(a-1)*t,i=JSON.parse(JSON.stringify($));for(i=1===Ee.order?i.sort((function(e,t){return e.titleName.toLowerCase()>t.titleName.toLowerCase()?1:-1})):i.sort((function(e,t){return e.titleName.toLowerCase()>t.titleName.toLowerCase()?-1:1}));n>=i.length;)n=1===(a-=1)?0:(a-1)*t;var r=i.slice(n,n+t);ie(r),ke({totalCount:i.length,pageSize:t,currentPage:0===e?1:e,totalPages:Math.ceil(i.length/t)})},ze=[{id:1,icon:D.Fy,action:function(){var e=Oe(0);Re(e,"first"),He()}},{id:2,icon:D.WZ,action:function(){if(Ye()-1>=0){var e=Oe(Ye()-1);Re(e,"up"),He()}}},{id:3,icon:D.JB,action:function(){var e=Oe(Ye()+1);Re(e,"down"),He()}},{id:4,icon:D.td,action:function(){var e=Oe($.length);Re(e,"last"),He()}}];return(0,o.useEffect)((function(){if(Me.currentPage>Me.totalPages){ke((function(e){return(0,i.Z)((0,i.Z)({},e),{},{currentPage:Me.totalPages})})),ke((function(e){return(0,i.Z)((0,i.Z)({},e),{},{page:Me.totalPages})}));var e=Ve.size,t=1===Me.totalPages?0:(Me.totalPages-1)*e,a=ne.slice(t,t+e);ie(a)}}),[Me]),(0,o.useEffect)((function(){1===ue.length&&function(){var e=ue[0],t=$;t[$.findIndex((function(t){return t[Object.keys(t)[0]]===e[Object.keys(e)[0]]}))].scrollTo=!0,ee(t)}()}),[ue]),(0,o.useEffect)((function(){c[0]&&Q(c[0]),c[1]&&ee(c[1])}),[c]),(0,o.useEffect)((function(){$&&$.length>0&&qe(Me.currentPage,Me.pageSize)}),[$]),(0,o.useEffect)((function(){var e=$.sort((function(e,t){return e[Object.keys(e)[0]]-t[Object.keys(t)[0]]})),t=c[1].sort((function(e,t){return e[Object.keys(e)[0]]-t[Object.keys(t)[0]]}));JSON.stringify(e)===JSON.stringify(t)||A($)}),[$]),(0,o.useEffect)((function(){V&&R(!0)}),[V]),(0,o.useEffect)((function(){var e=function(e){_e.current&&!_e.current.contains(e.target)&&pe(xe)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}})),(0,S.jsxs)("div",{className:y.dualTable,children:[(0,S.jsxs)("div",{className:y.tableOne,children:[(0,S.jsx)("div",{className:y.tableLabel,children:m[0]}),p[0].show?Pe(p[0].message,u[0]):(0,S.jsx)(_.Z,{headers:l[0],list:G,noDataVerbiage:p[0].message,isFetchingData:g[0],queryParameters:x,sortParameters:b,paginationParameters:Z,onFilter:w,onClearFilters:N,onSearch:T,onSort:j,onPaginate:I,onAction:M,shouldScrollToView:k[0],setShouldScrollToView:B[0],clearSelected:O,setClearSelected:R,onMultiSelect:function(e){se(e)},tableHeight:u[0]})]}),(0,S.jsxs)("div",{className:y.actionButtons,children:[(0,S.jsxs)("button",{onClick:function(){E(le,!t&&Ee.order),void 0===V&&(R(!0),se([])),L()},disabled:0===le.length,type:"button",children:["Add Selected",(0,S.jsx)("img",{style:{marginTop:"11px"},src:D.nj,alt:""})]}),(0,S.jsxs)("button",{onClick:function(){C(),fe([]),J(!0)},style:{paddingTop:"9px"},disabled:0===$.length,type:"button",children:[(0,S.jsx)("img",{style:{marginTop:"2px"},src:D.VT,alt:""}),(0,S.jsx)("span",{style:{marginLeft:"5px"},children:"Remove All"})]}),(0,S.jsxs)("button",{onClick:function(){F(ue),fe([]),J(!0)},disabled:0===ue.length,type:"button",children:[(0,S.jsx)("img",{style:{marginTop:"11px"},src:D.VT,alt:""}),"Remove Selected"]})]}),(0,S.jsxs)("div",{className:y.tableTwo,children:[(0,S.jsx)("div",{className:y.tableLabel,children:m[1]}),(0,S.jsxs)("div",{style:{display:"flex",width:"100%"},children:[p[1].show?Pe(p[1].message,u[1]):(0,S.jsx)(_.Z,{headers:l[1],list:ne,noDataVerbiage:p[0].message,isFetchingData:g[1],sortParameters:!t&&Ee,paginationParameters:Me,onAction:M,clearSelected:z,shouldScrollToView:Ze||k[1],setShouldScrollToView:function(){B[1](),we()},onMultiSelect:function(e){fe(e)},setClearSelected:J,onSort:!t&&function(e){var t=e.sortOrder,a=e.sortBy;Ce({order:t,sort:a}),function(e){var t=JSON.parse(JSON.stringify($));t=1===e?t.sort((function(e,t){return e.titleName.toLowerCase()>t.titleName.toLowerCase()?1:-1})):t.sort((function(e,t){return e.titleName.toLowerCase()>t.titleName.toLowerCase()?-1:1})),ee(t)}(t)},onPaginate:qe,tableHeight:u[1]}),t&&(0,S.jsx)("div",{className:y.orderingButtons,children:ze.map((function(e){return(0,S.jsx)("button",{className:y.dragButton,onClick:e.action,disabled:0===$.length||0===ue.length||ue.length>1,children:(0,S.jsx)("img",{src:e.icon,alt:""})},e.id)}))})]})]})]})}b.defaultProps={withOrdering:!1,tableHeaders:[],tableDatas:[],noDataVerbiage:["",""],tableLabels:["",""],tablesHeight:[],isFetchingDatas:[!0,!0],tableParameters:null,sortParameters:null,paginationParameters:null,onFilter:null,onClearFilters:null,onSearch:null,onSort:null,onPaginate:null,onAddSelected:null,onRemoveAll:null,onRemoveSelected:null,onChangeTableTwoData:void 0,onAction:void 0,shouldScrollToView:!1,setShouldScrollToView:null};var Z=b,w=a(4569),N=a.n(w),T="https://localhost:44357/api/",j={getProgrammeTitles:function(e){var t="".concat(T,"titleExclusion/getTitleExclusionProgrammeTitles").concat(e);return N().get(t)},getProgrammeTitleDetails:function(e){var t="".concat(T,"titleExclusion/getTitleExclusionTitleDetails?titleId=").concat(e);return N().get(t)},getExcludedTitles:function(e){var t="".concat(T,"titleExclusion/getTitleExclusions")+e;return N().get(t)},getEffectivityDates:function(e){var t="".concat(T,"titleExclusion/getTitleEffectivityDatesCommand/").concat(e);return N().get(t)},saveTitleExclusions:function(e){var t="".concat(T,"titleExclusion/saveTitleExclusions");return N().post(t,e)},getTitleExclusionSession:function(){var e="".concat(T,"titleExclusion/getTitleExclusionSession");return N().get(e)},saveTitleExclusionSession:function(e){var t="".concat(T,"titleExclusion/saveTitleExclusionSession");return N().post(t,e)},exportSampleTitleExclusionExcelTemplate:function(){var e="".concat(T,"titleExclusion/exportSampleTitleExclusionExcelTemplate");return N().get(e,{responseType:"arraybuffer"})},importTitlesToExclude:function(e,t,a,n){var i="".concat(T,"titleExclusion/importTitlesToExclude?fileExtension=").concat(t,"&channelId=").concat(a,"&isOverride=").concat(n);return N().post(i,e)},exportExcludedTitles:function(e){var t="".concat(T,"titleExclusion/exportExcludedTitles/").concat(e);return N().get(t,{responseType:"arraybuffer"})}},I=a(3144),E=a(5671),C=new((0,I.Z)((function e(){(0,E.Z)(this,e),this.tableOneHeaders=[{headerId:1,headerName:"Title Name",filter:{type:1,queryNames:["titleNameFilter","titleNameFilterValue"]},sortable:!0},{headerId:2,headerName:"Genre",filter:{type:1,queryNames:["genreFilter","genreFilterValue"]},sortable:!0},{headerId:3,headerName:"Duration",sortable:!0},{headerId:4,headerName:"Grades",filter:{type:1,queryNames:["gradeFilter","gradeFilterValue"]},sortable:!0},{headerId:5,headerName:"Certificate",filter:{type:1,queryNames:["certificateFilter","certificateFilterValue"]},sortable:!0},{headerId:6,headerName:"Year",filter:{type:1,queryNames:["yearFilter","yearFilterValue"]},sortable:!0},{headerId:7,headerName:"\u200e"}],this.tableOneImportHeaders=[{headerId:1,headerName:"Title Name",filter:{type:1,queryNames:["titleNameFilter","titleNameFilterValue"]},sortable:!0},{headerId:3,headerName:"Duration",sortable:!0},{headerId:7,headerName:"Segments"}],this.tableTwoHeaders=[{headerId:1,headerName:"Title Name",sortable:!0},{headerId:2,headerName:"\u200e"}]}))),F=a(2632),A=a(5576),M=a(1715),k=a(392),B=a(1939),L=a(6533),V=a(9206),P={buttons:"Modal_buttons__IbfAw",dateRangeSection:"Modal_dateRangeSection__zzspt",buttonDiv:"Modal_buttonDiv__KdAXN",p:"Modal_p__1zJBL",formInput:"Modal_formInput__vEqs4",overlappingVerbiageText:"Modal_overlappingVerbiageText__91vQp",redBorder:"Modal_redBorder__NCG5W",errorText:"Modal_errorText__lznQB",dialogBody:"Modal_dialogBody__wOil3",titleDialog:"Modal_titleDialog__TB7qO",description:"Modal_description__ry9r2",titleScope:"Modal_titleScope__WBNIi",titleListColumn1:"Modal_titleListColumn1__DDQPG",titleListColumn2:"Modal_titleListColumn2__VgFy8",title:"Modal_title__1ZMsT",effectivityDatesDiv:"Modal_effectivityDatesDiv__b3roF",iconDiv:"Modal_iconDiv__J+nJ1",trashIcon:"Modal_trashIcon__55Jwo",addIcon:"Modal_addIcon__qp9oy",checkButton:"Modal_checkButton__1zNcd"},Y=a(2266),O="title-exlucsion-date_filter_dateSection__Ep8G-",R="title-exlucsion-date_filter_startSection__fuge6",H="title-exlucsion-date_filter_endSection__AADah",q="title-exlucsion-date_filter_divider__Hj9sB",z=(a(5804),a(2426)),J={toLocalFormat:function(e){return z(e).local().format("DD/MM/YYYY HH:mm")},toFilterByLastSeen:function(e){var t=z.utc(e).toDate();return z(t).format("MM/DD/YYYY")},toLocalDMYFormat:function(e){var t=z.utc(e).toDate();return z(t).format("DD/MM/YYYY")},toLocalDateOnlyFormat:function(e){return new Date(e.toDateString())},toIsoFormat:function(e){return z(e).utc().format("YYYY-MM-DD HH:mm:ss")},toIsoWithoutFormat:function(e){return z(e).utc()},toIsoFormatDateOnly:function(e){var t=e.split("/"),a=(0,r.Z)(t,3),n=a[0],i=a[1],o=a[2],l=new Date(+o,i-1,+n);return z(l).utc().format("YYYY-MM-DD HH:mm:ss")},isValidDate:function(e){z(e,"DD/MM/YYYY HH:mm",!0).isValid()},toExportFormat:function(e){return z(e).format("DDMMYYYY")}},U=o.forwardRef,W=o.useImperativeHandle,G=U((function(e,t){var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],n="".concat(a[(new Date).getMonth()]," ").concat((new Date).getDate(),", ").concat((new Date).getFullYear()),i=(0,o.useState)(4),l=(0,r.Z)(i,2),s=l[0],c=l[1],d=(0,o.useState)(new Date),u=(0,r.Z)(d,2),f=u[0],m=u[1],h=(0,o.useState)(n),p=(0,r.Z)(h,2),v=(p[0],p[1]),g=(0,o.useState)(new Date),x=(0,r.Z)(g,2),y=x[0],D=x[1],_=(0,o.useState)(n),b=(0,r.Z)(_,2),Z=(b[0],b[1]),w=(0,o.useState)(4),N=(0,r.Z)(w,2),T=(N[0],N[1]),j=(0,o.useState)(),I=(0,r.Z)(j,2),E=(I[0],I[1]),C=(0,o.useRef)(),F=(0,o.useState)(),A=(0,r.Z)(F,2),M=(A[0],A[1]),k=(0,o.useState)(),B=(0,r.Z)(k,2),L=(B[0],B[1]),V=function(t){C.current.contains(t.target)||e.backDropClick(!1)},P=function(e,t){var a=t.getTime()-e.getTime(),n=Math.round(a/864e5);E(n)},z=function(e){c(4),M(),L(),m(new Date),M(new Date),P(new Date,new Date),v("".concat(a[(new Date).getMonth()]," ").concat((new Date).getDate(),", ").concat((new Date).getFullYear())),T(4),Z("".concat(a[(new Date).getMonth()]," ").concat((new Date).getDate(),", ").concat((new Date).getFullYear())),D(new Date),L(new Date)},U=function(){m(new Date),D(new Date),z(),M(),L()};return W(t,(function(){return{clearFilterModel:function(){U()}}})),(0,o.useEffect)((function(){return z(),document.addEventListener("mousedown",V),function(){return document.removeEventListener("mousedown",V)}}),[]),(0,S.jsx)("div",{className:"d-flex",style:{height:"100%"},ref:C,children:(0,S.jsx)("div",{className:O,children:(0,S.jsxs)("div",{className:"d-flex",children:[(0,S.jsx)("div",{className:R,style:{pointerEvents:4!==s?"none":null,textAlign:"center"},children:(0,S.jsx)(Y.ZP,{tileClassName:function(e){var t=e.date;return t>f&&t<=y?"react-calendar__month-view__days__day_between-day-range":null},onChange:m,onClickDay:function(t){e.onSelectDateStart(J.toFilterByLastSeen(t)),m(t),M(t),v("".concat(a[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())),P(t,y)},value:f,minDate:f})}),(0,S.jsx)("div",{className:q}),(0,S.jsx)("div",{className:H,style:{pointerEvents:4!==s?"none":null,textAlign:"center"},children:(0,S.jsx)(Y.ZP,{tileClassName:function(e){var t=e.date;return t>=f&&t<y?"react-calendar__month-view__days__day_between-day-range":null},onChange:D,onClickDay:function(t){e.onSelectDateEnd(J.toFilterByLastSeen(t)),D(t),L(t),Z("".concat(a[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())),P(f,t)},value:y,minDate:f})})]})})})}));G.defaultProps={component:""},G.displayName="DateFilterComponent";var Q=G,K=a(7853),X=a(1850),$="styles_checkboxDiv__YkHF5",ee="styles_box__rn6S4",te="styles_circle__kQ49q",ae="styles_notChecked__bRmng",ne="styles_checked__Qu8Jm",ie="styles_checkIcon__KiwCJ",re="styles_label__8dE5x",oe="styles_disabled__lI633",le="styles_disabledNotChecked__wumA4",se="styles_disabledChecked__8iqRb";function ce(e){var t=e.label,a=e.shape,n=e.disabled,i=e.active,l=e.onCheck,s=e.checkboxClassName,c=e.fontClassName,d=(0,o.useState)(i),u=(0,r.Z)(d,2),f=u[0],m=u[1],h="box"===a?ee:"circle"===a&&te,p=f?ne:ae,v=n&&oe,g=n&&(f?se:le),x=function(){m(!i),l(!i)};return(0,o.useEffect)((function(){m(i&&i)}),[i]),(0,S.jsxs)("div",{className:$,children:[(0,S.jsx)("div",{className:"".concat(h," ").concat(p," ").concat(v," ").concat(g," ").concat(s),onClick:x,onKeyDown:function(e){"Enter"===e.key&&x()},role:"presentation",tabIndex:0,children:(0,S.jsx)("span",{className:ie})}),t&&(0,S.jsx)("div",{className:"".concat(re," ").concat(c),children:t})]})}ce.defaultProps={label:null,shape:"box",disabled:!1,active:!1,style:{}};var de=ce,ue=a(1103);function fe(e){var t=e.show,a=e.hideModal,l=e.formType,s=e.selectedProgrammeTitleList,c=e.onAddTitles,d=e.selectStartDate,u=e.selectEndDate,f=e.onAddDateRange,m=e.onDeleteRange,h=o.useState(!1),p=(0,r.Z)(h,2),v=p[0],g=p[1],y=new Date,D=(0,o.useRef)(),_=(0,o.useState)(!1),b=(0,r.Z)(_,2),Z=b[0],w=b[1],N=(0,o.useState)(0),T=(0,r.Z)(N,2),j=T[0],I=T[1],E=(0,o.useState)(0),C=(0,r.Z)(E,2),F=C[0],A=C[1],M=(0,o.useState)(!1),k=(0,r.Z)(M,2),B=k[0],L=k[1],Y=(0,o.useState)([]),O=(0,r.Z)(Y,2),R=O[0],H=O[1],q=(0,o.useState)([]),z=(0,r.Z)(q,2),J=z[0],U=z[1],W=(0,o.useState)([]),G=(0,r.Z)(W,2),$=G[0],ee=G[1],te=(0,o.useState)([]),ae=(0,r.Z)(te,2),ne=ae[0],ie=ae[1],re=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),oe=(0,o.useState)(0),le=(0,r.Z)(oe,2),se=le[0],ce=le[1],fe=function(){g(!1),a(),H([]),U([]),ee([]),ie([]),A(0),I(0),L(!1),ce(0)},me=function(){var e=[],t=[];return s.map((function(a){return a.effectivityDates.map((function(n,i){a.effectivityDates.map((function(r,o){var l=function(e,t,a,n){var i=e&&new Date(e),r=t&&new Date(t),o=a&&new Date(a),l=n&&new Date(n);return i&&o&&!r&&!l?i>=o||o>=i:i&&o&&!r?o<=i&&l>=i||i<=o&&i<=l:i&&o&&!l?i<=o&&r>=o||o<=i&&o<=r:i&&o?i>=o&&i<=l||o>=i&&o<=r:void 0}(n.startDate,n.endDate,r.startDate,r.endDate)&&i!==o,s=n.startDate&&new Date(n.startDate)<re;!l||n.historicalStartDate&&n.historicalEndDate||e.push("".concat(a.titleId,"-").concat(n.id)),s&&!n.historicalStartDate&&t.push("".concat(a.titleId,"-").concat(n.id))}))}))})),U(e),ie(t),e.length>0||t.length>0},he=function(e,t,a,r,o,l){var c=(0,n.Z)(s),u=(0,i.Z)({},c[t]),f=(0,i.Z)({},u.effectivityDates[a]);f.startDate=e,c[t].effectivityDates[a].startDate=f.startDate,f.dayStart=r,c[t].effectivityDates[a].dayStart=f.dayStart,f.monthStart=o,c[t].effectivityDates[a].monthStart=f.monthStart,f.yearStart=l,c[t].effectivityDates[a].yearStart=f.yearStart,d(c)},pe=function(e,t,a,r,o,l){var c=(0,n.Z)(s),d=(0,i.Z)({},c[t]),f=(0,i.Z)({},d.effectivityDates[a]);f.endDate=e,c[t].effectivityDates[a].endDate=f.endDate,f.dayEnd=r,c[t].effectivityDates[a].dayEnd=f.dayEnd,f.monthEnd=o,c[t].effectivityDates[a].monthEnd=f.monthEnd,f.yearEnd=l,c[t].effectivityDates[a].yearEnd=f.yearEnd,u(c)},ve=function(e){L(e);for(var t=(0,n.Z)(s),a=(0,i.Z)({},t[0]).effectivityDates,r=a[0].startDate,o=a[0].endDate,l=0;l<t.length;l++)t[l].effectivityDates[0].startDate=e&&r?r:t[l].effectivityDates[0].startDate,t[l].effectivityDates[0].endDate=e&&o?o:t[l].effectivityDates[0].endDate;f(t)};return(0,o.useEffect)((function(){t&&g(!0)}),[t]),(0,S.jsx)("div",{children:v&&(0,S.jsx)(V.V,{width:766,height:564,onClose:function(){g(!v)},children:(0,S.jsxs)("div",{className:P.dialogBody,children:[(0,S.jsx)("div",{className:P.titleDialog,children:"Title Exclusion Dates"}),(0,S.jsx)("div",{className:P.description,children:"Please specify the date range which you want to exclude the following program titles:"}),(0,S.jsx)("div",{className:P.titleScope,children:s.map((function(e,t){return(0,S.jsxs)("div",{className:"".concat(P.titleList," d-flex"),style:{marginTop:t>0?"10px":"38px"},children:[(0,S.jsx)("div",{className:P.titleListColumn1,children:(0,S.jsx)("div",{className:P.title,children:e.titleName})}),(0,S.jsx)("div",{className:P.titleListColumn2,children:e.effectivityDates.map((function(a,r){var o=J.includes("".concat(e.titleId,"-").concat(a.id)),l=$.includes("".concat(e.titleId,"-").concat(a.id)),c=ne.includes("".concat(e.titleId,"-").concat(a.id)),d=R.includes(e.titleId),u={start:a.startDate,end:a.endDate};return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"".concat(P.effectivityDatesSection," d-flex"),style:{paddingBottom:0===t&&0===r?"0px":"5px"},children:[(0,S.jsx)("div",{className:P.effectivityDatesDiv,children:(0,S.jsx)(ue.Z,{min:y,onChange:function(e){return function(e,t,a,n){I(t),A(a),n?pe(e.end,t,a):(he(e.start,t,a,e.dayStart,e.monthStart,e.yearStart),pe(e.end,t,a,e.dayEnd,e.monthEnd,e.yearEnd))}(e,t,r,a.historicalStartDate)},startSettings:{value:u.start&&new Date(u.start),labelLeft:!0,disabled:a.historicalStartDate,dayStart:a.dayStart,monthStart:a.monthStart,yearStart:a.yearStart},endSettings:{value:u.end&&new Date(u.end),labelLeft:!0,disabled:a.historicalEndDate,dayEnd:a.dayEnd,monthEnd:a.monthEnd,yearEnd:a.yearEnd}},a.id)}),(0,S.jsxs)("div",{class:P.iconDiv,children:[Z&&F===r&&j===t?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{ref:D,children:(0,S.jsx)(Q,{backDropClick:w,onSelectDateStart:function(e){return he(e)},onSelectDateEnd:function(e){return pe(e)}})})}):(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{})}),0===r?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("img",{src:K.Z,className:P.addIcon,onClick:function(){return function(e){var t=(0,n.Z)(s),a=(0,i.Z)({},t[e]).effectivityDates,r=Math.max.apply(Math,(0,n.Z)(a.map((function(e){return e.id}))));ce(0===se?r+1:se+1);var o=[{id:(0===se?r:se)+1,startDate:null,endDate:null}],l=[].concat((0,n.Z)(a),o);t[e].effectivityDates=l,f(t)}(t)}})}):(0,S.jsx)("img",{src:X,className:P.trashIcon,onClick:function(){return function(e,t){var a=(0,n.Z)(s),r=(0,i.Z)({},a[e]).effectivityDates;r.splice(t,1),a[e].effectivityDates=r,m(a)}(t,r)}})]})]}),o&&(0,S.jsx)("div",{className:P.errorText,children:"Overlapping date range for the same title is not allowed"}),l&&(0,S.jsx)("div",{className:P.errorText,children:"Date range is invalid"}),c&&(0,S.jsx)("div",{className:P.errorText,children:"Start should not be earlier than the current date"}),d&&0===r&&(0,S.jsx)("div",{className:P.errorText,children:"Start date is required"}),0===r&&0===t&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:P.checkButton,children:(0,S.jsx)(de,{label:"Use the same date range for all",active:B,onCheck:ve})})})]})}))})]},e.titleId)}))}),(0,S.jsxs)("div",{className:P.buttons,children:[(0,S.jsx)(x.Z,{defaultBtn:!0,text:"Cancel",onClick:fe}),(0,S.jsx)(x.Z,{text:"Update"===l?"Done":"Exclude Titles",onClick:function(){var e=me(),t=function(){var e=[];return s.map((function(t){t.effectivityDates.every((function(e){return!e.startDate}))&&e.push(t.titleId)})),H(e),e.length>0}(),a=function(){var e=[];return s.map((function(t){return t.effectivityDates.map((function(a){a.endDate&&new Date(a.startDate)>new Date(a.endDate)&&e.push("".concat(t.titleId,"-").concat(a.id))}))})),ee(e),e.length>0}();if(!e&&!t&&!a){fe();var n=s.map((function(e){var t=e.effectivityDates.filter((function(e){if(e.startDate)return e}));return(0,i.Z)((0,i.Z)({},e),{},{effectivityDates:t})}));c(n)}}})]})]})})})}fe.defaultProps={show:!1},fe.displayName="ImportBusinessRulesModalComponent";var me=fe,he=a(9639),pe=a(2441),ve=a(3597),ge=a(6986),xe="styles_body__qYY0j",ye="styles_smallText__R2k2r",De="styles_fileName__8ku3S",_e="styles_buttons__HDKv+",Se="styles_sampleTemplateText__7ZNLp",be="styles_errorMessage__WabSX";function Ze(e){var t=e.title,a=e.show,n=e.onHide,i=e.onImport,l=e.onClickSampleTemplate,s=e.isImporting,c=(0,o.useRef)(),d=["xlsx","xls","csv"],u=(0,o.useState)(),f=(0,r.Z)(u,2),m=f[0],h=f[1],p=(0,o.useState)(""),v=(0,r.Z)(p,2),g=v[0],y=v[1];return(0,o.useEffect)((function(){a||(h(),y(""))}),[a]),(0,S.jsx)(ge.Z,{show:a,centered:!0,size:"lg",onHide:n,children:(0,S.jsxs)("div",{className:xe,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{style:{fontWeight:"bolder"},children:t||"Import"}),(0,S.jsxs)("p",{className:ye,children:["Download a"," ",(0,S.jsx)("span",{className:Se,onClick:l,onKeyDown:l,role:"presentation",children:"sample template"})," ","to see an example of the required format."]}),(0,S.jsx)("p",{className:be,children:g}),(0,S.jsxs)("div",{className:"d-flex",children:[(0,S.jsx)(x.Z,{text:"Choose file",size:"lg",style:{marginTop:"30px",marginLeft:"0"},onClick:function(){c.current.click()}}),(0,S.jsx)("input",{ref:c,hidden:!0,type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:function(e){var t=e.target.files[0];h(t)}}),(0,S.jsx)("p",{className:De,title:m&&m.name,children:m&&m.name})]}),(0,S.jsx)("div",{className:"pt-2",children:(0,S.jsx)("small",{children:"Acceptable format: Excel, CSV"})})]}),(0,S.jsxs)("div",{className:_e,children:[(0,S.jsx)(x.Z,{text:"Cancel",defaultBtn:!0,onClick:function(){n(),h(),y("")}}),(0,S.jsx)(x.Z,{text:"Import",onClick:function(){var e=m.name.split(".").pop();d.includes(e)?i(m):y("Uploaded file type is not supported. Please use files in the following formats (xlsx, csv)")},disabled:!m,isLoading:s})]})]})})}Ze.defaultProps={show:!1},Ze.displayName="ImportModal";var we=Ze,Ne="ImportTitleToExcludeResultModal_modal__RfYv4",Te="ImportTitleToExcludeResultModal_dialogContent__tPNzt",je="ImportTitleToExcludeResultModal_description__nKce+",Ie="ImportTitleToExcludeResultModal_table__8dwPQ",Ee="ImportTitleToExcludeResultModal_tableHeader__0NeG8",Ce="ImportTitleToExcludeResultModal_tableBodyRow__BVzOT",Fe="ImportTitleToExcludeResultModal_tableBody__ep5-q",Ae="ImportTitleToExcludeResultModal_radioButtons__SxPVq",Me="ImportTitleToExcludeResultModal_closeButton__7b9-4",ke="ImportTitleToExcludeResultModal_formCheckInput__PZjx4",Be="ImportTitleToExcludeResultModal_formCheck__8ydpV",Le="ImportTitleToExcludeResultModal_formCheckInputLabel__y3Dav",Ve=function(e){var t=e.show,a=e.onHide,n=e.data,i=(0,o.useState)(1),l=(0,r.Z)(i,2),s=l[0],c=l[1];return(0,S.jsx)(ge.Z,{show:t,contentClassName:Ne,onHide:a,centered:!0,children:(0,S.jsxs)("div",{className:Te,children:[(0,S.jsxs)("p",{className:je,children:[(0,S.jsx)("b",{children:(null===n||void 0===n?void 0:n.filter((function(e){return e.imported})).length)||0})," ","titles out of"," ",(0,S.jsx)("b",{children:(null===n||void 0===n?void 0:n.length)||0})," ","were successfully imported and validated!"]}),(0,S.jsxs)("div",{className:Ie,children:[(0,S.jsxs)("div",{className:Ee,children:[(0,S.jsx)("div",{children:"Programme Title"}),(0,S.jsx)("div",{children:"Duration"}),(0,S.jsx)("div",{children:"Start date"}),(0,S.jsx)("div",{children:"End date"}),(0,S.jsx)("div",{}),(0,S.jsx)("div",{children:"Results"})]}),(0,S.jsx)("div",{className:Fe,children:n.filter((function(e){return 1===s||(2===s?e.imported:3===s?!e.imported:void 0)})).map((function(e){return(0,S.jsxs)("div",{className:Ce,children:[(0,S.jsx)("div",{title:e.titleName,children:e.titleName}),(0,S.jsx)("div",{title:e.duration,children:e.duration}),(0,S.jsx)("div",{title:e.startDate,children:e.startDate}),(0,S.jsx)("div",{title:e.endDate,children:e.endDate}),(0,S.jsx)("div",{title:e.imported?"Imported":"Not Imported",children:(0,S.jsx)("img",{src:e.imported?h.IY:h.zn,alt:""})}),(0,S.jsx)("div",{title:e.importResult,children:e.importResult})]})}))})]}),(0,S.jsx)("div",{className:Ae,children:[{id:1,label:"Show all"},{id:2,label:"Imported"},{id:3,label:"Not Imported"}].map((function(e){return(0,S.jsxs)("div",{className:Be,children:[(0,S.jsx)("input",{className:"".concat(ke," form-check-input"),type:"radio",name:"successFilter",onClick:function(){return t=e.id,void c(t);var t},checked:s===e.id}),(0,S.jsx)("div",{className:Le,children:e.label})]})}))}),(0,S.jsx)("div",{className:Me,children:(0,S.jsx)(x.Z,{text:"Close",onClick:a})})]})})},Pe=a(2426),Ye=a.n(Pe),Oe="OverrideExcludedTitlesModal_modal__hiKef",Re="OverrideExcludedTitlesModal_content__xKv6N",He="OverrideExcludedTitlesModal_description__FTjK1",qe="OverrideExcludedTitlesModal_confirmationDescriptionWrapper__p7ex5",ze="OverrideExcludedTitlesModal_actionButtons__doC3C",Je="OverrideExcludedTitlesModal_overrideButton__scO9V",Ue=function(e){var t=e.show,a=e.onHide,n=e.onOverwrite,i=e.onOverride,r=e.isOverwriting,o=e.isOverriding;return(0,S.jsx)(ge.Z,{contentClassName:Oe,show:t,onHide:a,size:"lg",centered:!0,children:(0,S.jsxs)("div",{className:Re,children:[(0,S.jsx)("p",{className:He,children:"The title exclusion you are importing in this channel has an existing excluded titles."}),(0,S.jsx)("div",{className:qe,children:(0,S.jsx)("b",{className:He,children:"Do you want to overwrite the existing titles or override them"})}),(0,S.jsxs)("div",{className:ze,children:[(0,S.jsx)(x.Z,{text:"Cancel",defaultBtn:!0,onClick:a}),(0,S.jsx)(x.Z,{text:"Overwrite",onClick:n,isLoading:r,disabled:o}),(0,S.jsx)("div",{className:Je,children:(0,S.jsx)(x.Z,{text:"Override",onClick:i,isLoading:o,disabled:r})})]})]})})},We=a(5666),Ge=function(e){var t=e.show,a=e.onExport,n=e.onDiscard,i=e.onHide,l=e.isExporting,s=(0,o.useState)(""),c=(0,r.Z)(s,2),d=c[0],u=c[1];return(0,S.jsx)(ge.Z,{size:"md",show:t,onHide:i,"aria-labelledby":"confirm-export-modal",children:(0,S.jsxs)(ge.Z.Body,{className:We.Z.promptModalBody,children:[(0,S.jsx)("div",{children:"You have unsaved changes to the title exclusion. Exporting the current version will not include these changes. Do you want to save your changes before exporting or proceed with the current version?"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:We.Z.button,children:(0,S.jsx)(x.Z,{text:"Save and export",onClick:function(){a(),u("Export")},style:{width:"100%"},isLoading:l&&"Export"===d})}),(0,S.jsx)("div",{className:We.Z.button,children:(0,S.jsx)(x.Z,{text:"Discard changes and export",onClick:function(){n(),u("Discard")},style:{width:"100%"},isLoading:l&&"Discard"===d})}),(0,S.jsx)("div",{className:We.Z.button,children:(0,S.jsx)(x.Z,{text:"Cancel",defaultBtn:!0,onClick:i,style:{width:"100%"}})})]})]})})},Qe=function(e){var t=e.show,a=e.onImport,n=e.onDiscard,i=e.onHide,l=e.isImporting,s=(0,o.useState)(""),c=(0,r.Z)(s,2),d=c[0],u=c[1];return(0,S.jsx)(ge.Z,{size:"md",show:t,onHide:i,"aria-labelledby":"confirm-import-modal",children:(0,S.jsxs)(ge.Z.Body,{className:We.Z.promptModalBody,children:[(0,S.jsx)("div",{children:"You have unsaved changes to the excluded programme titles. Import the current version will not include these changes. Do you want to save your changes before importing or proceed with the current version?"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:We.Z.button,children:(0,S.jsx)(x.Z,{text:"Save and import",onClick:function(){a(),u("Import")},style:{width:"100%"},isLoading:l&&"Import"===d})}),(0,S.jsx)("div",{className:We.Z.button,children:(0,S.jsx)(x.Z,{text:"Discard changes and import",onClick:function(){n(),u("Discard")},style:{width:"100%"},isLoading:l&&"Discard"===d})}),(0,S.jsx)("div",{className:We.Z.button,children:(0,S.jsx)(x.Z,{text:"Cancel",defaultBtn:!0,onClick:i,style:{width:"100%"}})})]})]})})};var Ke=function(){var e=C.tableOneHeaders,t=C.tableOneImportHeaders,a=C.tableTwoHeaders,y=(0,o.useState)(!1),D=(0,r.Z)(y,2),_=D[0],b=D[1],w=(0,o.useState)(!0),N=(0,r.Z)(w,2),T=N[0],I=N[1],E=(0,o.useState)(!0),V=(0,r.Z)(E,2),P=V[0],Y=V[1],O=(0,o.useState)([]),R=(0,r.Z)(O,2),H=R[0],q=R[1],z=(0,o.useState)([]),U=(0,r.Z)(z,2),W=U[0],G=U[1],Q=(0,o.useState)(null),K=(0,r.Z)(Q,2),X=K[0],$=K[1],ee=(0,o.useState)(null),te=(0,r.Z)(ee,2),ae=te[0],ne=te[1],ie=(0,o.useState)({sortOrder:1,sortBy:1}),re=(0,r.Z)(ie,2),oe=re[0],le=re[1],se=(0,o.useState)({order:1,sort:1}),ce=(0,r.Z)(se,2),de=ce[0],ue=ce[1],fe=(0,o.useState)({}),ge=(0,r.Z)(fe,2),xe=ge[0],ye=ge[1],De=(0,o.useState)({}),_e=(0,r.Z)(De,2),Se=_e[0],be=_e[1],Ze=(0,o.useState)(["371px","371px"]),Ne=(0,r.Z)(Ze,2),Te=Ne[0],je=Ne[1],Ie=(0,o.useState)([{show:!0,message:"Please select a channel to list its available programme titles"},{show:!1,message:"Please select and add programme titles to exclude"}]),Ee=(0,r.Z)(Ie,2),Ce=Ee[0],Fe=Ee[1],Ae=(0,o.useState)(!1),Me=(0,r.Z)(Ae,2),ke=Me[0],Be=Me[1],Le=(0,o.useState)(!1),Pe=(0,r.Z)(Le,2),Oe=Pe[0],Re=Pe[1],He=(0,o.useState)([]),qe=(0,r.Z)(He,2),ze=qe[0],Je=qe[1],We=(0,o.useState)(),Ke=(0,r.Z)(We,2),Xe=Ke[0],$e=Ke[1],et=(0,o.useState)(!0),tt=(0,r.Z)(et,2),at=tt[0],nt=tt[1],it=(0,o.useState)("Create"),rt=(0,r.Z)(it,2),ot=rt[0],lt=rt[1],st=(0,o.useState)(!1),ct=(0,r.Z)(st,2),dt=ct[0],ut=ct[1],ft=(0,o.useState)(!1),mt=(0,r.Z)(ft,2),ht=mt[0],pt=mt[1],vt=(0,o.useState)(!1),gt=(0,r.Z)(vt,2),xt=gt[0],yt=gt[1],Dt=(0,A.E)(ht),_t=(0,r.Z)(Dt,4),St=_t[0],bt=_t[1],Zt=_t[2],wt=_t[3],Nt=(0,o.useState)(!1),Tt=(0,r.Z)(Nt,2),jt=Tt[0],It=Tt[1],Et=(0,o.useState)(!1),Ct=(0,r.Z)(Et,2),Ft=Ct[0],At=Ct[1],Mt=(0,o.useState)([]),kt=(0,r.Z)(Mt,2),Bt=kt[0],Lt=kt[1],Vt=(0,o.useState)({}),Pt=(0,r.Z)(Vt,2),Yt=Pt[0],Ot=Pt[1],Rt=(0,o.useState)({}),Ht=(0,r.Z)(Rt,2),qt=Ht[0],zt=Ht[1],Jt=(0,o.useState)(!1),Ut=(0,r.Z)(Jt,2),Wt=Ut[0],Gt=Ut[1],Qt=(0,o.useState)(!1),Kt=(0,r.Z)(Qt,2),Xt=Kt[0],$t=Kt[1],ea=(0,o.useState)(!1),ta=(0,r.Z)(ea,2),aa=ta[0],na=ta[1],ia=(0,o.useState)(!1),ra=(0,r.Z)(ia,2),oa=ra[0],la=ra[1],sa=(0,o.useState)([]),ca=(0,r.Z)(sa,2),da=ca[0],ua=ca[1],fa=(0,o.useState)(!1),ma=(0,r.Z)(fa,2),ha=ma[0],pa=ma[1],va=(0,o.useState)(),ga=(0,r.Z)(va,2),xa=ga[0],ya=ga[1],Da=(0,o.useState)(),_a=(0,r.Z)(Da,2),Sa=_a[0],ba=_a[1],Za=(0,o.useState)(!1),wa=(0,r.Z)(Za,2),Na=wa[0],Ta=wa[1],ja=(0,o.useState)(!1),Ia=(0,r.Z)(ja,2),Ea=Ia[0],Ca=Ia[1],Fa=(0,o.useState)(!1),Aa=(0,r.Z)(Fa,2),Ma=Aa[0],ka=Aa[1],Ba=(0,o.useState)(!1),La=(0,r.Z)(Ba,2),Va=La[0],Pa=La[1],Ya=function(e){for(var t=!0,a=0;a<e.length;a++)if(!e[a].endDate){t=!1;break}return t},Oa=function(e){var t=null===e||void 0===e?void 0:e.map((function(e){return{titleId:e.titleId,titleName:e.titleName,action2:{id:e.titleId,icon:Ya(e.effectivityDates)?v:p,toolTip:e.effectivityDates.map((function(e){return(e.startDate?J.toLocalDMYFormat(e.startDate):"Immediately")+" - "+(e.endDate?J.toLocalDMYFormat(e.endDate):"Indefinitely")})).join("\n"),actionName:"modifyTitleEffectivityDates"},action:{id:e.titleId,icon:h.cM,toolTip:"View title details",actionName:"viewTitleDetailsFromTableTwo"},effectivityDates:e.effectivityDates.length>0?e.effectivityDates.map((function(e,t){var a=J.toLocalDMYFormat(e.startDate),n=J.toLocalDMYFormat(e.endDate),i=null===a||void 0===a?void 0:a.split("/")[0],r=null===a||void 0===a?void 0:a.split("/")[1],o=null===a||void 0===a?void 0:a.split("/")[2],l=null===n||void 0===n?void 0:n.split("/")[0],s=null===n||void 0===n?void 0:n.split("/")[1],c=null===n||void 0===n?void 0:n.split("/")[2],d=new Date(parseInt(o),parseInt(r-1),parseInt(i)),u=new Date(parseInt(c),parseInt(s-1),parseInt(l)),f=new Date;return d.setHours(0,0,0,0),f.setHours(0,0,0,0),u.setHours(0,0,0,0),{id:t,startDate:e.startDate?J.toFilterByLastSeen(e.startDate):"",endDate:e.endDate?J.toFilterByLastSeen(e.endDate):"",historicalStartDate:!e.startDate||d<f,historicalEndDate:e.startDate&&u<f}})):[{startDate:"",endDate:""}],isHighlighted:e.overrode}}));return G(t),t},Ra=function(){I(!0),j.getProgrammeTitles(function(e){var t="?page=".concat(e.pageNumber?e.pageNumber:1,"&size=").concat(e.pageSize?e.pageSize:50)+(e.titleNameFilter&&e.titleNameFilterValue?"&titleNameFilter=".concat(e.titleNameFilter,"&titleNameFilterValue=").concat(e.titleNameFilterValue):"")+(e.genreFilter&&e.genreFilterValue?"&genreFilter=".concat(e.genreFilter,"&genreFilterValue=").concat(e.genreFilterValue):"")+(e.gradeFilter&&e.gradeFilterValue?"&gradeFilter=".concat(e.gradeFilter,"&gradeFilterValue=").concat(e.gradeFilterValue):"")+(e.certificateFilter&&e.certificateFilterValue?"&certificateFilter=".concat(e.certificateFilter,"&certificateFilterValue=").concat(e.certificateFilterValue):"")+(e.yearFilter&&e.yearFilterValue?"&yearFilter=".concat(e.yearFilter,"&yearFilterValue=").concat(e.yearFilterValue):"")+(e.searchKey?"&searchKey=".concat(e.searchKey):"")+(e.sortOrder&&e.sortBy?"&columnSort=".concat(e.sortBy,"&sortBy=").concat(e.sortOrder):"")+(W.length>0?"&titleIds=".concat(W.map((function(e){return e.titleId})).join(",")):"")+(Yt.channelId?"&channelId=".concat(Yt.channelId):"");return t.includes("+")&&(t=t.replace("+","%2B")),t}(oe)).then((function(e){!function(e){var t=[];t=2===Xe?e.map((function(e){return{titleId:e.titleId,titleName:e.titleName,duration:e.overrodeValues.duration||e.duration,action:{id:e.titleId,icon:h.cM,toolTip:"View title details",actionName:"viewTitleDetailsFromTableOne"},isHighlighted:e.overrode}})):e.map((function(e){return{titleId:e.titleId,titleName:e.titleName,genre:e.overrodeValues.genre||e.genre,duration:e.overrodeValues.duration||e.duration,grade:e.overrodeValues.grade||e.grade,certificate:e.overrodeValues.certificate||e.certificate,year:e.overrodeValues.year||e.year,action:{id:e.titleId,icon:h.cM,toolTip:"View title details",actionName:"viewTitleDetailsFromTableOne"},isHighlighted:e.overrode}})),q(t)}(e.data.data),be({totalCount:e.data.totalData,pageSize:e.data.size,currentPage:e.data.page,totalPages:e.data.totalPages})})).finally((function(){return I(!1)}))},Ha=function(e){null!==Yt&&void 0!==Yt&&Yt.channelName&&!Ea&&W.length>0&&(!ht||e?(Ca(!0),j.exportExcludedTitles(Yt.channelId).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});saveAs(t,"".concat(k.Z.getUserIdentity().organisationName,"_op2mise_title_exclusion_export_").concat(Yt.channelName,"_").concat(J.toExportFormat(new Date),".xlsx")),Ka()})).finally((function(){Ca(!1),ka(!1),e&&Y(!1)}))):ka(!0))},qa=function(e,t,a){Y(!0);var n=Yt.channelId?"?channelID=".concat(Yt.channelId):"";j.getExcludedTitles(n).then((function(a){var n=Oa(a.data);e&&Ha(!0),t&&$a(xa,Sa,!0,n)})).finally((function(){b(!0),a||t||Y(!1)}))},za=function(e,t,a){ut(!0);var n={channelId:Yt.channelId,titleExclusionDetails:W.map((function(e){return{titleId:e.titleId,effectivityDates:e.effectivityDates?e.effectivityDates.map((function(e){var t="string"===typeof e.startDate,a="string"===typeof e.endDate;if(t||a){var n=t?e.startDate.split("/"):[e.startDate,"",""],i=(0,r.Z)(n,3),o=i[0],l=i[1],s=i[2];if(!t){var c=new Date(e.startDate);o=c.getDate().toString(),l=(c.getMonth()+1).toString(),s=c.getFullYear().toString()}var d=a?e.endDate.split("/"):e.endDate,u=(0,r.Z)(d,3),f=u[0],m=u[1],h=u[2];return{startDate:new Date(Date.UTC(s,parseInt(l)-1,o)),endDate:new Date(Date.UTC(h,parseInt(m)-1,f))}}return{startDate:e.startDate,endDate:e.endDate}})):[]}}))};j.saveTitleExclusions(n).then((function(){pt(!1),e?(Ka(),bt()):qa(!1,!1,!0),t&&Ha(!0),a?$a(xa,Sa,!0):(0,F.Vp)("Successfully updated title exclusions")})).finally((function(){ut(!1),e&&wt()}))},Ja=function(e){$(null),ne(null),je(["371px","371px"]);var t=e;return t=t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{action:(0,i.Z)((0,i.Z)({},e.action),{},{icon:h.cM})})}))},Ua=function(e,t){$(t),function(e){j.getProgrammeTitleDetails(e).then((function(e){ne(e.data)}))}(t),je(["576px","576px"]);var a=e;return a=a.map((function(e){return e.titleId===t?(0,i.Z)((0,i.Z)({},e),{},{scrollTo:!0,action:(0,i.Z)((0,i.Z)({},e.action),{},{icon:h.cJ})}):(0,i.Z)((0,i.Z)({},e),{},{scrollTo:!1,action:(0,i.Z)((0,i.Z)({},e.action),{},{icon:h.cM})})}))},Wa=function(){ne(null),$(null),je(["331px","331px"]);var e=H.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{action:(0,i.Z)((0,i.Z)({},e.action),{},{icon:h.cM})})})),t=W.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{action:(0,i.Z)((0,i.Z)({},e.action),{},{icon:h.cM})})}));q(e),G(t)},Ga=function(e,t){ht&&!t?(zt(e),It(!0)):(Ot(e),le((0,i.Z)((0,i.Z)({},oe),{},{channelId:e.channelId})),Qa(e.channelId))},Qa=function(e){j.saveTitleExclusionSession({channelId:e})},Ka=function(){pt(!1),zt({})},Xa=function(e,t){var a={},r=e.filter((function(e){return e.imported}));return[].concat((0,n.Z)(r),(0,n.Z)(t||[])).forEach((function(e){var t,r=e.titleId;(a[r]||(a[r]=(0,i.Z)((0,i.Z)({},e),{},{effectivityDates:[]})),e.imported)?a[r].effectivityDates.push({id:a[r].effectivityDates.length+1,startDate:Ye().utc(e.startDate,"DD/MM/YYYY"),endDate:Ye().utc(e.endDate,"DD/MM/YYYY")}):(t=a[r].effectivityDates).push.apply(t,(0,n.Z)(e.effectivityDates))})),Object.values(a)},$a=function(e,t,a,n){if(W.length>0&&!t)ya(e),Gt(!1),Ta(!0);else if(ht&&!a&&2===t)ya(e),ba(t),Pa(!0),pa(!1),Ta(!1);else{$t(!0),1===t&&na(!0),2===t&&la(!0);var i=new FormData;i.append("file",e),j.importTitlesToExclude(i,e.name.split(".").pop(),Yt.channelId,2===t).then((function(e){!function(e,t,a){ua(e);var n=2!==t?Xa(e):Xa(e,a||W);Oa(n)}(e.data,t,n),pt(!0),pa(!0),a&&((0,F.Vp)("Successfully updated and imported title exclusion"),Y(!0))})).catch((function(e){(0,F.h)(e.response.data.message)})).finally((function(){$t(!1),na(!1),la(!1),Gt(!1),a&&Y(!1),Pa(!1),Ta(!1)}))}};return(0,o.useEffect)((function(){!function(){var e=k.Z.getUserIdentity().userId;M.Z.getUser(e).then((function(e){$e(e.data.organisationTitleSource)}))}(),pe.Z.getChannels().then((function(e){Lt(e.data)})),j.getTitleExclusionSession().then((function(e){le((0,i.Z)((0,i.Z)({},oe),{},{channelId:e.data.channelId})),Ot(e.data),I(!1),Y(!1)}))}),[]),(0,o.useEffect)((function(){var e;_&&at&&Xe&&Yt.channelId&&(ye({titleNameFilter:(e=oe).titleNameFilter,titleNameFilterValue:e.titleNameFilterValue,genreFilter:e.genreFilter,genreFilterValue:e.genreFilterValue,gradeFilter:e.gradeFilter,gradeFilterValue:e.gradeFilterValue,certificateFilter:e.certificateFilter,certificateFilterValue:e.certificateFilterValue,yearFilter:e.yearFilter,yearFilterValue:e.yearFilterValue}),Ra()),nt(!0)}),[oe,W.length,_,Xe,Yt]),(0,o.useEffect)((function(){Yt.channelId&&qa()}),[Yt]),(0,o.useEffect)((function(){!function(){var e={show:!Yt.channelName,message:Yt.channelName?"No programme titles found":Ce[0].message},t={show:0===W.length,message:Ce[1].message};Fe([e,t])}()}),[W,Yt]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.Z,{componentName:"Title Exclusions",isAddButtonHidden:!0,isSearchHidden:!0}),(0,S.jsx)("hr",{style:{borderTop:"1px  solid #b1b1b1",marginBottom:"8px"}}),(0,S.jsxs)("div",{className:l,children:[(0,S.jsx)("label",{className:s,children:"Channel: "}),(0,S.jsx)(he.Z,{text:Yt.channelName||"Please select a channel",list:Bt,onSelect:Ga,width:"300px",withSearch:!0}),(0,S.jsx)("img",{className:"".concat(c," ").concat(null!==Yt&&void 0!==Yt&&Yt.channelName?"":f),title:"Import titles to exclude",src:h.Vm,onClick:function(){null!==Yt&&void 0!==Yt&&Yt.channelName&&Gt(!0)}}),(0,S.jsx)("img",{className:"".concat(d,"\n          ").concat(0===W.length?u:""," ").concat(Ea?m:""),src:h.d7,title:"Export the excluded programme titles",onClick:function(){return Ha(!1)}})]}),(0,S.jsx)("div",{style:{marginTop:"15px",marginBottom:"7px"},children:(0,S.jsx)(Z,{tableHeaders:[1===Xe?e:t,a],tableDatas:[H,W],tablesHeight:Te,tableLabels:["Programme titles:","Excluded programme titles:"],noDataVerbiage:Ce,isFetchingDatas:[T,P],tableParameters:xe,sortParameters:de,paginationParameters:Se,onFilter:function(e){le((0,i.Z)((0,i.Z)({},oe),e))},onClearFilters:function(){le({pageNumber:1,sortBy:oe.sortBy,sortOrder:oe.sortOrder,pageSize:oe.pageSize,searchKey:oe.searchKey})},onSearch:function(e){le((0,i.Z)((0,i.Z)({},oe),{},{searchKey:e,pageNumber:1}))},onSort:function(e){var t=e.sortBy,a=e.sortOrder;ue({order:a,sort:t}),le((0,i.Z)((0,i.Z)({},oe),{},{sortBy:t,sortOrder:a,pageNumber:1}))},onPaginate:function(e,t){le((0,i.Z)((0,i.Z)({},oe),{},{pageNumber:e,pageSize:t}))},onAddSelected:function(e){At(!1);var t=e.map((function(e,t){return{titleId:e.titleId,titleName:e.titleName,action2:{id:e.titleId,icon:"",toolTip:""},action:{id:e.titleId,icon:e.titleId===X?h.cJ:h.cM,toolTip:"View title details",actionName:"viewTitleDetailsFromTableTwo"},isHighlighted:e.isHighlighted,effectivityDates:[{id:t,startDate:null,endDate:null,dayStart:null,monthStart:null,yearStart:null,dayEnd:null,monthEnd:null,yearEnd:null}]}}));Je(t),lt("Create")},onRemoveAll:function(){G([]),pt(!0)},onRemoveSelected:function(e){var t=e.map((function(e){return e.titleId})),a=W.filter((function(e){return!t.includes(e.titleId)}));G(a),pt(!0)},onChangeTableTwoData:function(e){nt(!1),G(e)},onAction:function(e,t,a){switch(e){case"viewTitleDetailsFromTableOne":!function(e){G(Ja(W)),e===X?q(Ja(H)):(q(Ua(H,e)),setTimeout((function(){Be(!0)}),100))}(t);break;case"viewTitleDetailsFromTableTwo":!function(e){q(Ja(H)),e===X?G(Ja(W)):(G(Ua(W,e)),setTimeout((function(){Re(!0)}),100))}(t);break;case"modifyTitleEffectivityDates":!function(e){var t=JSON.parse(JSON.stringify(e));t.effectivityDates=t.effectivityDates?t.effectivityDates.sort((function(e,t){return new Date(e.startDate)-new Date(t.startDate)})):[{id:0,startDate:"",endDate:""}],Je([t]),yt(!0),lt("Update")}(a)}},shouldScrollToView:[ke,Oe],setShouldScrollToView:[Be,Re],onShowSetDateModal:function(){yt(!0)},shouldClearSelected:Ft})}),(0,S.jsx)(me,{show:xt,hideModal:function(){yt(!1)},formType:ot,selectedProgrammeTitleList:ze,selectStartDate:function(e){Je(e)},selectEndDate:function(e){Je(e)},onAddDateRange:function(e){Je(e)},onDeleteRange:function(e){Je(e)},onAddTitles:function(e){At(!0);var t=W.findIndex((function(t){return t.titleId===e[0].titleId}));if(t>-1&&1===e.length){var a=JSON.parse(JSON.stringify(W));a[t]=e[0],a[t].action2={id:a[t].titleId,icon:Ya(a[t].effectivityDates)?v:p,toolTip:a[t].effectivityDates.map((function(e){return(e.startDate?J.toFilterByLastSeen(e.startDate):"Immediately")+" - "+(e.endDate?J.toFilterByLastSeen(e.endDate):"Indefinitely")})).join("\n"),actionName:"modifyTitleEffectivityDates"},G(a)}else{var i=[].concat((0,n.Z)(W),(0,n.Z)(e));Oa(i)}yt(!1),pt(!0)}}),X&&ae&&(0,S.jsx)(S.Fragment,{children:1===Xe?(0,S.jsx)(B.Z,{component:"Title Group",program:ae,callbackCloseDetails:Wa}):(0,S.jsx)(L.Z,{component:"Title Group",program:ae,callbackCloseDetails:Wa})}),(0,S.jsx)("div",{style:{textAlign:"right",marginTop:"8px"},children:(0,S.jsx)(x.Z,{isLoading:dt,text:"Save",disabled:!ht,onClick:za})}),(0,S.jsx)(Ge,{show:Ma,onHide:function(){return ka(!1)},onDiscard:function(){return qa(!0)},onExport:function(){return za(!1,!0)},isExporting:Ea}),(0,S.jsx)(Qe,{show:Va,onHide:function(){return Pa(!1)},onDiscard:function(){return qa(!1,!0)},onImport:function(){return za(!1,!1,!0)},isImporting:dt||Xt}),(0,S.jsx)(we,{title:"Import titles to exclude",show:Wt,onImport:$a,onHide:function(){Gt(!1)},onClickSampleTemplate:function(){j.exportSampleTitleExclusionExcelTemplate().then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});saveAs(t,"title-exclusion-sample-template.xlsx")}))},isImporting:Xt}),(0,S.jsx)(Ve,{data:da,show:ha,onHide:function(){return pa(!1)}}),(0,S.jsx)(Ue,{show:Na,onHide:function(){Ta(!1)},onOverwrite:function(){$a(xa,1,!1)},onOverride:function(){$a(xa,2,!1)},isOverwriting:aa,isOverriding:oa}),(0,S.jsx)(ve.Z,{show:jt,onDiscard:function(){It(!1),Ga(qt,!0),Ka()},onSave:function(){za(!0),Ot(qt),It(!1)},onHide:function(){It(!1)},isSaving:dt}),(0,S.jsx)(ve.Z,{show:St,onDiscard:bt,onSave:function(){return za(!0)},onHide:Zt,isSaving:dt})]})}},9791:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(885),i=a(2791),r=a(2426),o=a.n(r),l="styles_dateInput__T4igz",s="styles_dateInputWrapper__JFOLF",c="styles_dayInput__kWYrH",d="styles_monthInput__CpknJ",u="styles_yearInput__2I+id",f="styles_inputDivider__E1qa5",m="styles_invalidInput__jRCSu",h="styles_errorMessage__TNcHK",p="styles_disabledInput__w4mu9",v=a(184),g=(0,i.forwardRef)((function(e,t){var a=e.value,r=e.dayStart,g=e.monthStart,x=e.yearStart,y=e.dayEnd,D=e.monthEnd,_=e.yearEnd,S=e.onChange,b=e.disabled,Z=e.validate,w=e.onValidate,N=e.requiredDateMessage,T=e.exceededDateMessage,j=e.min,I=e.max,E=e.autoFocus,C=e.width,F=(0,i.useRef)(),A=(0,i.useRef)(),M=(0,i.useRef)(),k=(0,i.useState)(!1),B=(0,n.Z)(k,2),L=B[0],V=B[1],P=(0,i.useState)(""),Y=(0,n.Z)(P,2),O=Y[0],R=Y[1],H=(0,i.useState)(""),q=(0,n.Z)(H,2),z=q[0],J=q[1],U=(0,i.useState)(""),W=(0,n.Z)(U,2),G=W[0],Q=W[1],K=(0,i.useState)(0),X=(0,n.Z)(K,2),$=X[0],ee=X[1],te=(0,i.useState)(!1),ae=(0,n.Z)(te,2),ne=ae[0],ie=ae[1],re="function"===typeof w&&Z,oe=function(){setTimeout((function(){F.current.focus(),F.current.select()}),0)},le=function(){setTimeout((function(){A.current.focus(),A.current.select()}),0)},se=function(){setTimeout((function(){M.current.focus(),M.current.select()}),0)},ce=function(e){return e.target.select()},de=function(e){e.stopPropagation();var t=e.target.name;"day"===t&&oe(),"month"===t&&le(),"year"===t&&se()},ue=function(e){if("year"===e.target.name){if(!pe(e.target.value)&&"02"===z){var t=fe(parseInt("02"));O>t&&R(t)}if(pe(e.target.value)&&"02"===z&&parseInt(O)>29&&R("29"),"02"!==z){var a=fe(z);O>a&&R(a)}}ee(0)},fe=function(e){return new Date((new Date).getFullYear(),e,0).getDate()},me=function(e){return 1===e.toString().length?"0".concat(e):"0"===e[0]?e.substring(1,3):e},he=function(e){return 1===e.length?"000".concat(e):2===e.length?"00".concat(e):3===e.length?"0".concat(e):5===e.length&&"0"===e[0]?e.substring(1,5):e},pe=function(e){return e%4===0&&e%100!==0||e%400===0},ve=function(e){var t=e.target.name,a=["day","month"].includes(t),n=e.target.value.split("").filter((function(e){return!isNaN(e)&&!isNaN(parseFloat(e))})).join(""),i="0"===(n=a?me(n):he(n))[0],r=n&&!function(e,t){var a=parseInt(e);if("day"===t){var n=z?fe(parseInt(z)):31;return 2===parseInt(z)&&pe(G)&&(n+=1),a<=n}return"month"!==t||a<=12}(n,t);if(1!==$&&3!==n.length||2!==n.length&&!r||("day"===t?le():se()),a){if(!i&&(function(e){return 3===e.length}(n)||r))return!1}else if(!i&&(function(e){return 5===e.length}(n)||r))return!1;"day"===t?R(n):"month"===t?J(n):Q(n),ee($+1),V(!0)},ge=function(e){var t=j&&function(e){var t=new Date(j);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e<t}(e),a=I&&function(e){var t=new Date(I);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e>t}(e);return t||a};return(0,i.useEffect)((function(){(!a||L)&&O&&z&&G||(a&&o()(a).isValid()?function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,i=t.getFullYear(),r=me(a),o=me(n),l=he(i);R(r),J(o),Q(l)}(a):(r&&R(r),y&&R(y),g&&J(g),D&&J(D),x&&Q(x),_&&Q(_)))}),[a]),(0,i.useEffect)((function(){if(L)if(O&&z&&G&&"00"!==O&&"00"!==z&&"0000"!==G){var e=new Date(parseInt(G),parseInt(z)-1,parseInt(O),0,0,0,0);"function"===typeof S&&S(e);var t=ge(e);ie(t),"function"===typeof w&&w(t)}else"function"===typeof S&&S(null,O,z,G)}),[O,z,G]),(0,i.useEffect)((function(){E&&oe()}),[E]),(0,v.jsxs)("div",{className:l,style:{width:C},children:[(0,v.jsxs)("div",{ref:t,className:"".concat(s," ").concat(!re||a&&!ne||b?"":m," ").concat(b?p:""),style:{width:C},onClick:oe,children:[(0,v.jsx)("input",{ref:F,className:c,style:{marginLeft:O&&"-5px"},value:O,name:"day",type:"text",placeholder:"DD",onChange:ve,onKeyDown:function(e){if("ArrowRight"===e.key&&le(),"ArrowUp"===e.key){var t=parseInt(O)+1;t<=fe(z)&&R(me(t.toString()))}if("ArrowDown"===e.key){var a=parseInt(O)-1;a>=1&&R(me(a.toString()))}"Backspace"===e.key&&(R(""),ee(0),V(!0))},onFocus:ce,onClick:de,onBlur:ue,disabled:b,autoComplete:"off"}),(0,v.jsx)("span",{className:f,children:"/"}),(0,v.jsx)("input",{ref:A,className:d,value:z,name:"month",type:"text",placeholder:"MM",onChange:ve,onKeyDown:function(e){if("ArrowRight"===e.key&&se(),"ArrowLeft"===e.key&&oe(),"ArrowUp"===e.key){var t=parseInt(z)+1;t<=12&&J(me(t.toString()))}if("ArrowDown"===e.key){var a=parseInt(z)-1,n=fe(a);a>=1&&J(me(a.toString())),O>n&&R(n)}"Backspace"===e.key&&(J(""),ee(0),V(!0))},onFocus:ce,onClick:de,onBlur:ue,disabled:b,autoComplete:"off",style:{width:function(e){var t=e.toString();return"11"===t?"10px":["01","10"].includes(t)?"13px":"07"===t?"16px":t.includes("0")?"17px":"12"===t?"13px":"19px"}(z)}}),(0,v.jsx)("span",{className:f,children:"/"}),(0,v.jsx)("input",{ref:M,className:u,value:G,name:"year",type:"text",placeholder:"YYYY",onChange:ve,onKeyDown:function(e){if("ArrowLeft"===e.key&&le(),"ArrowUp"===e.key){var t=parseInt(G)+1;t<=9999&&Q(he(t.toString()))}if("ArrowDown"===e.key){var a=parseInt(G)-1;a>=0&&Q(he(a.toString()))}"Backspace"===e.key&&(Q(""),V(!0))},onFocus:ce,onClick:de,onBlur:ue,disabled:b,autoComplete:"off"})]}),!a&&!b&&re&&(0,v.jsx)("span",{className:h,children:N||"Date is required"}),ne&&a&&!b&&re&&(0,v.jsx)("span",{className:h,children:T||"Date exceeded date period"})]})}))},1103:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(4942),i=a(885),r=a(2791),o=a(9791),l="styles_dateRange__0PJkz",s="styles_dateInput__HjJbJ",c="styles_startDateWrapper__5WQVY",d="styles_endDateWrapper__d6kO1",u="styles_dateRangeWrapper__BlW6u",f="styles_label__JA+3W",m="styles_errorMessage__A6htc",h="styles_labelLeft__BqCFV",p="styles_spaceBetween__AfqRa",v=a(184),g=(0,r.forwardRef)((function(e,t){var a=e.startSettings,g=void 0===a?{value:null,label:"",labelLeft:!1,disabled:!1,required:!1,width:null}:a,x=e.endSettings,y=void 0===x?{value:null,label:"",labelLeft:!1,disabled:!1,required:!1,width:null}:x,D=e.min,_=e.max,S=e.validate,b=e.onValidate,Z=e.onChange,w=e.invalidDateMessage,N=(0,r.useRef)(),T=(0,r.useRef)(),j=(0,r.useState)(null),I=(0,i.Z)(j,2),E=I[0],C=I[1],F=(0,r.useState)(null),A=(0,i.Z)(F,2),M=A[0],k=A[1],B=(0,r.useState)(null),L=(0,i.Z)(B,2),V=L[0],P=L[1],Y=(0,r.useState)(null),O=(0,i.Z)(Y,2),R=O[0],H=O[1],q=(0,r.useState)(null),z=(0,i.Z)(q,2),J=z[0],U=z[1],W=(0,r.useState)(null),G=(0,i.Z)(W,2),Q=G[0],K=G[1],X=(0,r.useState)(null),$=(0,i.Z)(X,2),ee=$[0],te=$[1],ae=(0,r.useState)(null),ne=(0,i.Z)(ae,2),ie=ne[0],re=ne[1],oe=(0,r.useState)(!1),le=(0,i.Z)(oe,2),se=le[0],ce=le[1],de="function"===typeof b&&S,ue=se&&!g.disabled&&!y.disabled&&de,fe=!g.disabled&&!E&&g.required&&de,me=!y.disabled&&!M&&y.required&&de,he=function(e,t,a,i,r){var o;("start"===e?C(t):k(t),"function"===typeof Z)&&Z((o={start:"start"===e?t:E,end:"end"===e?t:M,dayStart:"start"===e?a:V,monthStart:"start"===e?i:J,yearStart:"start"===e?r:ee},(0,n.Z)(o,"end","end"===e?t:M),(0,n.Z)(o,"dayEnd","end"===e?a:R),(0,n.Z)(o,"monthEnd","end"===e?i:Q),(0,n.Z)(o,"yearEnd","end"===e?r:ie),o))};return(0,r.useEffect)((function(){var e=E&&(D&&E<D||_&&E>_)||E&&M&&E>M||M&&_&&(M<D||M>_);ce(e),de&&b(e)}),[E,M]),(0,r.useEffect)((function(){C(g.value),k(y.value),P(g.dayStart),H(y.dayEnd),U(g.monthStart),K(y.monthEnd),te(g.yearStart),re(y.yearEnd)}),[g,y]),(0,v.jsxs)("div",{className:l,children:[(0,v.jsxs)("div",{ref:t,className:u,children:[(0,v.jsxs)("div",{className:"".concat(c," ").concat(g.labelLeft&&h),children:[null!==g.label&&(0,v.jsx)("span",{className:f,children:g.label||"Start"}),(0,v.jsx)("div",{className:s,children:(0,v.jsx)(o.Z,{ref:N,value:g.value,dayStart:g.dayStart,monthStart:g.monthStart,yearStart:g.yearStart,min:D,max:M,onChange:function(e,t,a,n){return he("start",e,t,a,n)},validate:fe,disabled:g.disabled,width:g.width})})]}),!y.labelLeft&&(0,v.jsx)("div",{className:p}),(0,v.jsxs)("div",{className:"".concat(d," ").concat(y.labelLeft&&h),children:[null!==y.label&&(0,v.jsx)("span",{className:f,children:y.label||"End"}),(0,v.jsx)("div",{className:s,children:(0,v.jsx)(o.Z,{ref:T,value:y.value,dayEnd:y.dayEnd,monthEnd:y.monthEnd,yearEnd:y.yearEnd,min:E,max:_,onChange:function(e,t,a,n){return he("end",e,t,a,n)},validate:me,disabled:y.disabled,width:y.width})})]})]}),fe&&!me&&(0,v.jsx)("span",{className:m,children:"Start date is required"}),me&&!fe&&(0,v.jsx)("span",{className:m,children:"End date is required"}),fe&&me&&(0,v.jsx)("span",{className:m,children:"Start date and End date are required"}),ue&&(0,v.jsx)("span",{className:m,children:w||"Date range is invalid"})]})}))},9285:function(){},5666:function(e,t){t.Z={promptModalBody:"styles_promptModalBody__PSuKN",button:"styles_button__x0Yl0"}},5804:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAALCAYAAACZIGYHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABbSURBVHgBtZLRCYAwDESvE+gIt4oT6QiO5gaOoJvoFVIo/UvaPngQ8nGEJIAPmmEoH5MIsspbflOCkjzhIwftVr9yS5bawxWZZJFHPQmcdC93yHWIAX9Sgtg2fy/cFfOqTdHtAAAAAElFTkSuQmCC"},1850:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE/SURBVHgB7ZfNTcNAEIXfLC4kJdABphLshDvnEOUUYThSAIShEuwS6MB9QHYwEYrXC2J/DCFI+x3ssTWynzRvZ2cJPtzMLiA4RgxaGizW7EojVwJWRY4j9YQxbPQpllx/l6LgQqkJxuLxjQyhELFXnkiBAMKFzO9Lr7xqWiAAd2n2xMEIIVQld7cz/CUETqWxybARhpJ6+0SUD8ok2m+F+ELqoY/B0Lr5iNthZ73qlhyhT75cuztvCNVUdrGgNFt/8ojNAZk1lOtZ76FXesTyrt7Gq/McmfRG990KooWYm5mSpo/1pDNgYWQGCUkesUlCbJIQmyTEJqKhGaPBC+pdrHQNjeixIVzIgvnL93NuuysjkuQRm39iVnPL/wlEECck8Pw6hmFptG6xL6x/fZ7S3yd5RSf4TUSeuxPCrfnqDVgIV0jsM79fAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=494.5b8f9cd4.chunk.js.map