(self.webpackChunksky=self.webpackChunksky||[]).push([[841],{5576:function(e,n,t){"use strict";t.d(n,{E:function(){return l}});var a=t(885),i=t(2791),s=t(6871),r=t(1413);function l(e){var n=(0,s.s0)(),t=(0,s.TH)(),l=(0,i.useState)(!1),o=(0,a.Z)(l,2),c=o[0],u=o[1],d=(0,i.useState)(null),m=(0,a.Z)(d,2),p=m[0],f=m[1],h=(0,i.useState)(!1),b=(0,a.Z)(h,2),v=b[0],g=b[1],x=(0,i.useCallback)((function(){u(!1),g(!1),f(null)}),[]),y=(0,i.useCallback)((function(e){return!(!v&&e.location.pathname!==t.pathname)||(u(!0),f(e),!1)}),[v]),_=(0,i.useCallback)((function(){u(!1),g(!0)}),[]);return(0,i.useEffect)((function(){v&&p&&n(p.location.pathname)}),[v,p]),function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=i.useContext(s.Us).navigator;i.useEffect((function(){if(n){var a=t.block((function(n){var t=(0,r.Z)((0,r.Z)({},n),{},{retry:function(){a(),n.retry()}});e(t)}));return a}}),[t,e,n])}(y,e),[c,_,x,function(){u(!1),g(!1),f(null)}]}},5509:function(e,n,t){"use strict";var a=t(885),i=t(2791),s=t(1908),r=t(184);function l(e){var n=e.activeTab,t=e.onClick,l=e.label,o=e.customClassActiveHeader,c=(0,i.useState)(""),u=(0,a.Z)(c,2),d=u[0],m=u[1],p=function(e){t(e)};return(0,i.useEffect)((function(){m(n===l?"".concat(s.Z.tabListItem," ").concat(s.Z.tabListActive," ").concat(o):s.Z.tabListItem)}),[n]),(0,r.jsx)("li",{className:"".concat(d," ").concat(s.Z.tabHeader),onClick:function(){p(l)},onKeyDown:function(){p(l)},role:"presentation",children:l})}l.defaultProps={activeTab:null,label:null},n.Z=l},7457:function(e,n,t){"use strict";var a=t(4569),i=t.n(a),s={addChannel:function(e){var n="".concat("https://localhost:44357/api/","Channel/AddChannel");return i().post(n,e)},updateChannel:function(e,n){var t="".concat("https://localhost:44357/api/","Channel/EditChannel/").concat(e);return i().put(t,n)},getChannelGroups:function(e){var n="".concat("https://localhost:44357/api/","ChannelGroup/GetChannelGroupLookup").concat(e);return i().get(n)},getChannel:function(e){var n="".concat("https://localhost:44357/api/","Channel/GetChannelById/").concat(e);return i().get(n)},exportChannels:function(e){var n="".concat("https://localhost:44357/api/","Channel/Export").concat(e);return i().get(n,{responseType:"arraybuffer"})},getOrganisations:function(){var e="".concat("https://localhost:44357/api/","Organisation/GetAllOrganisations");return i().get(e)},getChannels:function(e){var n="".concat("https://localhost:44357/api/","Channel/GetChannelList").concat(e);return i().get(n)},getTimezoneLookup:function(){var e="".concat("https://localhost:44357/api/","Channel/GetTimeZoneLookup");return i().get(e)},exportSampleTemplate:function(){var e="".concat("https://localhost:44357/api/","Channel/SampleDataExport");return i().get(e,{responseType:"arraybuffer"})}};n.Z=s},6838:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ut}});var a=t(2982),i=t(5861),s=t(4942),r=t(1413),l=t(885),o=t(7757),c=t.n(o),u=t(2791),d=t(4802),m="ChannelProfile_marginBottom__+haS7",p="ChannelProfile_channelLabel__opvGw",f="ChannelProfile_saveButton__Acm9p",h="ChannelProfile_daySelect__j9rJw",b="ChannelProfile_profileViewFooter__DUyhx",v="ChannelProfile_activeTabContent__aAb26",g="ChannelProfile_divider__YUr59",x=t(5576),y=t(1908),_=t(5509),P=t(6986),C=t(7009),S="Profile_profileBody__-qDt4",j="Profile_divProfile__AATcx",N="Profile_wrapper__NXQdk",T="Profile_wrapperContent__SmkHZ",k="Profile_form__Gomco",Z="Profile_header__qwWCD",w="Profile_loadProfileText__gaVib",R="Profile_profileView__uppAU",I="Profile_modal__KRTz8",M="Profile_searchChannelInput__7kRNy",B="Profile_searchChannelIcon__3rrDG",D="Profile_clearSearchChannelIcon__LM9yc",L="Profile_clearSearchChannelIconWrapper__k3Cur",A="Profile_searchChannelIconWrapper__+IdLL",W="Profile_channelList__NIuDj",V="Profile_modalActionButtons__Ymv7k",F="Profile_channelListItem__rdQlp",H="Profile_selectDaysModalBody__Wht6R",Y="Profile_checkBox__Ttaz2",E="Profile_activeCheckBox__lI+8k",J="Profile_checkIcon__ScM5m",O="Profile_checkIcon2__ByU0Q",K="Profile_dayName__kT6Dq",U="Profile_dayListItem__c7zLz",G="Profile_channelListItemLabel__5P3JF",z="Profile_daySection__QoQPw",q="Profile_startTimeSection__LGxfu",Q="Profile_daySelect__urIUN",X="Profile_profileSelect__uI2Is",$="Profile_headerButtons__s2YuA",ee="Profile_daySectionText__DBAD6",ne="Profile_copyIcon__PrAvo",te="Profile_formContent__dxrhm",ae="Profile_formFooter__Lpawl",ie="Profile_headerContent__ybDBR",se="Profile_column__ZFMY+",re="Profile_loadProfileButton__sGzji",le="Profile_applyToOtherChannelsButton__wW7FL",oe="Profile_checkbox__+rxoL",ce="Profile_activeCheckbox__-t7VY",ue="Profile_disabledCheckbox__FQyhG",de="Profile_disabledCheckboxText__VrCPK",me="Profile_selectDaysModal__+YMWM",pe="Profile_applySelectedDayConfirmationModal__oNX21",fe="Profile_appliedProfileValuesMessage__T3w-5",he="Profile_startTimeLabel__lBHS1",be="Profile_applyProfileModalBody__6br2k",ve="Profile_selectedDayConfirmationModal__cDom6",ge="Profile_proceedConfirmationText__a58bR",xe="Profile_saveModalButton__t-czE",ye="Profile_cancelButton__p4ZI4",_e=t(184);function Pe(e){var n=e.scheduleList;return(0,_e.jsx)("div",{children:n&&n.map((function(e){return(0,_e.jsx)("p",{style:{margin:"0"},children:e},e.id)}))})}Pe.defaultProps={scheduleList:null};var Ce=Pe,Se=t(3144),je=t(5671),Ne=new((0,Se.Z)((function e(){(0,je.Z)(this,e),this.genreFields=[{label:"Adventure",type:"number"},{label:"Animation",type:"number"},{label:"Action",type:"number"},{label:"Comedy",type:"number"},{label:"Drama",type:"number"},{label:"Factual",type:"number"},{label:"Fantasy",type:"number"},{label:"Family",type:"number"},{label:"Horror",type:"number"},{label:"Romance",type:"number"},{label:"Sci-Fi",type:"number"},{label:"Thriller",type:"number"},{label:"Undefined",type:"number"},{label:"Western",type:"number"}],this.certificationFields=[{label:"Violence",type:"number"},{label:"Sex",type:"number"},{label:"Mature Theme",type:"number"},{label:"Flashing Images",type:"number"}],this.ageCertificationFields=[{label:"Cinema U",type:"number"},{label:"Cinema PG",type:"number"},{label:"Cinema 12",type:"number"},{label:"Cinema 15",type:"number"},{label:"Cinema 18",type:"number"},{label:"Cinema 18+Post 2100",type:"number"}],this.gradeFields=[{label:"A",type:"number"},{label:"B",type:"number"},{label:"C",type:"number"},{label:"D",type:"number"},{label:"N",type:"number"},{label:"L",type:"number"},{label:"LA",type:"number"},{label:"LB",type:"number"},{label:"LC",type:"number"},{label:"L1",type:"number"},{label:"L1A",type:"number"},{label:"L1B",type:"number"},{label:"L1C",type:"number"},{label:"LM",type:"number"},{label:"3D",type:"number"},{label:"SB",type:"number"},{label:"OA",type:"number"},{label:"OB",type:"number"}],this.dayList=[{id:"1",name:"Monday"},{id:"2",name:"Tuesday"},{id:"3",name:"Wednesday"},{id:"4",name:"Thursday"},{id:"5",name:"Friday"},{id:"6",name:"Saturday"},{id:"7",name:"Sunday"}],this.scheduleList=["00:00 - 00:05 - 65%","00:05 - 00:10 - 35%","00:10 - 00:15 - 55%","00:15 - 00:20 - 65%","00:20 - 00:25 - 75%"],this.switchOptions=["Yes","No"],this.timeOptions={start:"start",end:"end"}})));var Te=t.p+"static/media/Copy.8d29ec2bfe0671bd496cd4a610baa0a0.svg";var ke=t.p+"static/media/Check-2.c0b4551d0b0c4cfc65b02ec7e0e9b76b.svg",Ze=t(9639),we=t(6600),Re="styles_defaultButton__qbm84",Ie="styles_button__eNX4-",Me="styles_buttonSm__zeFeN",Be="styles_buttonMd__0Fwca",De="styles_buttonLg__GICsh";function Le(e){var n=e.text,t=e.size,a=e.defaultBtn,i=e.disabled,s=e.onClick,l=e.style,o="lg"===t&&De,c="md"===t&&Be,u="sm"===t&&Me;return(0,_e.jsx)("button",{className:"".concat(a?Re:Ie," ").concat(o," ").concat(c," ").concat(u),style:(0,r.Z)({},l),onClick:s,disabled:i,type:"button",children:n})}Le.defaultProps={text:"",size:"md",disabled:!1,onClick:null,style:{},defaultBtn:!1};var Ae=Le,We=t(5157),Ve="ProfileForm_probabilityItem__KnS+F",Fe="ProfileForm_categoryItem__0sJbM",He="ProfileForm_trashIcon__NUuEG",Ye=t(4829);function Ee(e){var n=e.preDefinedCategories,t=e.columnPosition,i=e.onFormChange,s=(0,u.useState)([]),o=(0,l.Z)(s,2),c=o[0],d=o[1],m=function(e){var n=c.filter((function(n){return n.orderNumber!==e})).map((function(n){return e<n.orderNumber?(0,r.Z)((0,r.Z)({},n),{},{orderNumber:n.orderNumber-1}):n}));d(n)},p=function(e,n){var t=c.filter((function(n){return n.orderNumber!==e})),i=c.find((function(n){return n.orderNumber===e})),s=i.probabilities.filter((function(e){return e.orderNumber!==n})).map((function(e){return n<e.orderNumber?(0,r.Z)((0,r.Z)({},e),{},{orderNumber:e.orderNumber-1}):e}));d([].concat((0,a.Z)(t),[(0,r.Z)((0,r.Z)({},i),{},{probabilities:s})]))},f=function(e){var n=c.filter((function(n){return n.orderNumber!==parseInt(e.target.name,10)})),t=c.find((function(n){return n.orderNumber===parseInt(e.target.name,10)}));t.name=e.target.value,d([].concat((0,a.Z)(n),[t]))};return(0,u.useEffect)((function(){null!==c&&c.length>0?i(c):i(t)}),[c]),(0,u.useEffect)((function(){if(n)switch(t){case 1:d(n);break;case 2:setTimeout((function(){d(n)}),1);break;case 3:setTimeout((function(){d(n)}),2)}}),[n]),(0,_e.jsxs)(_e.Fragment,{children:[c.sort((function(e,n){return e.orderNumber-n.orderNumber})).map((function(e){return(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:Fe,children:[(0,_e.jsx)("img",{className:He,src:Ye.Z,alt:"",onClick:function(){return m(e.orderNumber)},onKeyDown:function(){return m(e.orderNumber)},role:"presentation"}),(0,_e.jsx)(We.Z,{value:e.name,name:e.orderNumber,maxLength:"100",onChange:f})]}),e.probabilities.sort((function(e,n){return e.orderNumber-n.orderNumber})).map((function(n){return(0,_e.jsx)("div",{children:(0,_e.jsxs)("div",{className:Ve,children:[(0,_e.jsx)("img",{className:He,src:Ye.Z,alt:"",onClick:function(){return p(e.orderNumber,n.orderNumber)},onKeyDown:function(){return p(e.orderNumber,n.orderNumber)},role:"presentation"}),(0,_e.jsx)(We.Z,{value:n.name,name:n.orderNumber,maxLength:"100",onChange:function(n){return function(e,n){var t=c.filter((function(e){return e.orderNumber!==n})),i=c.find((function(e){return e.orderNumber===n})),s=i.probabilities.filter((function(n){return n.orderNumber!==parseInt(e.target.name,10)})),l=i.probabilities.find((function(n){return n.orderNumber===parseInt(e.target.name,10)}));l.name=e.target.value,d([].concat((0,a.Z)(t),[(0,r.Z)((0,r.Z)({},i),{},{probabilities:[].concat((0,a.Z)(s),[l])})]))}(n,e.orderNumber)}})]})},n.orderNumber)})),(0,_e.jsx)(Ae,{text:"Add Profile",onClick:function(){return function(e){var n=c.find((function(n){return n.orderNumber===e})),t=c.filter((function(n){return n.orderNumber!==e}));n.probabilities.push({orderNumber:n.probabilities.length+1,name:""}),d([].concat((0,a.Z)(t),[n]))}(e.orderNumber)},style:{marginLeft:"33px",marginBottom:"5px"}})]},e.orderNumber)})),(0,_e.jsx)(Ae,{text:"Add Category",onClick:function(){d([].concat((0,a.Z)(c),[{orderNumber:c.length+1,name:"",probabilities:[],columnPosition:t}]))}})]})}Ee.defaultProps={preDefinedCategories:null,columnPosition:null};var Je=Ee,Oe=t(4569),Ke=t.n(Oe),Ue={getChannels:function(){var e="".concat("https://localhost:44357/api/","Channel/GetChannelLookup");return Ke().get(e)},getChannelProfiles:function(e,n,t,a){var i="".concat("https://localhost:44357/api/","Channel/GetChannelProfile?channelId=").concat(e,"&weekDay=").concat(n,"&startTime=").concat(t,"&endTime=").concat(a);return Ke().get(i)},getBusinessRules:function(e){var n="".concat("https://localhost:44357/api/","Channel/GetBusinessRules/").concat(e);return Ke().get(n)},getChannelScoring:function(e){var n="".concat("https://localhost:44357/api/","Channel/GetChannelScoring/").concat(e);return Ke().get(n)},saveChannelProfile:function(e){var n="".concat("https://localhost:44357/api/","Channel/SaveChannelProfile");return Ke().post(n,e)},saveBusinessRules:function(e){var n="".concat("https://localhost:44357/api/","Channel/SaveBusinessRules");return Ke().post(n,e)},saveChannelScoring:function(e){var n="".concat("https://localhost:44357/api/","Channel/SaveChannelScoring");return Ke().post(n,e)},getChannelProfileSession:function(){var e="".concat("https://localhost:44357/api/","Channel/GetChannelProfileSession");return Ke().get(e)},saveChannelProfileSession:function(e){var n="".concat("https://localhost:44357/api/","Channel/AddChannelProfileSession").concat(e);return Ke().post(n)},saveChannelProfileProbabilities:function(e){var n="".concat("https://localhost:44357/api/","Channel/SaveChannelProfileProbabilities");return Ke().post(n,e)},getChannelProfileProbabilities:function(e){var n="".concat("https://localhost:44357/api/","Channel/GetChannelProfileProbabilities").concat(e);return Ke().get(n)},getChannelLookupWithPredefinedProfile:function(e){var n="".concat("https://localhost:44357/api/","Channel/GetChannelLookupWithPredefinedProfiles?channelID=").concat(e);return Ke().get(n)},applyProfileToSelectedDays:function(e){var n="".concat("https://localhost:44357/api/","Channel/ApplyProfileValues");return Ke().post(n,e)},uploadImportedFile:function(e,n){var t=new FormData;t.append("file",n);var a="".concat("https://localhost:44357/api/","Channel/ImportCustomBusinessRules?channelId=").concat(e);return Ke().post(a,t,{headers:{"Content-Type":"multipart/form-data"}})},exportCustomBusinessRules:function(e){var n="".concat("https://localhost:44357/api/","Channel/ExportCustomBusinessRules?channelId=").concat(e);return Ke().get(n,{responseType:"arraybuffer"})},getAssetListAttributesLookup:function(e){var n="".concat("https://localhost:44357/api/","Channel/AttributesToCheckLookUp?id=").concat(e);return Ke().get(n)},saveChannelProfileValues:function(e){var n="".concat("https://localhost:44357/api/","Channel/saveChannelProfileValues");return Ke().post(n,e)},getChannelProfileValues:function(e,n,t){var a="".concat("https://localhost:44357/api/","Channel/GetChannelProfileValue?channelId=").concat(e,"&weekDay=").concat(n,"&profileAttributeID=").concat(t);return Ke().get(a)}},Ge={getChannelList:function(e){var n="".concat("https://localhost:44357/api/","channel/selectChannel?channelId=").concat(e);return Ke().get(n)},applyProfilePreCheck:function(e){var n="".concat("https://localhost:44357/api/","channel/applyProfilePreCheck");return Ke().post(n,e)},applyProfile:function(e){var n="".concat("https://localhost:44357/api/","channel/applyProfile");return Ke().post(n,e)}},ze=t(2632);function qe(e){var n=e.show,t=e.onHide,i=e.onShow,s=e.channelId,r=e.isDirtyForm,o=(0,u.useState)([]),c=(0,l.Z)(o,2),d=c[0],m=c[1],p=(0,u.useState)([]),f=(0,l.Z)(p,2),h=f[0],b=f[1],v=(0,u.useState)([]),g=(0,l.Z)(v,2),x=g[0],y=g[1],_=(0,u.useState)(!1),C=(0,l.Z)(_,2),S=C[0],j=C[1],N=(0,u.useState)(""),T=(0,l.Z)(N,2),k=T[0],Z=T[1],w=(0,u.useState)(!1),R=(0,l.Z)(w,2),H=R[0],J=R[1],K=(0,u.useState)(!1),U=(0,l.Z)(K,2),z=U[0],q=U[1],Q=(0,u.useState)(!1),X=(0,l.Z)(Q,2),$=X[0],ee=X[1],ne=(0,u.useState)(""),te=(0,l.Z)(ne,2),ae=te[0],ie=te[1],se=(0,u.useState)(!1),re=(0,l.Z)(se,2),le=re[0],oe=re[1],ce=function(e){x.includes(e)?y(x.filter((function(n){return n!==e}))):y([].concat((0,a.Z)(x),[e]))},ue=function(){m(h.filter((function(e){return e.channelName.toLowerCase().includes(k.toLowerCase())}))),j(!0)},de=function(){m(h),Z(""),j(!1)},me=function(){var e={channelId:s,channelIds:x};oe(!0),Ge.applyProfile(e).then((function(e){ie("Profile successfully applied to ".concat(e.data," channel(s).")),J(!1),oe(!1),setTimeout((function(){q(!0)}),500)}))},pe=function(){me()},fe=function(){J(!1),ee(!1),setTimeout((function(){i()}),500)};return(0,u.useEffect)((function(){var e;null!==s&&(e=s,Ge.getChannelList(e).then((function(e){m(e.data),b(e.data)})))}),[s]),(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(P.Z,{contentClassName:I,show:n,onHide:t,centered:!0,children:(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{children:"Select channel(s):"}),(0,_e.jsxs)("div",{className:"d-flex",style:{width:"100%",marginTop:"15px"},children:[(0,_e.jsx)("input",{type:"text",value:k,className:M,placeholder:"Search channel",onChange:function(e){Z(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.target.value.length>0&&ue()}}),S&&(0,_e.jsx)("div",{className:L,children:(0,_e.jsx)("span",{className:D,onClick:de,onKeyDown:de,role:"presentation"})}),(0,_e.jsx)("div",{className:A,children:(0,_e.jsx)("span",{className:B,onClick:ue,onKeyDown:ue,role:"presentation"})})]}),(0,_e.jsx)("div",{className:W,style:{textAlign:0===d.length&&"center",marginTop:0===d.length&&!S&&"0px"},children:d.length>0?d.map((function(e){return(0,_e.jsxs)("div",{className:F,onClick:function(){return ce(e.channelId)},onKeyDown:function(){return ce(e.channelId)},role:"presentation",children:[(0,_e.jsx)("div",{className:x.includes(e.channelId)?E:Y,children:(0,_e.jsx)("span",{className:O})}),(0,_e.jsx)("div",{className:G,children:e.channelName})]},e.channelId)})):(0,_e.jsx)("div",{children:"No channels found"})}),(0,_e.jsxs)("div",{className:V,children:[(0,_e.jsx)(Ae,{text:"Close",defaultBtn:!0,onClick:t}),(0,_e.jsx)(Ae,{text:"Apply",onClick:function(){var e={channelIds:x};Ge.applyProfilePreCheck(e).then((function(e){t(),e.data?setTimeout((function(){J(!0)}),500):setTimeout((function(){r?ee(!0):me()}),500)})).catch((function(e){(0,ze.h)(e.response.data.message)}))},disabled:0===x.length})]})]})}),(0,_e.jsx)(P.Z,{show:z,centered:!0,children:(0,_e.jsxs)("div",{style:{padding:"30px 50px",textAlign:"center",fontSize:"18px"},children:[(0,_e.jsx)("p",{style:{fontWeight:"200"},children:ae}),(0,_e.jsx)("div",{style:{marginTop:"30px"},children:(0,_e.jsx)(Ae,{text:"Close",onClick:function(){return q(!1)}})})]})}),(0,_e.jsx)(P.Z,{show:$,centered:!0,children:(0,_e.jsxs)("div",{style:{padding:"30px 50px",textAlign:"center",fontSize:"18px"},children:[(0,_e.jsx)("p",{style:{fontWeight:"200"},children:"Unsaved changes will not be applied to the selected channels."}),(0,_e.jsx)("p",{children:"Are you sure you want to proceed?"}),(0,_e.jsxs)("div",{style:{marginTop:"30px"},children:[(0,_e.jsx)(Ae,{text:"Cancel",defaultBtn:!0,onClick:fe}),(0,_e.jsx)(Ae,{text:"Proceed",onClick:pe,disabled:le})]})]})}),(0,_e.jsx)(P.Z,{show:H,centered:!0,children:(0,_e.jsxs)("div",{style:{padding:"30px 50px",textAlign:"center",fontSize:"18px"},children:[r&&(0,_e.jsx)("p",{style:{fontWeight:"200"},children:"Unsaved changes will not be applied to the selected channels."}),(0,_e.jsx)("p",{style:{fontWeight:"200"},children:"Some of the selected channels already have existing profiles defined. Updating their profiles will result in losing saved values from the previously saved profiles."}),(0,_e.jsx)("p",{children:"Are you sure you want to proceed?"}),(0,_e.jsxs)("div",{style:{marginTop:"30px"},children:[(0,_e.jsx)(Ae,{text:"Cancel",defaultBtn:!0,onClick:fe}),(0,_e.jsx)(Ae,{text:"Proceed",onClick:pe,disabled:le})]})]})})]})}qe.defaultProps={show:!1,channelId:null,isDirtyForm:!1};var Qe=qe,Xe=(0,u.forwardRef)((function(e,n){var t=e.preDefinedCategories,i=e.onClickSaveProbabilities,s=e.onClickCloseForm,r=e.getChannelProbabilities,o=e.channelId,c=e.formType,d=e.setDirtyForm,m=(0,u.useState)([]),p=(0,l.Z)(m,2),f=p[0],h=p[1],b=(0,u.useState)(),v=(0,l.Z)(b,2),g=v[0],x=v[1],y=(0,u.useState)(!1),_=(0,l.Z)(y,2),C=_[0],S=_[1],j=(0,u.useState)(!1),N=(0,l.Z)(j,2),T=N[0],R=N[1],I=(0,u.useState)(!1),M=(0,l.Z)(I,2),B=M[0],D=M[1],L=(0,u.useState)("Please select a channel"),A=(0,l.Z)(L,2),W=A[0],V=A[1],F=(0,u.useState)(),H=(0,l.Z)(F,2),Y=H[0],E=H[1],J=(0,u.useState)(),O=(0,l.Z)(J,2),K=O[0],U=O[1],G=(0,u.useState)(),z=(0,l.Z)(G,2),q=z[0],Q=z[1],X=(0,u.useState)(!1),$=(0,l.Z)(X,2),ee=$[0],ne=$[1],oe=(0,u.useState)(!1),ce=(0,l.Z)(oe,2),ue=ce[0],de=ce[1],me=(0,u.useState)({}),pe=(0,l.Z)(me,2),fe=pe[0],he=pe[1],be=(0,u.useState)(!1),ve=(0,l.Z)(be,2),ge=ve[0],Pe=ve[1],Ce=(0,u.useState)(!1),Se=(0,l.Z)(Ce,2),je=Se[0],Ne=Se[1];(0,u.useImperativeHandle)(n,(function(){return{hideConfirmationModal:function(){R(!1)},saveChannelProfileProbabilities:function(){i(f,!1)}}}));var Te=function(e,n){return JSON.stringify(e)!==JSON.stringify(n)||ge?(d("Add/Insert Channel Profile"),!1):(d(""),!0)},ke=function(e){if(isNaN(e)){var n=f.filter((function(n){return e.some((function(e){return e.columnPosition!==n.columnPosition||e.columnPosition!==n.columnPosition&&e.orderNumber!==n.orderNumber}))}));h([].concat((0,a.Z)(n),(0,a.Z)(e)))}else{var t=e,i=f.filter((function(e){return e.columnPosition!==t}));h((0,a.Z)(i))}},we=function(){S(!0)};return(0,u.useEffect)((function(){o&&Ue.getChannelLookupWithPredefinedProfile(o).then((function(e){x(e.data.map((function(e){return{id:e.channelId,name:e.channelName}})))}))}),[]),(0,u.useEffect)((function(){!function(){var e=f.every((function(e){return 0!==e.name.length&&0!==e.probabilities.length&&e.probabilities.every((function(e){return 0!==e.name.length}))}));D(!e)}(),Te(t,f.sort((function(e,n){return e.categoryID-n.categoryID})))}),[f]),(0,u.useEffect)((function(){var e=JSON.parse(JSON.stringify(t)),n=null===e||void 0===e?void 0:e.filter((function(e){return 1===e.columnPosition})),a=null===e||void 0===e?void 0:e.filter((function(e){return 2===e.columnPosition})),i=null===e||void 0===e?void 0:e.filter((function(e){return 3===e.columnPosition}));E(n),U(a),Q(i),h(t)}),[t]),(0,_e.jsxs)("div",{className:k,children:[(0,_e.jsx)("div",{className:Z,children:(0,_e.jsxs)("div",{className:ie,children:[(0,_e.jsxs)("div",{className:re,children:[(0,_e.jsx)("div",{style:{whiteSpace:"nowrap"},children:(0,_e.jsx)("span",{className:w,children:"Load profile:"})}),(0,_e.jsx)("div",{style:{width:"100%"},children:(0,_e.jsx)(Ze.Z,{text:W,list:g,buttonStyle:{padding:"9px 15px",height:"36px"},onSelect:function(e){Te(t,f.sort((function(e,n){return e.categoryID-n.categoryID})))?(r(e.id),V(e.name)):(he(e),de(!0))},withSearch:!0,width:"100%"})})]}),(0,_e.jsx)("div",{className:le,children:(0,_e.jsx)(Ae,{text:"Apply profile to other channels",onClick:we,style:{width:"100%"},disabled:0===t.length||g&&0===g.length})})]})}),(0,_e.jsxs)("div",{className:te,children:[(0,_e.jsx)("div",{className:se,children:(0,_e.jsx)(Je,{columnPosition:1,onFormChange:ke,preDefinedCategories:Y})}),(0,_e.jsx)("div",{className:se,children:(0,_e.jsx)(Je,{columnPosition:2,onFormChange:ke,preDefinedCategories:K})}),(0,_e.jsx)("div",{className:se,children:(0,_e.jsx)(Je,{columnPosition:3,onFormChange:ke,preDefinedCategories:q})})]}),(0,_e.jsxs)("div",{className:ae,children:[(0,_e.jsx)(Ae,{text:"Close",defaultBtn:!0,onClick:function(){var e=Te(t,f);ge?(Ne(!0),de(!0)):(e||d("Close Manage Profile"),s(!e))}}),(0,_e.jsx)(Ae,{text:"Create"===c?"Save":"Update",disabled:B,onClick:function(){return"Create"===c?i(f):R(!0)}})]}),(0,_e.jsx)(Qe,{channelId:o,show:C,onHide:function(){S(!1)},onShow:we,isDirtyForm:!Te(t,f)}),(0,_e.jsx)(P.Z,{show:T,onHide:function(){return R(!1)},centered:!0,children:(0,_e.jsxs)("div",{style:{padding:"30px 35px",textAlign:"center",fontSize:"18px"},children:[(0,_e.jsxs)("p",{style:{fontWeight:"200",marginBottom:"20px"},children:["Updating this channel's profile may result",(0,_e.jsx)("br",{}),"in losing values from the previously saved profiles."]}),(0,_e.jsx)("p",{children:"Are you sure you want to proceed?"}),(0,_e.jsxs)("div",{style:{marginTop:"30px"},children:[(0,_e.jsx)(Ae,{text:"Cancel",defaultBtn:!0,onClick:function(){return R(!1)}}),(0,_e.jsx)(Ae,{text:"Proceed",onClick:function(){ne(!0),i(f),R(!1),ne(!1),Pe(!1)},disabled:ee})]})]})}),(0,_e.jsx)(P.Z,{size:"md",show:ue,onHide:function(){return de(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,_e.jsxs)(P.Z.Body,{style:{padding:"35px"},children:[(0,_e.jsx)("div",{style:{textAlign:"center"},children:"You have unsaved changes, are you sure you want to navigate away from this page?"}),(0,_e.jsxs)("div",{style:{textAlign:"center",paddingTop:"30px"},children:[(0,_e.jsx)("button",{className:xe,onClick:function(){i(f,!je),de(!1),r(fe.id),V(fe.name),Pe(!1),je&&s(!1)},type:"button",children:"Save and proceeded"}),(0,_e.jsx)("button",{className:xe,onClick:function(){r(fe.id),V(fe.name),de(!1),Pe(!1),je&&s(!1)},type:"button",children:"Discard changes and proceed"}),(0,_e.jsx)("button",{className:ye,onClick:function(){de(!1)},style:{marginLeft:"0",background:"none"},type:"button",children:"Cancel"})]})]})})]})}));Xe.defaultProps={preDefinedCategories:null,channelId:null,formType:null},Xe.displayName="AddProfileComponent";var $e=Xe,en="ProfileView_profileView__b8soM",nn="ProfileView_column__8iyVh",tn="ProfileView_card__UghH+",an="ProfileView_categoryLabel__lT5xQ",sn="ProfileView_probabilitiesList__PqhPs",rn="ProfileView_probabilityItem__csaZN",ln="ProfileView_probabilityLabel__GLApd",on="ProfileView_percentText__H0BLU",cn="ProfileView_colon__NCyil",un="ProfileView_probabilityInput__LX1I+",dn=(0,u.forwardRef)((function(e,n){var t=e.categories,a=e.onChangeGetProbabilityParameters,i=(0,u.useRef)(),s=(0,u.useRef)(),r=(0,u.useState)(0),o=(0,l.Z)(r,2),c=o[0],d=o[1],m=(0,u.useState)(0),p=(0,l.Z)(m,2),f=p[0],h=p[1],b=t.filter((function(e){return 1===e.columnPosition})),v=t.filter((function(e){return 2===e.columnPosition})),g=t.filter((function(e){return 3===e.columnPosition})),x=function(){var e,n;d(null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.offsetWidth),h(null===s||void 0===s||null===(n=s.current)||void 0===n?void 0:n.offsetWidth)},y=function(e){a(e)},_=function(e,n){return e.map((function(e){return(0,_e.jsxs)("div",{ref:i,className:tn,children:[(0,_e.jsx)("div",{className:an,"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.name,style:{width:"".concat(c-.09*c,"px")},children:e.name}),(0,_e.jsx)("div",{className:sn,children:e.probabilities&&e.probabilities.length>0&&e.probabilities.sort((function(e,n){return e.orderNumber-n.orderNumber})).map((function(e){return(0,_e.jsxs)("div",{ref:s,className:rn,children:[(0,_e.jsx)("div",{className:ln,style:{width:"".concat(f-.09*f,"px")},children:(0,_e.jsx)("span",{title:e.name,children:e.name})}),(0,_e.jsx)("div",{className:cn,children:":"}),(0,_e.jsx)("div",{style:{width:"100px"},children:(0,_e.jsx)("input",{className:un,value:e.value,name:"".concat(n,",").concat(e.orderNumber,",").concat(e.name),onChange:y,type:"text",max:"5"})}),(0,_e.jsx)("div",{className:on,children:"%"})]},e.id)}))})]},e.id)}))};return(0,u.useImperativeHandle)(n,(function(){return{resizeWidth:function(){setTimeout((function(){x()}),100)}}})),(0,u.useEffect)((function(){window.addEventListener("resize",(function(){x()}))})),(0,u.useEffect)((function(){s.current&&i.current&&x()}),[i.current,s.current]),(0,_e.jsxs)("div",{className:en,children:[(0,_e.jsx)("div",{className:nn,children:_(b,1)}),(0,_e.jsx)("div",{className:nn,children:_(v,2)}),(0,_e.jsx)("div",{className:nn,children:_(g,3)})]})}));dn.defaultProps={categories:null},dn.displayName="ProfileViewComponent";var mn=t(1746),pn="ProfileProbabilities_input__YhDFg",fn="ProfileProbabilities_tbody__pjJAl",hn="ProfileProbabilities_thead__4RQvZ",bn="ProfileProbabilities_table__ahqMm",vn="ProfileProbabilities_tableRowWidth__Ph7eF",gn="ProfileProbabilities_tableHeaderRowWidth__1cL7M",xn="ProfileProbabilities_centeredTimeInput__OaWaA",yn="ProfileProbabilities_pdLeft0__uD4cD",_n="ProfileProbabilities_percent__BrxCr",Pn=t(4895),Cn=t(8853),Sn=(0,u.forwardRef)((function(e,n){var t=e.selectedProfile,i=e.categories,s=e.channelID,r=e.selectedDay,o=e.setDirtyForm,c=e.changeTab,d=e.clearDirtyForm,m=e.confirmNavigation,p=e.hidePrompt,f=e.fromCancel,h=e.setModalShow;(0,u.useImperativeHandle)(n,(function(){return{saveProbabilityValues:function(){G()}}}));var b=(0,u.useRef)(null),v=Ne.timeOptions,g=(0,u.useState)([]),x=(0,l.Z)(g,2),y=x[0],_=x[1],P=(0,u.useState)([]),C=(0,l.Z)(P,2),S=C[0],j=C[1],N=(0,u.useState)(1),T=(0,l.Z)(N,2),k=T[0],Z=T[1],w=(0,u.useState)(!1),R=(0,l.Z)(w,2),I=R[0],M=R[1],B=(0,u.useState)(!1),D=(0,l.Z)(B,2),L=D[0],A=D[1],W=(0,u.useState)(!0),V=(0,l.Z)(W,2),F=V[0],H=V[1],Y=(0,u.useState)(0),E=(0,l.Z)(Y,2),J=(E[0],E[1]),O=function(){j([].concat((0,a.Z)(S),[{id:"new-"+k,attribute:y.length>0?y[0]:{id:0,name:"Select Attribute"},startTime:"",endTime:"",value:"",startTimeValidation:"",endTimeValidation:"",valueValidation:0}])),Z(k+1),A(!0)},K=function(e){j(S.filter((function(n){return n.id!==e}))),o("Profile")},U=function(e,n,t){var i=(0,a.Z)(S);t==v.start?i[e].startTime=n:i[e].endTime=n,j(i),o("Profile")},G=function(){var e=[],n=function(e){var n=e.toLocaleString().split(" ");return"12"==n[1].split(":")[0]&&"AM"===n[2]?100*parseInt(n[1].split(":")[1]):"12"!==n[1].split(":")[0]&&"PM"===n[2]?parseInt(n[1].replaceAll(":",""))+12e4:parseInt(n[1].replaceAll(":",""))},i=function(e){return""===e||null===e},l=function(e){var n=e.toLocaleString().split(" ");if("12"===n[1].split(":")[0]&&"AM"===n[2])return"00:"+n[1].split(":")[1]+":00";if("12"!==n[1].split(":")[0]&&"PM"===n[2]){var t=n[1].split(":");return parseInt(t[0])+12+":"+t[1]+":"+t[2]}return n[1]};if(!I)if(M(!0),function(){var t=!0,s=(0,a.Z)(S);if(1==S.length&&i(s[0].startTime)&&i(s[0].endTime)&&i(s[0].value))return t;for(var r=0;r<S.length;r++){var o="",c="",u="",d=!1;i(s[r].startTime)&&(o="Start time is required.",d=!0),i(s[r].endTime)&&(c="End time is required.",d=!0),i(s[r].value)&&(u="Probability is required.",d=!0),d||function(){var e=s[r].id,t=s[r].attribute.id,a=n(s[r].startTime),l=n(s[r].endTime);if(a>=(l=0===l?24e4:l))o="Invalid time range.",c="Invalid time range.";else{var u=S.filter((function(s){return s.attribute.id==t&&s.id!=e&&!i(s.startTime)&&a<=n(s.startTime)&&l>n(s.startTime)})),d=S.filter((function(s){return s.attribute.id==t&&s.id!=e&&!i(s.startTime)&&!i(s.endTime)&&a>=n(s.startTime)&&a<(0===n(s.endTime)?24e4:n(s.endTime))}));(u.length>0||d.length>0)&&(o="Overlapping time range with same value is not allowed.")}}(),s[r].startTimeValidation=o,s[r].endTimeValidation=c,s[r].valueValidation=u,i(o)&&i(c)&&i(u)?e[e.length]={id:s[r].id.toString().includes("new")?0:s[r].id,attributeID:s[r].attribute.id,startTime:l(s[r].startTime),endTime:l(s[r].endTime),value:s[r].value}:t=!1}return j(s),t}()){var o={channelID:s,profileAttributeID:t.id,weekDay:r,attributeValues:e};Ue.saveChannelProfileValues(o).then((function(){f||c(),z(),d(),(0,ze.Vp)("Channel profile saved"),m()})).finally((function(){M(!1),p()}))}else M(!1),p(),h(!1)},z=function(e){Ue.getChannelProfileValues(s,r,t.id).then((function(n){if(n.data.attributeValues&&n.data.attributeValues.length>0){var t=n.data.attributeValues,i=[];t.map((function(n,t){var s=n.startTime.split(":"),r=n.endTime.split(":"),l=e?(0,a.Z)(e):(0,a.Z)(y);i[t]={id:n.id,attribute:(null===l||void 0===l?void 0:l.length)>0?l.filter((function(e){return e.id===n.attributeID}))[0]:{id:0,name:"Select Attribute"},startTime:new Date(0,0,0,parseInt(s[0]),parseInt(s[1]),0),endTime:new Date(0,0,0,parseInt(r[0]),parseInt(r[1]),0),value:n.value,startTimeValidation:"",endTimeValidation:"",valueValidation:""}})),j(i)}}))};return(0,u.useEffect)((function(){0==S.length&&O()}),[S]),(0,u.useEffect)((function(){var e;L&&(null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})),A(!1)}),[L]),(0,u.useEffect)((function(){if(F){var e=(null===i||void 0===i?void 0:i.filter((function(e){return e.categoryID===(null===t||void 0===t?void 0:t.id)})))||[],n=[];e[0].probabilities.map((function(e,t){n[t]={id:e.attributeTypeId,name:e.name}})),_(n),J(0),z(n),j([])}return function(){H(!1)}}),[t]),(0,_e.jsx)(_e.Fragment,{children:S&&S.map((function(e,n){var t;return(0,_e.jsxs)("tr",{ref:S.length-1==n?b:null,children:[(0,_e.jsx)("td",{className:"".concat(vn),children:(0,_e.jsx)(Ze.Z,{text:null===e||void 0===e||null===(t=e.attribute)||void 0===t?void 0:t.name,list:y,onSelect:function(e){!function(e,n){var t=(0,a.Z)(S);t[e].attribute=n,j(t),o("Profile")}(n,e)},width:"200px",withSearch:!0},"select_"+e.id)}),(0,_e.jsxs)("td",{className:"".concat(vn),children:[(0,_e.jsx)(Pn.Z,{value:e.startTime,onChange:function(e){return U(n,e,v.start)},defaultValue:e.startTime,customWrapper:xn},"start_"+e.id)," ",""!=e.startTimeValidation&&(0,_e.jsx)("small",{className:"errorValidation",children:e.startTimeValidation})]}),(0,_e.jsxs)("td",{className:"".concat(vn),children:[(0,_e.jsx)(Pn.Z,{value:e.endTime,onChange:function(e){return U(n,e,v.end)},defaultValue:e.endTime,customWrapper:xn},"end_"+e.id)," ",""!=e.endTimeValidation&&(0,_e.jsx)("small",{className:"errorValidation",children:e.endTimeValidation})]}),(0,_e.jsxs)("td",{className:"".concat(vn),children:[(0,_e.jsx)("input",{className:pn,value:e.value,onChange:function(e){return function(e,n){var t=(0,a.Z)(S);if(isNaN(parseInt(n.target.value)))t[e].value="",j(t);else{var i=parseInt(n.target.value);t[e].value=i>100?100:i,j(t)}o("Profile")}(n,e)},type:"text",max:"5"},"input_"+e.id),""!=e.valueValidation&&(0,_e.jsx)("small",{className:"errorValidation",children:e.valueValidation})]}),(0,_e.jsxs)("td",{className:"".concat(vn," ").concat(yn),children:[(0,_e.jsx)("small",{className:"".concat(_n," "),children:"%"}),(0,_e.jsx)("img",{style:{cursor:"pointer",marginLeft:"10px",marginTop:"5px"},src:Cn.ap,alt:"Delete Icon",onClick:function(){return K(e.id)},onKeyDown:function(){return K(e.id)},role:"presentation","data-toggle":"tooltip","data-placement":"top",title:"Delete"},"delete_"+e.id),S.length-1==n&&(0,_e.jsx)("img",{style:{cursor:"pointer",marginLeft:"10px",marginTop:"6px"},src:Cn.gv,alt:"Add Icon",onClick:O,onKeyDown:O,role:"presentation","data-toggle":"tooltip","data-placement":"top",title:"Add"},"add_"+e.id)]})]},e.id)}))})}));Sn.displayName="ProfileProbabilitiesBodyComponent";var jn=Sn,Nn=(0,u.forwardRef)((function(e,n){var t=e.selectedProfile,a=e.categories,i=e.channelID,s=e.selectedDay,r=e.setDirtyForm,l=e.changeTab,o=e.clearDirtyForm,c=e.confirmNavigation,d=e.hidePrompt,m=e.fromCancel,p=e.setModalShow,f=(0,u.useRef)();return(0,u.useImperativeHandle)(n,(function(){return{saveProbabilityValues:function(){var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.saveProbabilityValues()}}})),(0,_e.jsx)("div",{className:en,children:(0,_e.jsxs)("table",{className:"table ".concat(bn),children:[(0,_e.jsx)("thead",{className:hn,children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{className:"".concat(gn),children:"Value"}),(0,_e.jsx)("th",{className:"".concat(gn),children:"Start Time"}),(0,_e.jsx)("th",{className:"".concat(gn),children:"End Time"}),(0,_e.jsx)("th",{className:"".concat(gn),children:"Probability"}),(0,_e.jsx)("th",{className:"".concat(vn," ").concat(yn)})]})}),(0,_e.jsx)("tbody",{className:fn,children:(0,_e.jsx)(jn,{ref:f,selectedProfile:t,categories:a,channelID:i,selectedDay:s,setDirtyForm:r,changeTab:l,clearDirtyForm:o,confirmNavigation:c,hidePrompt:d,fromCancel:m,setModalShow:p})})]})})}));Nn.displayName="ProfileProbabilitiesComponent";var Tn=Nn,kn=(0,u.forwardRef)((function(e,n){var t=e.profileFilter,i=e.handleChangeDay,s=(e.handleChangeStartTime,e.handleChangeEndTime,e.callbackSaveProfile),r=(e.handleSwitchEndTime,e.onClickSaveProbabilities),o=e.categories,c=(e.onChangeGetProbabilityParameters,e.getChannelProbabilities),d=e.channelId,m=e.onCloseForm,p=e.checkIfCanRenderModifyProfileComponent,h=e.setDirtyForm,v=e.shouldSwitchProfileDivId,g=e.selectedDay,x=(e.timeInterval,e.clockType,e.changeTab),y=e.clearDirtyForm,_=e.confirmNavigation,k=e.hidePrompt,Z=e.fromCancel,w=e.setModalShow,I=e.selectedProfile,M=e.setSelectedProfile,B=Ne.dayList,D=Ne.scheduleList,L=(0,u.useState)(!0),A=(0,l.Z)(L,2),W=A[0],V=A[1],F=(Ne.switchOptions,(0,u.useState)([])),Y=(0,l.Z)(F,2),E=(Y[0],Y[1],(0,u.useState)([])),O=(0,l.Z)(E,2),G=O[0],te=O[1],ae=(0,u.useState)(!0),ie=(0,l.Z)(ae,2),se=(ie[0],ie[1],(0,u.useState)(!1)),re=(0,l.Z)(se,2),le=re[0],xe=re[1],ye=(0,u.useState)(!1),Pe=(0,l.Z)(ye,2),Se=Pe[0],je=Pe[1],we=(0,u.useState)(0),Re=(0,l.Z)(we,2),Ie=Re[0],Me=Re[1],Be=(0,u.useRef)(),De=(0,u.useRef)(),Le=(0,u.useRef)(),We=(0,u.useState)(""),Ve=(0,l.Z)(We,2),Fe=Ve[0],He=Ve[1],Ye=(0,u.useState)(!1),Ee=(0,l.Z)(Ye,2),Je=Ee[0],Oe=Ee[1],Ke=(0,u.useState)([]),Ge=(0,l.Z)(Ke,2),ze=Ge[0],qe=Ge[1],Qe=function(){xe(!1)};return(0,u.useImperativeHandle)(n,(function(){return{switchComponent:function(e){Me(e)},hideConfirmationModal:function(){var e;null===Be||void 0===Be||null===(e=Be.current)||void 0===e||e.hideConfirmationModal()},resizeWidth:function(){null!==De.current&&De.current.resizeWidth()},renderModifyProfileComponent:function(){Me(4)},saveChannelProfileProbabilities:function(){Be.current.saveChannelProfileProbabilities()},saveProbabilityValues:function(){var e;null===Le||void 0===Le||null===(e=Le.current)||void 0===e||e.saveProbabilityValues()}}})),(0,u.useEffect)((function(){return W&&(v?o.length>0?Me(1):Me(2):Me(Ie)),function(){V(!1)}}),[o,v]),(0,u.useEffect)((function(){if(W){var e=[];null===o||void 0===o||o.map((function(n,t){e[t]={id:n.categoryID,name:n.name}})),qe(e),M(e[0])}}),[o]),(0,_e.jsxs)(_e.Fragment,{children:[1===Ie&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{className:S,children:[(0,_e.jsxs)("div",{className:"".concat(j," ").concat($),children:[(0,_e.jsxs)("div",{className:z,children:[(0,_e.jsx)("div",{className:ee,children:"Day:"}),(0,_e.jsx)("div",{className:Q,children:(0,_e.jsxs)("div",{className:"d-flex w-100",children:[(0,_e.jsx)("div",{className:"w-100",children:(0,_e.jsx)(Ze.Z,{text:t.day,list:B,onSelect:i,width:"100%"})}),(0,_e.jsx)("div",{children:(0,_e.jsx)("img",{className:ne,src:Te,alt:"",title:"Copy this day's profile values to other days",onClick:function(){xe(!0)}})})]})})]}),(0,_e.jsxs)("div",{className:q,children:[(0,_e.jsx)("div",{className:he,children:"Profile:"}),(0,_e.jsx)("div",{className:X,children:(0,_e.jsx)(Ze.Z,{text:I.name,list:ze,onSelect:function(e){M(e)},width:"100%",withSearch:!0})})]})]}),(0,_e.jsx)("hr",{}),(0,_e.jsx)("div",{className:R,children:(0,_e.jsx)(Tn,{ref:Le,categories:o,selectedProfile:I,channelID:d,selectedDay:g,setDirtyForm:h,changeTab:x,clearDirtyForm:y,confirmNavigation:_,hidePrompt:k,fromCancel:Z,setModalShow:w})}),!1]}),(0,_e.jsxs)("div",{className:b,children:[(0,_e.jsx)("button",{className:f,onClick:p,type:"button",children:"Manage Profiles"}),(0,_e.jsx)("button",{className:f,onClick:s,type:"button",children:"Save"})]}),(0,_e.jsx)(C.Z,{id:"more","aria-haspopup":"true",role:"menuitem",backgroundColor:"#0C212B",event:"click",children:(0,_e.jsx)(Ce,{scheduleList:D})})]}),2===Ie&&(0,_e.jsx)("div",{className:N,children:(0,_e.jsxs)("div",{className:T,children:[(0,_e.jsx)("h4",{children:"This channel has no defined profiles."}),(0,_e.jsx)(Ae,{defaultBtn:!1,text:"Add profiles",onClick:function(){Me(3)}})]})}),3===Ie&&(0,_e.jsx)($e,{ref:Be,formType:"Create",channelId:d,preDefinedCategories:o,onClickSaveProbabilities:r,onClickCloseForm:m,getChannelProbabilities:c,setDirtyForm:h}),4===Ie&&(0,_e.jsx)($e,{ref:Be,formType:"Update",channelId:d,preDefinedCategories:o,onClickSaveProbabilities:r,onClickCloseForm:m,getChannelProbabilities:c,setDirtyForm:h}),(0,_e.jsx)(P.Z,{centered:!0,show:le,onHide:Qe,dialogClassName:me,children:(0,_e.jsxs)(P.Z.Body,{className:H,children:[(0,_e.jsx)("label",{children:"Select day(s):"}),Ne.dayList.map((function(e){var n=G.includes(parseInt(e.id,10));return(0,_e.jsxs)("div",{className:U,children:[(0,_e.jsx)("div",{className:"\n                      ".concat(oe,"\n                      ").concat(n&&ce,"\n                      ").concat(g===parseInt(e.id,10)&&ue,"\n                    "),onClick:function(){return function(e){if(g===e)return!1;if(G.includes(e)){var n=G.filter((function(n){return n!==e}));te(n)}else te([].concat((0,a.Z)(G),[e]));return!0}(parseInt(e.id,10))},children:n&&(0,_e.jsx)("img",{className:J,src:ke,alt:""})}),(0,_e.jsx)("div",{className:"\n                        ".concat(K,"\n                        ").concat(g===parseInt(e.id,10)?de:"","\n                    "),children:e.name})]},e.id)})),(0,_e.jsxs)("div",{className:"text-end",children:[(0,_e.jsx)(mn.Z,{defaultBtn:!0,text:"Close",onClick:Qe}),(0,_e.jsx)(mn.Z,{text:"Copy values",onClick:function(){xe(!1),setTimeout((function(){je(!0)}),100)},disabled:0===G.length})]})]})}),(0,_e.jsx)(P.Z,{centered:!0,show:Se,dialogClassName:pe,children:(0,_e.jsxs)(P.Z.Body,{className:ve,children:[(0,_e.jsx)("p",{children:"Some of the selected days may already have existing values defined on their profiles. Copying this day's profile values will overwrite the existing values of the target day(s)."}),(0,_e.jsx)("p",{className:ge,children:"Are you sure you want to proceed?"}),(0,_e.jsx)(mn.Z,{defaultBtn:!0,text:"Cancel",onClick:function(){je(!1),setTimeout((function(){xe(!0)}),100)}}),(0,_e.jsx)(mn.Z,{text:"Proceed",onClick:function(){var e={channelID:d,weekDay:g,weekDayIds:G};Oe(!0),Ue.applyProfileToSelectedDays(e).then((function(e){je(!1),Oe(!1),setTimeout((function(){He("Profile values  successfully copied to ".concat(e.data," days."))}),100)}))},disabled:Je})]})}),(0,_e.jsx)(P.Z,{centered:!0,show:Fe,dialogClassName:fe,children:(0,_e.jsxs)(P.Z.Body,{className:be,children:[(0,_e.jsx)("p",{children:Fe}),(0,_e.jsx)(mn.Z,{style:{marginTop:"10px"},text:"Close",onClick:function(){He(""),te([])}})]})})]})}));kn.defaultProps={profileFilter:{},categories:null,channelId:null,selectedDay:null,checkIfCanRenderModifyProfileComponent:void 0,timeInterval:1},kn.displayName="ProfileComponent";var Zn=kn,wn={divBusiness:"BusinessRules_divBusiness__tWq50",assetListTitle:"BusinessRules_assetListTitle__oiCHP",businessHead:"BusinessRules_businessHead__uQumc",txtBox:"BusinessRules_txtBox__Cz3gh",fastSubLabel:"BusinessRules_fastSubLabel__v9weN",businessLabel:"BusinessRules_businessLabel__KVFL6",inputLabel:"BusinessRules_inputLabel__W83-V",primetimeDaypartLabel:"BusinessRules_primetimeDaypartLabel__EYK1O",select:"BusinessRules_select__E+U1M",formInput:"BusinessRules_formInput__EErUn",importBusinessRules:"BusinessRules_importBusinessRules__IA0Y+",importBusinessRulesHeader:"BusinessRules_importBusinessRulesHeader__LyvV1",importBusinesRulesHeaderActionIcons:"BusinessRules_importBusinesRulesHeaderActionIcons__G0HFC",importBusinessRulesHeaderActions:"BusinessRules_importBusinessRulesHeaderActions__6sUHR",importBusiessRulesSearchWrapper:"BusinessRules_importBusiessRulesSearchWrapper__WGGwP",importBusiessRulesSearch:"BusinessRules_importBusiessRulesSearch__hH6Ga",importBusiessRulesSearchIcon:"BusinessRules_importBusiessRulesSearchIcon__kZi6H",importBusiessRulesClearSearchIcon:"BusinessRules_importBusiessRulesClearSearchIcon__BHKVD",businessRulesList:"BusinessRules_businessRulesList__cr36Z",businessRulesItem:"BusinessRules_businessRulesItem__bifj1",businessRuleDescription:"BusinessRules_businessRuleDescription__x5oM9",businessRuleValue:"BusinessRules_businessRuleValue__RHE7w",errorInput:"BusinessRules_errorInput__l9pdg",trashCanSmIcon:"BusinessRules_trashCanSmIcon__-8TeS",noCustomResultWrapper:"BusinessRules_noCustomResultWrapper__8o4Ye",customBusinessRulesLabel:"BusinessRules_customBusinessRulesLabel__zEqrr",assetListLabel:"BusinessRules_assetListLabel__bgAf5",attributeToCheckSelect:"BusinessRules_attributeToCheckSelect__R3k+-",assetList:"BusinessRules_assetList__0QdxP",assetListTitles:"BusinessRules_assetListTitles__wFz1z",orderingButton:"BusinessRules_orderingButton__U4mSS",invalidField:"BusinessRules_invalidField__yichT",label:"BusinessRules_label__AH4o1",assetListTypeInput:"BusinessRules_assetListTypeInput__BHNGf",checkbox:"BusinessRules_checkbox__QmPo0",checkboxWrapper:"BusinessRules_checkboxWrapper__4zNbd",assetListBusinessHead:"BusinessRules_assetListBusinessHead__7rAGw",businessRuleDescriptionWrapper:"BusinessRules_businessRuleDescriptionWrapper__7UBZO",dailyRefreshMinSelect:"BusinessRules_dailyRefreshMinSelect__g4wQH",interstitialsMaxInput:"BusinessRules_interstitialsMaxInput__8xbCz",interstitialsMinInput:"BusinessRules_interstitialsMinInput__qPhui",sameChannelRepeatsAfterInput:"BusinessRules_sameChannelRepeatsAfterInput__ngesP",dailyRefreshMinLabel:"BusinessRules_dailyRefreshMinLabel__VM+bK",advertsTargetLabel:"BusinessRules_advertsTargetLabel__438O7",advertsMaxLabel:"BusinessRules_advertsMaxLabel__8ETfa",dailyRefreshBusinessLabel:"BusinessRules_dailyRefreshBusinessLabel__MXkKq",slotDurationTimeBusinessLabel:"BusinessRules_slotDurationTimeBusinessLabel__3Ex51",advertsTargetSelect:"BusinessRules_advertsTargetSelect__Ab2XT",advertsMaxSelect:"BusinessRules_advertsMaxSelect__GeoPj",advertsBusinessLabel:"BusinessRules_advertsBusinessLabel__GlJaA",fastBusinessHead:"BusinessRules_fastBusinessHead__qpFYy",certificationBusinessHead:"BusinessRules_certificationBusinessHead__UeJWc",assetRepeatsBusinessHead:"BusinessRules_assetRepeatsBusinessHead__vAL+H",slotDurationTimeSelect:"BusinessRules_slotDurationTimeSelect__Lcw5e",sameChannelRepeatsAfterSelect:"BusinessRules_sameChannelRepeatsAfterSelect__Oa-Mc",interstitialsTargetSelect:"BusinessRules_interstitialsTargetSelect__S4XXZ",interstitialsMaxSelect:"BusinessRules_interstitialsMaxSelect__7hFXc",interstitialsMax:"BusinessRules_interstitialsMax__585Tj",interstitialsMin:"BusinessRules_interstitialsMin__7mRn7",sameChannelRepeatsAfter:"BusinessRules_sameChannelRepeatsAfter__9c2N3",slotDurationTimeLabel:"BusinessRules_slotDurationTimeLabel__Ieq7j",newPrimetimeJunctionTimeLabel:"BusinessRules_newPrimetimeJunctionTimeLabel__7bfDu",newPrimetimeJunctionTimeInput:"BusinessRules_newPrimetimeJunctionTimeInput__bFplZ",newPrimetimeJunctionTime:"BusinessRules_newPrimetimeJunctionTime__2EJV0",newPrimetimeDaypart:"BusinessRules_newPrimetimeDaypart__vbKRk",interstitialsMinSelect:"BusinessRules_interstitialsMinSelect__dZIEc",interstitialsMinBusinessLabel:"BusinessRules_interstitialsMinBusinessLabel__JUYCd",primeTimeInterval:"BusinessRules_primeTimeInterval__Y44k+",crossChannelRepeats:"BusinessRules_crossChannelRepeats__UKHw7",sameChannelRepeats:"BusinessRules_sameChannelRepeats__2iXBS",maximumPlays:"BusinessRules_maximumPlays__4axDb",underplayedWeighting:"BusinessRules_underplayedWeighting__URiM8",endProbability:"BusinessRules_endProbability__ZA+Kl",primetimeDaypart:"BusinessRules_primetimeDaypart__RHuZK",signaturesBusinessHead:"BusinessRules_signaturesBusinessHead__mm+TE",primeTimeIntervalLabel:"BusinessRules_primeTimeIntervalLabel__NjoRJ",crossChannelRepeatsLabel:"BusinessRules_crossChannelRepeatsLabel__Ucoi7",maximumPlaysInput:"BusinessRules_maximumPlaysInput__Ksc5P",maximumPlaysInputLabel:"BusinessRules_maximumPlaysInputLabel__4JEOn",overplayedWeightingInput:"BusinessRules_overplayedWeightingInput__HEMNa",underplayedWeightingInput:"BusinessRules_underplayedWeightingInput__mIRFk",overplayedWeightingInputLabel:"BusinessRules_overplayedWeightingInputLabel__LBPcl",underplayedWeightingInputLabel:"BusinessRules_underplayedWeightingInputLabel__lR01e",endProbabilityInputLabel:"BusinessRules_endProbabilityInputLabel__deF9M",overplayedWeighting:"BusinessRules_overplayedWeighting__Dpqn9",redBorder:"BusinessRules_redBorder__Tx9aC",interstitialsTargetInput:"BusinessRules_interstitialsTargetInput__8gNx4"},Rn=new((0,Se.Z)((function e(){(0,je.Z)(this,e),this.scheduleFields=[{id:1,label:"Primetime",name:"primetimeJunction"},{id:2,label:"Slot & duration rounding",name:"slotAndDurationRounding"},{id:3,label:"Padding with interstitials",name:"paddingWithInterstitials"},{id:4,label:"Daily content refresh",name:"dailyRefresh"},{id:5,label:"Mature content",name:"matureContent"},{id:6,label:"Junction",name:"newPrimetimeJunction"}],this.assetFields=[{id:7,label:"Channel repeats",name:"sameChannelRepeats"},{id:8,label:"Cross-Channel repeats",name:"crossChannelRepeats"},{id:9,label:"Primetime interval",name:"primeTimeInterval"},{id:10,label:"Maximum plays",name:"maximumPlays"}],this.certificationFields=[{id:11,label:"Certification 12 pin-protected",name:"cert12PinProtected"},{id:12,label:"Certification 15 pin-protected",name:"cert15PinProtected"},{id:13,label:"Certification 18 after 9PM",name:"cert18After9pm"},{id:14,label:"Certification 18+ after 10PM",name:"cert18After10pm"}],this.assetProbabilityFields=[{id:15,label:"Play distribution",name:"playDistribution"},{id:16,label:"Underplayed weighting",name:"underplayedWeighting"},{id:17,label:"Overplayed weighting",name:"overplayedWeighting"}],this.typeFields=[{id:18,label:"FAST channel",name:"fastChannel"},{id:19,label:"Adverts per hour",name:"advertsPerHour"}],this.timeList=[{id:20,name:"Minutes"},{id:21,name:"Hours"},{id:22,name:"Days"},{id:23,name:"Weeks"}],this.hoursMin=0,this.hoursMax=23,this.minutesMin=0,this.minutesMax=59,this.premierGradesMin=1,this.premierGradesMax=9999,this.postPremierDaysMin=1,this.postPremierDaysMax=9999,this.playWeightMin=1,this.playWeightMax=100,this.maximumPlaysPlayMin=1,this.maximumPlaysPlayMax=9999,this.maximumPlaysPeriodMin=1,this.maximumPlaysPeriodMax=9999}))),In=t(3351),Mn=t.n(In),Bn=(t(7457),"Modal_body__W89B2"),Dn="Modal_smallText__ua8W3",Ln="Modal_fileName__6KtWp",An="Modal_buttons__mU861",Wn="Modal_description__fuqXK",Vn="Modal_confirmationText__97MEf";function Fn(e){var n=e.show,t=e.onHide,a=e.onImportBusinessRules,i=e.setClearFileName,s=e.clearFileName,r=(0,u.useRef)(),o=["xlsx","xls","csv"],c=(0,u.useState)(),m=(0,l.Z)(c,2),p=m[0],f=m[1],h=(0,u.useState)(""),b=(0,l.Z)(h,2),v=b[0],g=b[1],x=function(){var e={Sheets:{Sheet1:Mn().utils.json_to_sheet([{"Reference/UID":"SRL001",Description:"Cinema 15 pin-protected",Values:""}])},SheetNames:["Sheet1"]},n=Mn().write(e,{bookType:"xlsx",type:"array"}),t=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,d.saveAs)(t,"template.xlsx")};return(0,u.useEffect)((function(){s&&(i(!1),f(),g(""))}),[s]),(0,_e.jsx)(P.Z,{show:n,centered:!0,size:"lg",children:(0,_e.jsxs)("div",{className:Bn,children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{style:{fontWeight:"bolder"},children:"Import custom business rules"}),(0,_e.jsxs)("p",{className:Dn,children:["Download a"," ",(0,_e.jsx)("span",{style:{color:"#008662",cursor:"pointer"},onClick:x,onKeyDown:x,role:"presentation",children:"sample template"})," ","to see an example of the required format."]}),(0,_e.jsx)("p",{style:{marginTop:"-15px",color:"red",fontSize:"14px"},children:v}),(0,_e.jsxs)("div",{className:"d-flex",children:[(0,_e.jsx)(mn.Z,{text:"Choose file",size:"lg",style:{marginTop:"30px",marginLeft:"0"},onClick:function(){r.current.click()}}),(0,_e.jsx)("input",{ref:r,hidden:!0,type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:function(e){var n=e.target.files[0];f(n)}}),(0,_e.jsx)("p",{className:Ln,title:p&&p.name,children:p&&p.name})]}),(0,_e.jsx)("div",{style:{paddingTop:"10px"},children:(0,_e.jsx)("small",{children:"Acceptable format: Excel"})})]}),(0,_e.jsxs)("div",{className:An,children:[(0,_e.jsx)(mn.Z,{text:"Cancel",defaultBtn:!0,onClick:t}),(0,_e.jsx)(mn.Z,{text:"Import",onClick:function(){var e=p.name.split(".").pop();o.includes(e)?a(p):g("Uploaded file type is not supported. Please use files in the following format (xlsx)")},disabled:!p})]})]})})}Fn.defaultProps={show:!1},Fn.displayName="ImportBusinessRulesModalComponent";var Hn=Fn,Yn=t(3594),En="styles_timeRange__fFBeK",Jn="styles_startTimeWrapper__xGwM6",On="styles_endTimeWrapper__5PeD4",Kn="styles_timeRangeWrapper__7Zru3",Un="styles_arrowIcon__ZXw0L",Gn="styles_errorMessage__OQGrf",zn=(0,u.forwardRef)((function(e,n){var t=e.value,a=e.disabled,i=e.onChange,s=e.validate,r=e.onValidate,o=e.errorMessage,c=e.clearValues,d=(0,u.useRef)(),m=(0,u.useRef)(),p=(0,u.useState)(null),f=(0,l.Z)(p,2),h=f[0],b=f[1],v=(0,u.useState)(null),g=(0,l.Z)(v,2),x=g[0],y=g[1],_="function"===typeof r&&s,P=function(e,n){"start"===e?b(n):y(n),"function"===typeof i&&i({start:"start"===e?n:h,end:"end"===e?n:x})};return(0,u.useEffect)((function(){b(null===t||void 0===t?void 0:t.start),y(null===t||void 0===t?void 0:t.end)}),[t]),(0,u.useEffect)((function(){var e=function(){var e=d.current.children.hour.value;(new Date).setHours((parseInt(e)-1+24)%24);var n=m.current.children.hour.value;(new Date).setHours((parseInt(n)-1+24)%24);var t=!1;if(x){var a=x.toLocaleString().split(" ");t="AM"==a[2]&&"12:00:00"==a[1]}return h>=x&&!t}();"function"===typeof r&&r(e)}),[h,x]),(0,_e.jsxs)("div",{className:En,children:[(0,_e.jsxs)("div",{ref:n,className:Kn,children:[(0,_e.jsx)("div",{className:Jn,children:(0,_e.jsx)(Pn.Z,{ref:d,value:h,onChange:function(e){return P("start",e)},validate:_,onValidate:r,disabled:a,clearValues:c})}),(0,_e.jsx)("span",{className:Un,children:(0,_e.jsx)("img",{src:Yn.Ay})}),(0,_e.jsx)("div",{className:On,children:(0,_e.jsx)(Pn.Z,{ref:m,value:x,onChange:function(e){return P("end",e)},validate:_,onValidate:r,disabled:a,clearValues:c})})]}),_&&!a&&(0,_e.jsx)("span",{className:Gn,children:o})]})}));function qn(e){var n=e.customBusinessRules,t=e.scheduleTimings,a=e.handleScheduleChange,i=e.handleScheduleInputChange,s=e.handleScheduleTimeRangeChange,r=e.assetRepeats,o=e.handleAssetChange,c=e.handleAssetChangeInput,d=e.handleAssetRepeatSelectChange,m=e.certification,p=e.handleCertificationChange,h=e.assetProbability,v=e.handleAssetProbabilityChange,g=e.handleAssetProbabilityChangeInput,x=e.types,y=e.handleTypeChange,_=e.handleTypeInputChange,P=e.callbackSaveBusinessRules,C=e.focusInput,S=e.onImportBusinessRules,j=e.onChangeCustomBusinessRules,N=e.onExportBusinessRules,T=e.clearFileName,k=e.setClearFileName,Z=e.onClearFileSelected,w=e.invalidFields,R=e.handleOnValidatePrimetimeDaypart,I=e.executeDaypartClearValues,M=e.handleOnValidatePrimetimeJunction,B=Rn.scheduleFields,D=Rn.assetFields,L=Rn.assetProbabilityFields,A=Rn.typeFields,W=["Yes","No"],V=(0,u.useRef)(),F=(0,u.useRef)(),H=(0,u.useRef)(),Y=(0,u.useState)(!0),E=(0,l.Z)(Y,2),J=E[0],O=E[1],K=(0,u.useRef)(),U=(0,u.useRef)(),G=(0,u.useRef)(),z=(0,u.useRef)(),q=(0,u.useRef)(),Q=(0,u.useRef)(),X=(0,u.useRef)(),$=(0,u.useRef)(),ee=(0,u.useRef)(),ne=(0,u.useRef)(),te=(0,u.useRef)(),ae=(0,u.useRef)(),ie=(0,u.useRef)(),se=(0,u.useRef)(),re=(0,u.useRef)(),le=(0,u.useRef)(),oe=(0,u.useRef)(),ce=(0,u.useState)(!1),ue=(0,l.Z)(ce,2),de=ue[0],me=ue[1],pe=(0,u.useState)(!1),fe=(0,l.Z)(pe,2),he=fe[0],be=fe[1],ve=(0,u.useState)(!1),ge=(0,l.Z)(ve,2),xe=ge[0],ye=ge[1],Pe=(0,u.useState)(""),Ce=(0,l.Z)(Pe,2),Se=Ce[0],je=Ce[1],Ne=(0,u.useState)(""),Te=(0,l.Z)(Ne,2),ke=Te[0],Re=Te[1],Ie=(0,u.useState)([]),Me=(0,l.Z)(Ie,2),Be=Me[0],De=Me[1],Le=(0,u.useState)(!1),Ae=(0,l.Z)(Le,2),We=Ae[0],Ve=Ae[1],Fe=["e","+","-","."],He=function(e){return Rn.timeList.find((function(n){return n.name===e})).name},Ye=function(e){""===e.target.value&&(e.target.value="")},Ee=function(e){return e.includes(".")},Je=function(e,n){var t=(n?e:e.target.value)||"",a=t.toString();if(Ee(a))return!1;t.length>1&&(t=Number(t).toString()),i(n||e.target.name,t)},Oe=function(e,n){d(e,n.name)},Ke=function(e){var n=e.target.value,t=e.target.value.toString();if(Ee(t))return!1;e.target.value.length>1&&(n=Number(e.target.value).toString()),c(e.target.name,n)},Ue=function(e){var n=e.target.value,t=e.target.value.toString();if(Ee(t))return!1;e.target.value.length>1&&(n=Number(e.target.value).toString()),g(e.target.name,n)},Ge=function(e){var n=e.target.value,t=e.target.value.toString();if(Ee(t))return!1;e.target.value.length>1&&(n=Number(e.target.value).toString()),_(e.target.name,n)},ze=function(e){return w.includes(e)},qe=function(){if(oe.current)return oe.current.offsetWidth};(0,u.useEffect)((function(){var e=function(){qe()<730?(me(!1),be(!0)):qe()<1100?(me(!0),be(!1)):(me(!1),be(!1))};return window.addEventListener("resize",e),function(){return document.removeEventListener("resize",e)}}));var Qe=function(e,n){return"playDistribution"===e.name?(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.endProbability),disabled:n,children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.endProbabilityInputLabel),children:"End probability (%):"}),(0,_e.jsx)("input",{ref:ne,type:"number",className:"mx-3\n              ".concat(wn.formInput,"\n              ").concat(ze("playDistributionEndProbability")&&!n&&wn.invalidField,"\n            "),min:0,name:"playDistributionEndProbability",value:n?"":h.playDistributionEndProbability,onChange:Ue,onKeyUp:function(e){return Ye(e)},disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):"underplayedWeighting"===e.name?(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.underplayedWeighting),disabled:n,children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.underplayedWeightingInputLabel),children:"Weighting (%):"}),(0,_e.jsx)("input",{ref:te,type:"number",className:"".concat(wn.underplayedWeightingInput,"\n              ").concat(wn.formInput,"\n              ").concat(ze("underplayedWeightingWeight")&&!n&&wn.invalidField),min:0,name:"underplayedWeightingWeight",onKeyUp:function(e){return Ye(e)},value:n?"":h.underplayedWeightingWeight,onChange:Ue,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):"overplayedWeighting"===e.name?(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.overplayedWeighting),disabled:n,children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.overplayedWeightingInputLabel),children:"Weighting (%):"}),(0,_e.jsx)("input",{ref:ae,type:"number",className:"".concat(wn.overplayedWeightingInput,"\n              ").concat(wn.formInput,"\n              ").concat(ze("overplayedWeightingWeight")&&!n&&wn.invalidField,"\n            "),min:0,name:"overplayedWeightingWeight",value:n?"":h.overplayedWeightingWeight,onChange:Ue,onKeyUp:function(e){return Ye(e)},disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):null},Xe=function(e,n){return"highGradeAsset"===e.name?(0,_e.jsxs)("div",{className:"col-12 pt-2 row ".concat(wn.businessLabel),disabled:n,hidden:!0,children:[(0,_e.jsx)("div",{className:wn.inputLabel,children:"Premiere grades:"}),(0,_e.jsx)("input",{ref:q,type:"number",className:"".concat(wn.formInput),min:0,name:"premierGrades",value:n?"":r.premierGrades,onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):"differentProgrammesPrimetime"===e.name?(0,_e.jsxs)("div",{className:"col-12 pt-2 row ".concat(wn.businessLabel),disabled:n,children:[(0,_e.jsx)("div",{className:wn.inputLabel,children:"Period (In weeks):"}),(0,_e.jsx)("input",{ref:Q,type:"number",className:" ".concat(wn.formInput),min:0,name:"primetimePeriodWeeks",value:r.primetimePeriodWeeks,onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):"postPremierAssetHoldback"===e.name?(0,_e.jsxs)("div",{className:"col-12 pt-2 row ".concat(wn.businessLabel),disabled:n,children:[(0,_e.jsx)("div",{className:wn.inputLabel,children:"Days:"}),(0,_e.jsx)("input",{ref:X,type:"number",className:" ".concat(wn.formInput),min:0,name:"postPremierAssetDays",value:r.postPremierAssetDays,onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):"maximumPlays"===e.name?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.maximumPlays),disabled:n,children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.maximumPlaysInputLabel),children:"Plays:"}),(0,_e.jsx)("input",{ref:$,type:"number",className:"".concat(wn.maximumPlaysInput,"\n                ").concat(wn.formInput,"\n                ").concat(ze("maximumPlaysPlays")&&!n&&wn.invalidField),min:0,name:"maximumPlaysPlays",value:n?"":r.maximumPlaysPlays,onKeyUp:function(e){return Ye(e)},onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel),disabled:n,children:[(0,_e.jsxs)("div",{className:wn.inputLabel,children:[(0,_e.jsx)("span",{children:"Period"}),(0,_e.jsx)("div",{className:wn.select,children:(0,_e.jsx)(Ze.Z,{text:He(r.maximumPlaysPeriodSelect),width:"100%",list:Rn.timeList,onSelect:function(e){return Oe("maximumPlaysPeriodSelect",e)},disabled:n})}),(0,_e.jsx)("span",{children:":"})]}),(0,_e.jsx)("input",{ref:ee,type:"number",className:"\n                ".concat(wn.formInput,"\n                ").concat(ze("maximumPlaysPeriodInWeeks")&&!n&&wn.invalidField,"\n              "),min:0,onKeyUp:function(e){return Ye(e)},name:"maximumPlaysPeriodInWeeks",value:n?"":r.maximumPlaysPeriodInWeeks,onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]})]}):"sameChannelRepeats"===e.name?(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.sameChannelRepeats),disabled:n,children:[(0,_e.jsxs)("div",{className:"".concat(wn.inputLabel," ").concat(wn.sameChannelRepeatsAfter),children:[(0,_e.jsx)("span",{children:"After"}),(0,_e.jsx)("div",{className:"".concat(wn.select," ").concat(wn.sameChannelRepeatsAfterSelect),children:(0,_e.jsx)(Ze.Z,{text:He(r.sameChannelRepeatsAfterSelect),width:"100%",list:Rn.timeList,onSelect:function(e){return Oe("sameChannelRepeatsAfterSelect",e)},disabled:n})}),(0,_e.jsx)("span",{children:":"})]}),(0,_e.jsx)("input",{ref:se,type:"number",className:"".concat(wn.sameChannelRepeatsAfterInput,"\n              ").concat(wn.formInput,"\n              ").concat(ze("sameChannelRepeatsAfter")&&!n&&wn.invalidField),min:0,name:"sameChannelRepeatsAfter",onKeyUp:function(e){return Ye(e)},value:n?"":r.sameChannelRepeatsAfter,onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):"crossChannelRepeats"===e.name?(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.crossChannelRepeats),disabled:n,children:[(0,_e.jsxs)("div",{className:"".concat(wn.inputLabel," ").concat(wn.crossChannelRepeatsLabel),children:[(0,_e.jsx)("span",{children:"Period"}),(0,_e.jsx)("div",{className:wn.select,children:(0,_e.jsx)(Ze.Z,{text:He(r.crossChannelRepeatsPeriodSelect),width:"100%",list:Rn.timeList,onSelect:function(e){return Oe("crossChannelRepeatsPeriodSelect",e)},disabled:n})}),(0,_e.jsx)("span",{children:":"})]}),(0,_e.jsx)("input",{ref:re,type:"number",className:"mx-2\n              ".concat(wn.formInput,"\n              ").concat(ze("crossChannelRepeatsPeriod")&&!n&&wn.invalidField,"\n            "),min:0,name:"crossChannelRepeatsPeriod",value:n?"":r.crossChannelRepeatsPeriod,onKeyUp:function(e){return Ye(e)},onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):"primeTimeInterval"===e.name?(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.primeTimeInterval),disabled:n,children:[(0,_e.jsxs)("div",{className:"".concat(wn.inputLabel," ").concat(wn.primeTimeIntervalLabel),children:[(0,_e.jsx)("span",{children:"Period"}),(0,_e.jsx)("div",{className:wn.select,children:(0,_e.jsx)(Ze.Z,{text:He(r.primeTimeIntervalPeriodSelect),width:"100%",list:Rn.timeList,onSelect:function(e){return Oe("primeTimeIntervalPeriodSelect",e)},disabled:n})}),(0,_e.jsx)("span",{children:":"})]}),(0,_e.jsx)("input",{ref:le,type:"number",className:"mx-2\n              ".concat(wn.formInput,"\n              ").concat(ze("primeTimeIntervalPeriod")&&!n&&wn.invalidField,"\n            "),min:0,name:"primeTimeIntervalPeriod",value:n?"":r.primeTimeIntervalPeriod,onKeyUp:function(e){return Ye(e)},onChange:Ke,disabled:n,onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}):null},$e=function(e){return!x[e.name]},en=function(e){return!t[e.name]},nn=function(e){return t[e.name]},tn=function(){ye(!1),Z()},an=function(){var e=n.filter((function(e){return Object.values(e).some((function(e){return null===e||void 0===e?void 0:e.toLowerCase().includes(Se.toLowerCase())}))}));De(e),Ve(!0),Re(Se)};return(0,u.useEffect)((function(){!function(e){switch(e){case"slotDurationMinutes":V.current.focus();break;case"advertsMax":F.current.focus();break;case"advertsTarget":H.current.focus();break;case"dailyRefresh":K.current.focus();break;case"paddingMin":U.current.focus();break;case"paddingMax":G.current.focus();break;case"paddingTarget":z.current.focus();break;case"premierGrades":q.current.focus();break;case"primetimePeriodWeeks":Q.current.focus();break;case"premierDays":X.current.focus();break;case"maximumPlays":$.current.focus();break;case"maximumPeriod":ee.current.focus();break;case"endProbability":ne.current.focus();break;case"underplayedWeighting":te.current.focus();break;case"overplayedWeighting":ae.current.focus();break;case"sameChannelRepeatsAfter":se.current.focus();break;case"crossChannelRepeatsPeriod":re.current.focus();break;case"primeTimeIntervalPeriod":le.current.focus()}}(C)}),[C]),(0,u.useEffect)((function(){return J&&De(n),function(){O(!1)}}),[n]),(0,u.useEffect)((function(){var e=function(e){We&&ie.current&&!ie.current.contains(e.target)&&je(ke)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}})),(0,_e.jsxs)("div",{ref:oe,children:[(0,_e.jsxs)("div",{className:"row ".concat(wn.divBusiness),children:[(0,_e.jsxs)("div",{className:"".concat(he?"col-12":de?"col-6":"col-4"," ").concat(wn.signaturesBusinessHead),children:[(0,_e.jsx)("div",{className:wn.businessHead,hidden:!0,children:(0,_e.jsx)("strong",{children:"Signatures"})}),(0,_e.jsx)("div",{className:wn.businessHead,children:(0,_e.jsx)("strong",{children:"Schedules timings"})}),(0,_e.jsx)("div",{className:"col-12 mt-3 pb-1 ".concat(wn.businessLabel),disabled:en(B[0]),children:(0,_e.jsx)(we.Z,{label:B[0].label,text:W,active:nn(B[0]),blurredOnInactive:!nn(B[0]),onSwitch:a,name:B[0].name})}),(0,_e.jsxs)("div",{className:"col-12 ".concat(wn.businessLabel),disabled:en(B[0]),children:[(0,_e.jsxs)("div",{className:"".concat(wn.inputLabel," ").concat(wn.newPrimetimeDaypart),children:[(0,_e.jsx)("div",{className:"".concat(wn.primetimeDaypartLabel),children:"Daypart:"}),(0,_e.jsx)("div",{className:"".concat(wn.primetimeDaypart),children:(0,_e.jsx)(zn,{value:{start:t.primetimeHour,end:t.primetimeMinutes},onChange:function(e){return function(e,n){"primetimeJunction"===n&&s({primetimeHour:e.start,primetimeMinutes:e.end},!0),"matureContent"===n&&s({matureContentStartTime:e.startTime,matureContentEndTime:e.endTime})}(e,B[0].name)},onValidate:R,disabled:en(B[0]),validate:(ze("primetimeHour")||ze("primetimeMinutes"))&&!en(B[0]),clearValues:I})})]}),(0,_e.jsxs)("div",{className:"".concat(wn.inputLabel," ").concat(wn.newPrimetimeJunctionTime),children:[(0,_e.jsx)("div",{className:wn.newPrimetimeJunctionTimeLabel,children:"Junction:"}),(0,_e.jsx)("div",{className:wn.newPrimetimeJunctionTimeInput,children:(0,_e.jsx)(Pn.Z,{value:t.newPrimetimeJunctionTime,onChange:function(e){return Je(e,"newPrimetimeJunctionTime")},validate:ze("newPrimetimeJunctionTime")&&!en(B[0]),disabled:en(B[0]),min:t.primetimeHour,max:t.primetimeMinutes,clearValues:I,onValidate:M,defaultValue:t.primetimeHour})})]})]}),(0,_e.jsx)("div",{hidden:!0,className:"col-12 mt-3 pb-1 ".concat(wn.businessLabel),disabled:en(B[4])}),(0,_e.jsx)("div",{className:"col-12 mt-3 pb-1 ".concat(wn.businessLabel),disabled:en(B[2]),children:(0,_e.jsx)(we.Z,{label:B[2].label,text:W,active:nn(B[2]),blurredOnInactive:!nn(B[2]),onSwitch:a,name:B[2].name})}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.interstitialsMinBusinessLabel),disabled:en(B[2]),children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.interstitialsMin),children:(0,_e.jsx)("span",{children:"Min (minutes):"})}),(0,_e.jsx)("input",{ref:U,type:"number",className:"".concat(wn.interstitialsMinInput,"\n                ").concat(wn.formInput,"\n                ").concat(ze("interstitialsMin")&&!en(B[2])&&wn.invalidField,"\n              "),min:0,max:100,name:"interstitialsMin",value:en(B[2])?"":t.interstitialsMin,onChange:Je,onKeyUp:function(e){return Ye(e)},disabled:en(B[2]),onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel),disabled:en(B[2]),children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.interstitialsMax),children:(0,_e.jsx)("span",{children:"Max (minutes):"})}),(0,_e.jsx)("input",{ref:G,type:"number",className:"".concat(wn.interstitialsMaxInput,"\n                ").concat(wn.formInput,"\n                ").concat(ze("interstitialsMax")&&!en(B[2])&&wn.invalidField,"\n              "),min:0,max:100,name:"interstitialsMax",value:en(B[2])?"":t.interstitialsMax,onKeyUp:function(e){return Ye(e)},onChange:Je,disabled:en(B[2]),onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel),disabled:en(B[2]),children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.interstitialsTargetSelect),children:(0,_e.jsx)("span",{children:"Target (minutes):"})}),(0,_e.jsx)("input",{ref:z,type:"number",className:"".concat(wn.interstitialsTargetInput,"\n                ").concat(wn.formInput,"\n                ").concat(ze("interstitialsTarget")&&nn(B[2])&&wn.invalidField,"\n              "),min:0,max:100,name:"interstitialsTarget",value:en(B[2])?"":t.interstitialsTarget,onKeyUp:function(e){return Ye(e)},onChange:Je,disabled:en(B[2]),onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}),(0,_e.jsx)("div",{className:"col-12 mt-3 pb-1 ".concat(wn.businessLabel),disabled:en(B[1]),children:(0,_e.jsx)(we.Z,{label:B[1].label,text:W,active:nn(B[1]),blurredOnInactive:!nn(B[1]),onSwitch:a,name:B[1].name})}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.slotDurationTimeBusinessLabel),disabled:en(B[1]),children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.slotDurationTimeLabel),children:(0,_e.jsx)("span",{children:"Time (minutes):"})}),(0,_e.jsx)("input",{ref:V,type:"number",className:"\n                ".concat(wn.formInput,"\n                ").concat(ze("slotTime")&&nn(B[1])&&wn.invalidField,"\n              "),min:0,max:100,name:"slotTime",value:en(B[1])?"":t.slotTime,onKeyUp:function(e){return Ye(e)},onChange:Je,disabled:en(B[1]),onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]})]}),(0,_e.jsxs)("div",{className:"".concat(he?"col-12":de?"col-6":"col-4"," ").concat(wn.assetRepeatsBusinessHead),children:[(0,_e.jsx)("div",{className:wn.businessHead,children:(0,_e.jsx)("strong",{children:"Asset repeats"})}),D.map((function(e){var n=!0;return"sameChannelRepeats"===e.name?n=!r.sameChannelRepeats:"crossChannelRepeats"===e.name?n=!r.crossChannelRepeats:"primeTimeInterval"===e.name||"primeTimeInterval"===e.name?n=!r.primeTimeInterval:"acrossChannelRepeats"===e.name?n=!r.acrossChannelRepeats:"differentProgrammesPrimetime"===e.name?n=!r.differentProgrammesPrimetime:"postPremierAssetHoldback"===e.name?n=!r.postPremierAssetHoldback:"addFreePlays"===e.name?n=!r.addFreePlays:"maximumPlays"===e.name?n=!r.maximumPlays:"exceedMaxPlayCount"===e.name&&(n=!r.exceedMaxPlayCount),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"col-12 mt-3 pb-1 ".concat(wn.businessLabel),disabled:n,children:(0,_e.jsx)(we.Z,{label:e.label,text:W,active:!n,blurredOnInactive:n,onSwitch:o,name:e.name})}),Xe(e,n)]},e.id)}))]}),(0,_e.jsxs)("div",{className:"".concat(he||de?"col-12":"col-4","\n          ").concat(wn.certificationBusinessHead),children:[(0,_e.jsx)("div",{className:wn.businessHead,hidden:!0,children:(0,_e.jsx)("strong",{children:"Certification"})}),Rn.certificationFields.map((function(e){var n=!0;return"cert12PinProtected"===e.name?n=!m.cert12PinProtected:"cert15PinProtected"===e.name?n=!m.cert15PinProtected:"cert18After9pm"===e.name?n=!m.cert18After9pm:"cert18After10pm"===e.name&&(n=!m.cert18After10pm),(0,_e.jsx)("div",{className:"col-12 p-1 ".concat(wn.businessLabel),disabled:n,hidden:!0,children:(0,_e.jsx)(we.Z,{label:e.label,text:W,active:!n,blurredOnInactive:n,onSwitch:p,name:e.name})},e.id)})),(0,_e.jsx)("div",{className:wn.businessHead,children:(0,_e.jsx)("strong",{children:"Asset distribution "})}),L.map((function(e){var n=!0;return"checkProbability"===e.name?n=!h.checkProbability:"planningNotes"===e.name?n=!h.planningNotes:"prioritisationFactor"===e.name?n=!h.prioritisationFactor:"playDistribution"===e.name?n=!h.playDistribution:"underplayedWeighting"===e.name?n=!h.underplayedWeighting:"overplayedWeighting"===e.name&&(n=!h.overplayedWeighting),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"col-12 mt-3 pb-1 ".concat(wn.businessLabel),disabled:n,children:(0,_e.jsx)(we.Z,{label:e.label,text:W,active:!n,blurredOnInactive:n,onSwitch:v,name:e.name})},e.id),Qe(e,n)]},e.id)})),(0,_e.jsx)("div",{className:"".concat(wn.businessHead," ").concat(wn.fastBusinessHead),children:(0,_e.jsx)("strong",{children:"FAST"})}),(0,_e.jsx)("div",{className:"col-12 p-1 ".concat(wn.businessLabel),disabled:!$e(A[0]),children:(0,_e.jsx)(we.Z,{label:A[0].label,text:W,active:!$e(A[0]),blurredOnInactive:$e(A[0]),onSwitch:y,name:A[0].name})}),(0,_e.jsx)("div",{className:"col-12 ".concat(wn.businessLabel," ").concat(wn.advertsBusinessLabel),disabled:$e(A[0]),children:(0,_e.jsx)("strong",{className:wn.fastSubLabel,children:A[1].label})}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel),disabled:$e(A[0]),children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.advertsMaxLabel),children:(0,_e.jsx)("span",{children:"Max (minutes):"})}),(0,_e.jsx)("input",{ref:F,type:"number",className:"".concat(wn.formInput,"\n                ").concat(ze("advertsMax")&&!$e(A[0])&&wn.invalidField),min:0,onKeyUp:function(e){return Ye(e)},name:"advertsMax",value:$e(A[0])?"":x.advertsMax,onChange:Ge,disabled:$e(A[0]),onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel),disabled:$e(A[0]),children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.advertsTargetLabel),children:(0,_e.jsx)("span",{children:"Target (minutes):"})}),(0,_e.jsx)("input",{ref:H,type:"number",className:"".concat(wn.formInput,"\n                ").concat(ze("advertsTarget")&&!$e(A[0])&&wn.invalidField),min:0,name:"advertsTarget",value:$e(A[0])?"":x.advertsTarget,onKeyUp:function(e){return Ye(e)},onChange:Ge,disabled:$e(A[0]),onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]}),(0,_e.jsx)("div",{className:"col-12 mt-2 ".concat(wn.businessLabel),disabled:$e(A[0]),children:(0,_e.jsx)("strong",{className:wn.fastSubLabel,children:B[3].label})}),(0,_e.jsxs)("div",{className:"col-12 row ".concat(wn.businessLabel," ").concat(wn.dailyRefreshBusinessLabel),disabled:$e(A[0]),children:[(0,_e.jsx)("div",{className:"".concat(wn.inputLabel," ").concat(wn.dailyRefreshMinLabel),children:(0,_e.jsx)("span",{children:"Min (minutes):"})}),(0,_e.jsx)("input",{ref:K,type:"number",className:"".concat(wn.formInput,"\n                ").concat(ze("dailyRefreshMin")&&!$e(A[0])&&wn.invalidField),min:0,name:"dailyRefreshMin",value:$e(A[0])?"":t.dailyRefreshMin,onKeyUp:function(e){return Ye(e)},onChange:Je,disabled:$e(A[0]),onKeyDown:function(e){return Fe.includes(e.key)&&e.preventDefault()}})]})]}),(0,_e.jsx)("div",{className:wn.importBusinessRules,children:(0,_e.jsxs)("div",{className:wn.importBusinessRulesHeaderWrapper,children:[(0,_e.jsx)("div",{className:wn.importBusinessRulesHeader,children:"Custom business rules"}),(0,_e.jsxs)("div",{className:wn.importBusinessRulesHeaderActions,children:[(0,_e.jsx)("div",{className:wn.importBusinesRulesHeaderActionIcons,children:(0,_e.jsx)("img",{src:Cn.Vm,alt:"",title:"Import business rules",onClick:function(){ye(!0)}})}),(0,_e.jsx)("div",{className:wn.importBusinesRulesHeaderActionIcons,hidden:!n||0===n.length,children:(0,_e.jsx)("img",{src:Cn.d7,alt:"",title:"Export business rules",onClick:N})}),(0,_e.jsxs)("div",{ref:ie,className:wn.importBusiessRulesSearchWrapper,hidden:!n||0===n.length,children:[(0,_e.jsx)("input",{className:wn.importBusiessRulesSearch,value:Se,onChange:function(e){je(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&an()}}),(0,_e.jsx)("div",{className:wn.importBusiessRulesClearSearchIcon,onClick:function(){De(n),Ve(!1),je(""),Re("")},hidden:!We,children:(0,_e.jsx)("img",{src:Cn.Dr,alt:""})}),(0,_e.jsx)("div",{className:wn.importBusiessRulesSearchIcon,onClick:an,children:(0,_e.jsx)("img",{src:Cn.pn,alt:""})})]})]}),n.length>0&&(0,_e.jsx)(_e.Fragment,{children:Be.length>0?(0,_e.jsxs)("div",{className:wn.businessRulesList,children:[(0,_e.jsxs)("div",{className:wn.businessRulesItem,children:[(0,_e.jsx)("div",{className:wn.customBusinessRulesLabel,title:"Reference/UID",children:"Reference/UID"}),(0,_e.jsx)("div",{className:wn.customBusinessRulesLabel,title:"Description",children:"Description"}),(0,_e.jsx)("div",{className:wn.customBusinessRulesLabel,title:"Values",children:"Values"})]}),Be.map((function(e,n){return(0,_e.jsxs)("div",{className:wn.businessRulesItem,children:[(0,_e.jsx)("div",{className:wn.businessRuleDescriptionWrapper,children:(0,_e.jsx)("input",{className:wn.businessRuleDescription,value:e.referenceUid,title:e.referenceUid,disabled:!0})}),(0,_e.jsx)("div",{className:wn.businessRuleDescriptionWrapper,children:(0,_e.jsx)("input",{className:wn.businessRuleDescription,value:e.description,title:e.description,disabled:!0})}),(0,_e.jsx)("div",{className:"w-100",children:(0,_e.jsx)("input",{className:"\n                              ".concat(wn.businessRuleValue,"\n                              ").concat(e.isInvalid&&wn.errorInput,"\n                            "),value:e.values,title:e.values,onChange:function(e){return j(e.target.value,n)}})}),(0,_e.jsx)("div",{hidden:!0,children:(0,_e.jsx)("img",{className:wn.trashCanSmIcon,src:Cn.WV,alt:"",title:"Remove business rule"})})]},e.referenceUid)}))]}):(0,_e.jsx)("div",{className:wn.noCustomResultWrapper,children:"No custom business rules found"})})]})})]}),(0,_e.jsx)("div",{className:b,children:(0,_e.jsx)("button",{className:f,onClick:P,type:"button",children:"Save"})}),(0,_e.jsx)(Hn,{show:xe,onHide:tn,onImportBusinessRules:function(e){S(e),tn()},clearFileName:T,setClearFileName:k})]})}qn.defaultProps={signature:null,scheduleTimings:null,assetRepeats:null,certification:null,assetProbability:null,focusInput:null,customBusinessRules:[],channelId:null,invalidFields:[]};var Qn=qn,Xn={divBusiness:"Scoring_divBusiness__Y+pN3",businessHead:"Scoring_businessHead__DwJs2",scoreInput:"Scoring_scoreInput__KUsPk",bigDiv:"Scoring_bigDiv__wLhFj",topMargin:"Scoring_topMargin__Kw2QG",scoringDiv:"Scoring_scoringDiv__yat0l",scoringDescription:"Scoring_scoringDescription__ckkW0",scoringTitle:"Scoring_scoringTitle__-LNkU",invalidField:"Scoring_invalidField__sl7zb",saveButton:"Scoring_saveButton__T3Wu1"},$n=new((0,Se.Z)((function e(){(0,je.Z)(this,e),this.scoringFields=[{id:1,title:"Neatness",description:"Assets scheduled on or near the clock hour",name:"neatness"},{id:2,title:"Strength of Primetime",description:"Higher grade assets in primetime",name:"strengthofprimetime"},{id:3,title:"Average Break Time",description:"Target commercial minutage",name:"averagebreaktime"},{id:4,title:"Youth of Asset",description:"Newer assets",name:"youthofasset"},{id:5,title:"UK Box Office",description:"Higher box office takings",name:"ukboxoffice"},{id:6,title:"US Box Office",description:"Higher box office takings",name:"usboxoffice"},{id:7,title:"Ad Optimisation",description:"Maximise commercial minutage",name:"adoptimisation"},{id:8,title:"Free Play Utilisation",description:"% utilisation of free plays",name:"freeplayutilisation"}],this.placeHolder="1-9"}))),et=(0,u.memo)((function(e){var n=e.scoreChecked,t=e.scores,a=e.onChangeInputScores,i=e.handleCheckBoxChangeScores,s=e.callbackSaveScoring,r=e.focusScoring,l=e.invalidFields,o=$n.scoringFields,c=o.slice(0,4),d=o.slice(4,8),m=$n.placeHolder,p=(0,u.useRef)(),h=(0,u.useRef)(),v=(0,u.useRef)(),g=(0,u.useRef)(),x=(0,u.useRef)(),y=(0,u.useRef)(),_=(0,u.useRef)(),P=(0,u.useRef)(),C=((0,u.useRef)(),(0,u.useMemo)((function(){return function(e){switch(e){case"Neatness":p.current.focus();break;case"Strength of Primetime":h.current.focus();break;case"Average Break Time":v.current.focus();break;case"Youth of Asset":g.current.focus();break;case"UK Box Office":x.current.focus();break;case"US Box Office":y.current.focus();break;case"Ad Optimisation":_.current.focus();break;case"Free Play Utilisation":P.current.focus()}}}),[])),S=function(e){return l.includes(e)};(0,u.useEffect)((function(){p.current.value=t.neatness,h.current.value=t.strengthofprimetime,v.current.value=t.averagebreaktime,g.current.value=t.youthofasset,x.current.value=t.ukboxoffice,y.current.value=t.usboxoffice,_.current.value=t.adoptimisation,P.current.value=t.freeplayutilisation}),[t]),(0,u.useEffect)((function(){C(r)}),[r]);var j=function(e){return"neatness"===e.name?!n.neatness:"strengthofprimetime"===e.name?!n.strengthofprimetime:"averagebreaktime"===e.name?!n.averagebreaktime:"youthofasset"===e.name?!n.youthofasset:"ukboxoffice"===e.name?!n.ukboxoffice:"usboxoffice"===e.name?!n.usboxoffice:"adoptimisation"===e.name?!n.adoptimisation:"freeplayutilisation"===e.name&&!n.freeplayutilisation},N=function(e){return"neatness"===e.name?t.neatness?t.neatness:"":"strengthofprimetime"===e.name?t.strengthofprimetime?t.strengthofprimetime:"":"averagebreaktime"===e.name?t.averagebreaktime?t.averagebreaktime:"":"youthofasset"===e.name?t.youthofasset?t.youthofasset:"":"ukboxoffice"===e.name?t.ukboxoffice?t.ukboxoffice:"":"usboxoffice"===e.name?t.usboxoffice?t.usboxoffice:"":"adoptimisation"===e.name?t.adoptimisation?t.adoptimisation:"":"freeplayutilisation"===e.name?t.freeplayutilisation?t.freeplayutilisation:"":void 0},T=function(e){return"neatness"===e.name?p:"strengthofprimetime"===e.name?h:"averagebreaktime"===e.name?v:"youthofasset"===e.name?g:"ukboxoffice"===e.name?x:"usboxoffice"===e.name?y:"adoptimisation"===e.name?_:"freeplayutilisation"===e.name?P:void 0};return(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"row ".concat(Xn.divBusiness),children:(0,_e.jsx)("div",{className:"".concat(Xn.divBusiness," col-12"),style:{paddingRight:"55px",overflow:"auto",height:"calc(100vh - 348px)"},children:(0,_e.jsxs)("div",{className:"row",children:[(0,_e.jsx)("div",{className:"col-md ".concat(Xn.div1),children:c.map((function(e,n){return(0,_e.jsxs)("div",{className:"d-flex ".concat(Xn.scoringDiv),children:[(0,_e.jsx)("div",{className:"".concat(Xn.bigDiv),children:(0,_e.jsx)("div",{className:Xn.topMargin,children:(0,_e.jsx)(we.Z,{label:"",text:["Yes","No"],active:!j(e),onSwitch:i,name:e.name})})}),(0,_e.jsx)("div",{className:"",children:(0,_e.jsx)("input",{type:"number",ref:T(e),name:e.name,className:"".concat(Xn.scoreInput," ").concat(S(e.title)&&Xn.invalidField),placeholder:j(e)?"":m,onKeyDown:function(e){return("e"===e.key||"+"===e.key||"-"===e.key||"."===e.key)&&e.preventDefault()},onChange:a,value:j(e)?"":N(e),disabled:j(e)})}),(0,_e.jsxs)("div",{className:"col-10",children:[(0,_e.jsx)("div",{className:"col-12",children:(0,_e.jsx)("div",{className:"".concat(Xn.scoringTitle),disabled:j(e),style:{marginBottom:0},children:e.title})}),(0,_e.jsx)("div",{className:"".concat(Xn.scoringDescription),disabled:j(e),children:e.description})]})]},e.id)}))}),(0,_e.jsx)("div",{className:"col-md ".concat(Xn.div2),children:d.map((function(e,n){return(0,_e.jsxs)("div",{className:"d-flex ".concat(Xn.scoringDiv),children:[(0,_e.jsx)("div",{className:"".concat(Xn.bigDiv),children:(0,_e.jsx)("div",{className:Xn.topMargin,children:(0,_e.jsx)(we.Z,{label:"",text:["Yes","No"],active:!j(e),onSwitch:i,name:e.name})})}),(0,_e.jsx)("div",{className:"",children:(0,_e.jsx)("input",{type:"number",ref:T(e),name:e.name,className:"".concat(Xn.scoreInput," ").concat(S(e.title)&&Xn.invalidField),placeholder:j(e)?"":m,onKeyDown:function(e){return("e"===e.key||"+"===e.key||"-"===e.key||"."===e.key)&&e.preventDefault()},onChange:a,value:j(e)?"":N(e),disabled:j(e)})}),(0,_e.jsxs)("div",{className:"col-10",children:[(0,_e.jsx)("div",{className:"col-12",children:(0,_e.jsx)("div",{className:"".concat(Xn.scoringTitle),disabled:j(e),style:{marginBottom:0},children:e.title})}),(0,_e.jsx)("div",{className:"".concat(Xn.scoringDescription),disabled:j(e),children:e.description})]})]},e.id)}))})]})})}),(0,_e.jsx)("div",{className:b,children:(0,_e.jsx)("button",{className:f,onClick:s,type:"button",children:"Save"})})]})}));et.defaultProps={focusScoring:"",invalidFields:[]};var nt=et,tt=t(6033),at={daySelect:[{id:"1",name:"Monday"},{id:"2",name:"Tuesday"},{id:"3",name:"Wednesday"},{id:"4",name:"Thursday"},{id:"5",name:"Friday"},{id:"6",name:"Saturday"},{id:"7",name:"Sunday"}],checkString:function(e){return""!==e&&null!==e&&void 0!==e},countDecimals:function(e){return e%1?e.toString().split(".")[1].length:0}};function it(e){var n=e.show,t=e.onHide,a=e.onProceed;return(0,_e.jsx)(P.Z,{show:n,centered:!0,size:"md",children:(0,_e.jsxs)("div",{className:Bn,style:{textAlign:"center"},children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:Wn,children:"This channel already have existing business rules defined. Importing will overwrite all existing custom business rules and values of the channel."}),(0,_e.jsx)("p",{className:Vn,children:"Are you sure you want to proceed?"})]}),(0,_e.jsxs)("div",{style:{marginTop:"30px"},children:[(0,_e.jsx)(mn.Z,{text:"Cancel",defaultBtn:!0,onClick:t}),(0,_e.jsx)(mn.Z,{text:"Proceed",onClick:a})]})]})})}it.defaultProps={show:!1},it.displayName="ImportConfirmationModalComponent";var st=it,rt=t(2677),lt=t(5543),ot=t(392),ct=t(2343);t(2426);var ut=function(){var e=(0,u.useState)(""),n=(0,l.Z)(e,2),t=n[0],o=n[1],f=(0,u.useRef)(),b=at.checkString,P=at.countDecimals,C=(0,u.useState)("Please select a channel"),S=(0,l.Z)(C,2),j=S[0],N=S[1],T=(0,u.useState)(null),k=(0,l.Z)(T,2),Z=k[0],w=k[1],R=(0,u.useState)([{}]),I=(0,l.Z)(R,2),M=I[0],B=I[1],D=(0,u.useState)([{}]),L=(0,l.Z)(D,2),A=L[0],W=L[1],V=(0,u.useState)([{}]),F=(0,l.Z)(V,2),H=F[0],Y=F[1],E=(0,u.useState)(""),J=(0,l.Z)(E,2),O=J[0],K=J[1],U=(0,u.useState)(""),G=(0,l.Z)(U,2),z=G[0],q=G[1],Q=(0,u.useState)(""),X=(0,l.Z)(Q,2),$=X[0],ee=X[1],ne=(0,u.useState)(!1),te=(0,l.Z)(ne,2),ae=te[0],ie=te[1],se=(0,u.useState)("Profile"),re=(0,l.Z)(se,2),le=re[0],oe=re[1],ce=(0,u.useState)(""),ue=(0,l.Z)(ce,2),de=ue[0],me=ue[1],pe=(0,u.useState)({}),fe=(0,l.Z)(pe,2),he=fe[0],be=fe[1],ve=(0,u.useState)({}),ge=(0,l.Z)(ve,2),xe=ge[0],ye=ge[1],Pe=(0,u.useState)(""),Ce=(0,l.Z)(Pe,2),Se=Ce[0],je=Ce[1],Te=(0,u.useState)(!1),ke=(0,l.Z)(Te,2),we=ke[0],Re=ke[1],Ie=(0,u.useState)(!1),Me=(0,l.Z)(Ie,2),Be=(Me[0],Me[1]),De=new AbortController,Le=new AbortController,Ae=new AbortController,We=(0,u.useState)(!0),Ve=(0,l.Z)(We,2),Fe=Ve[0],He=Ve[1],Ye=(0,u.useState)({day:"Monday",startTime:null,endTime:"0:00",endTimeActive:!1}),Ee=(0,l.Z)(Ye,2),Je=Ee[0],Oe=Ee[1],Ke=(0,u.useState)({day:"Monday",startTime:"0:00",endTime:"0:00",endTimeActive:!1}),Ge=(0,l.Z)(Ke,2),qe=Ge[0],Qe=Ge[1],Xe=(0,x.E)(""!==$),$e=(0,l.Z)(Xe,4),en=$e[0],nn=$e[1],tn=$e[2],an=$e[3],sn=(0,u.useState)({}),rn=(0,l.Z)(sn,2),ln=rn[0],on=rn[1],cn=(0,u.useState)({}),un=(0,l.Z)(cn,2),dn=un[0],mn=un[1],pn=(0,u.useState)(!1),fn=(0,l.Z)(pn,2),hn=fn[0],bn=fn[1],vn=(0,u.useState)(!1),gn=(0,l.Z)(vn,2),xn=gn[0],yn=gn[1],_n=(0,u.useState)(!1),Pn=(0,l.Z)(_n,2),Cn=(Pn[0],Pn[1],(0,u.useState)()),Sn=(0,l.Z)(Cn,2),jn=Sn[0],Nn=Sn[1],Tn=(0,u.useState)(!1),kn=(0,l.Z)(Tn,2),wn=kn[0],Rn=kn[1],In=(0,u.useState)(),Mn=(0,l.Z)(In,2),Bn=Mn[0],Dn=Mn[1],Ln=(0,u.useState)(!1),An=(0,l.Z)(Ln,2),Wn=An[0],Vn=An[1],Fn=(0,u.useState)([]),Hn=(0,l.Z)(Fn,2),Yn=Hn[0],En=Hn[1],Jn=(0,u.useState)([]),On=(0,l.Z)(Jn,2),Kn=On[0],Un=On[1],Gn=(0,u.useState)({}),zn=(0,l.Z)(Gn,2),qn=zn[0],Xn=zn[1],$n=(0,u.useState)({}),et=(0,l.Z)($n,2),it=et[0],ut=et[1],dt=(0,u.useState)({}),mt=(0,l.Z)(dt,2),pt=mt[0],ft=mt[1],ht=(0,u.useState)({}),bt=(0,l.Z)(ht,2),vt=bt[0],gt=bt[1],xt=(0,u.useState)(0),yt=(0,l.Z)(xt,2),_t=yt[0],Pt=yt[1],Ct=(0,u.useState)(!1),St=(0,l.Z)(Ct,2),jt=St[0],Nt=St[1],Tt=(0,u.useState)(),kt=(0,l.Z)(Tt,2),Zt=kt[0],wt=kt[1],Rt=(0,u.useState)(!1),It=(0,l.Z)(Rt,2),Mt=It[0],Bt=It[1],Dt=(0,u.useState)(!1),Lt=(0,l.Z)(Dt,2),At=Lt[0],Wt=Lt[1],Vt=(0,u.useState)(!1),Ft=(0,l.Z)(Vt,2),Ht=Ft[0],Yt=Ft[1],Et=(0,u.useState)({id:0,name:"Select Profile"}),Jt=(0,l.Z)(Et,2),Ot=Jt[0],Kt=Jt[1],Ut=function(e){var n=e.target.value;P(n)<=2&&(n>100&&(n=100),n<0&&(n=0),Xn((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,s.Z)({},e.target.name,n))}))),ee("Profile")},Gt=function(e){var n=e.target.value;P(n)<=2&&(n>100&&(n=100),n<0&&(n=0),ut((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,s.Z)({},e.target.name,n))}))),ee("Profile")},zt=function(e){var n=e.target.value;P(n)<=2&&(n>100&&(n=100),n<0&&(n=0),ft((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,s.Z)({},e.target.name,n))}))),ee("Profile")},qt=function(e){var n=e.target.value;P(n)<=2&&(n>100&&(n=100),n<0&&(n=0),gt((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,s.Z)({},e.target.name,n))}))),ee("Profile")},Qt=function(e){wt((0,r.Z)((0,r.Z)({},Zt),e))},Xt=function(e){Qt({weekDay:e.id}),on((0,r.Z)((0,r.Z)({},ln),{},{weekDay:e.id})),Oe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{day:e.name})})),Qe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{day:e.name})}))},$t=function(e){""!==$?(be({}),me(""),ye(e),je("Day"),ie(!0)):Xt(e)},ea=function(e){""!==$?(be({}),me(""),ye(e),je("ProfileValues"),ie(!0)):Kt(e)},na=function(e){(Qt({startTime:e.name}),on((0,r.Z)((0,r.Z)({},ln),{},{startTime:e.name})),Oe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{startTime:e.name})})),Qe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{startTime:e.name})})),qe.endTimeActive)&&(parseInt(e.name.replace(":",""),10)>parseInt(qe.endTime.replace(":",""),10)&&(Qe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{endTime:e.name})})),on((function(n){return(0,r.Z)((0,r.Z)({},n),{},{endTime:e.name})})),Oe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{endTime:e.name})}))))},ta=function(e){""!==$?(be({}),me(""),ye(e),je("StartTime"),ie(!0)):na(e)},aa=function(e){var n=ia(e.name);parseInt(ia(qe.startTime).replace(":",""),10)<=parseInt(n.replace(":",""),10)&&qe.endTimeActive?Qe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{endTime:e.name})})):qe.endTimeActive||Qe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{endTime:e.name})})),on((0,r.Z)((0,r.Z)({},ln),{},{endTime:e.name})),Oe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{endTime:e.name})}))},ia=function(e){switch(e){case"24:00":return"0:00";case"25:00":return"1:00";case"26:00":return"2:00";case"27:00":return"3:00";case"28:00":return"4:00";case"29:00":return"5:00";default:return e}},sa=function(e){Be(e),Qe((function(n){return(0,r.Z)((0,r.Z)({},n),{},{endTimeActive:e})})),e||(Qe((function(e){return(0,r.Z)((0,r.Z)({},e),{},{endTime:"0:00"})})),on((0,r.Z)((0,r.Z)({},ln),{},{endTime:"0:00"})))},ra=(0,u.useState)({genre:"Yes",grade:"Yes",ageCertification:"Yes"}),la=(0,l.Z)(ra,2),oa=la[0],ca=la[1],ua=(0,u.useState)({cert12PinProtected:"Yes",cert15PinProtected:"Yes",cert18After9pm:"Yes",cert18After10pm:"Yes"}),da=(0,l.Z)(ua,2),ma=da[0],pa=da[1],fa=(0,u.useState)({primetimeJunction:"Yes",primetimeHour:"",primetimeHourPlaceholder:"",primetimeMinutes:"",primetimeMinutesPlaceholder:"",matureContent:"Yes",matureContentStartTime:"",matureContentStartTimePlaceholder:"",matureContentEndTime:"",matureContentEndTimePlaceholder:"",slotAndDurationRounding:"Yes",slotTimeSelect:"Minutes",slotTime:"",slotTimePlaceholder:"",dailyRefresh:"Yes",dailyRefreshMinSelect:"Minutes",dailyRefreshMin:"",dailyRefreshMinPlaceholder:"",paddingWithInterstitials:"Yes",interstitialsMinSelect:"Minutes",interstitialsMin:"",interstitialsMinPlaceholder:"",interstitialsMaxSelect:"Minutes",interstitialsMax:"",interstitialsMaxPlaceholder:"",interstitialsTargetSelect:"Minutes",interstitialsTarget:"",interstitialsTargetPlaceholder:"",newPrimetimeJunction:"Yes",newPrimetimeJunctionTime:""}),ha=(0,l.Z)(fa,2),ba=ha[0],va=ha[1],ga=(0,u.useState)({sameChannelRepeats:"Yes",sameChannelRepeatsAfter:"",sameChannelRepeatsAfterPlaceholder:"",sameChannelRepeatsAfterSelect:"Days",crossChannelRepeats:"Yes",crossChannelRepeatsPeriod:"",crossChannelRepeatsPeriodPlaceholder:"",crossChannelRepeatsPeriodSelect:"Hours",primeTimeInterval:"Yes",primeTimeIntervalPeriod:"",primeTimeIntervalPeriodPlaceholder:"",primeTimeIntervalPeriodSelect:"Weeks",highGradeAsset:"Yes",premierGrades:"",acrossChannelRepeats:"Yes",differentProgrammesPrimetime:"Yes",primetimePeriodWeeks:"",postPremierAssetHoldback:"Yes",postPremierAssetDays:"",addFreePlays:"Yes",maximumPlays:"Yes",maximumPlaysPlays:"",maximumPlaysPeriodInWeeks:"",maximumPlaysPeriodSelect:"Weeks",exceedMaxPlayCount:"Yes"}),xa=(0,l.Z)(ga,2),ya=xa[0],_a=xa[1],Pa=(0,u.useState)({checkProbability:"Yes",planningNotes:"Yes",prioritisationFactor:"Yes",playDistribution:"Yes",playDistributionEndProbability:"",underplayedWeighting:"Yes",underplayedWeightingWeight:"",overplayedWeighting:"Yes",overplayedWeightingWeight:""}),Ca=(0,l.Z)(Pa,2),Sa=Ca[0],ja=Ca[1],Na=(0,u.useState)({fastChannel:"Yes",advertsPerHour:"Yes",advertsMaxSelect:"Minutes",advertsMax:"",advertsMaxPlaceholder:"",advertsTargetSelect:"Minutes",advertsTarget:"",advertsTargetPlaceholder:""}),Ta=(0,l.Z)(Na,2),ka=Ta[0],Za=Ta[1],wa=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ca((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},t,n))})),ee("Business Rules");case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),Ra=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pa((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},t,n))})),ee("Business Rules");case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),Ia=function(e){var n=null===e||void 0===e?void 0:e.split(":")[0],t=null===e||void 0===e?void 0:e.split(":")[1];return n&&t?new Date(0,0,0,parseInt(n),parseInt(t),0,0):""},Ma=function(e,n){var t,a,i;switch(Yt(!1),ee("Business Rules"),n){case"primetimeJunction":e||Yt(!0),va((0,r.Z)((0,r.Z)({},ba),{},(t={},(0,s.Z)(t,n,e),(0,s.Z)(t,"primetimeHour",""),(0,s.Z)(t,"primetimeMinutes",""),(0,s.Z)(t,"newPrimetimeJunctionTime",""),t)));break;case"paddingWithInterstitials":va((0,r.Z)((0,r.Z)({},ba),{},(a={},(0,s.Z)(a,n,e),(0,s.Z)(a,"interstitialsMin",""),(0,s.Z)(a,"interstitialsMax",""),(0,s.Z)(a,"interstitialsTarget",""),a)));break;case"slotAndDurationRounding":va((0,r.Z)((0,r.Z)({},ba),{},(i={},(0,s.Z)(i,n,e),(0,s.Z)(i,"slotTime",""),i)));break;default:return}},Ba=function(e,n){n&&ba.primetimeJunction&&va((0,r.Z)((0,r.Z)((0,r.Z)({},ba),e),{},{newPrimetimeJunctionTime:e.primetimeHour||ba.newPrimetimeJunctionTime})),ee("Business Rules")},Da=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(a=t)){e.next=28;break}e.t0=n,e.next="primetimeHour"===e.t0?5:"primetimeMinutes"===e.t0?8:"slotTime"===e.t0?11:"advertsMax"===e.t0?13:"advertsTarget"===e.t0?16:"dailyRefreshMin"===e.t0?19:"interstitialsMin"===e.t0?21:"interstitialsMax"===e.t0?23:"interstitialsTarget"===e.t0?25:27;break;case 5:return a<0&&(a=0),a>23&&(a=23),e.abrupt("break",28);case 8:return a<0&&(a=0),a>59&&(a=59),e.abrupt("break",28);case 11:return a>100&&(a=100),e.abrupt("break",28);case 13:case 16:return a<1&&(a=1),a>9999&&(a=9999),e.abrupt("break",28);case 19:return a>9999&&(a=9999),e.abrupt("break",28);case 21:case 23:case 25:return a>100&&(a=100),e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:va((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},n,a))})),ee("Business Rules");case 30:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),La=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){var a,i,l,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee("Business Rules"),e.t0=t,e.next="sameChannelRepeats"===e.t0?4:"crossChannelRepeats"===e.t0?6:"primeTimeInterval"===e.t0?8:"maximumPlays"===e.t0?10:12;break;case 4:return _a((0,r.Z)((0,r.Z)({},ya),{},(a={},(0,s.Z)(a,t,n),(0,s.Z)(a,"sameChannelRepeatsAfter",""),a))),e.abrupt("break",13);case 6:return _a((0,r.Z)((0,r.Z)({},ya),{},(i={},(0,s.Z)(i,t,n),(0,s.Z)(i,"crossChannelRepeatsPeriod",""),i))),e.abrupt("break",13);case 8:return _a((0,r.Z)((0,r.Z)({},ya),{},(l={},(0,s.Z)(l,t,n),(0,s.Z)(l,"primeTimeIntervalPeriod",""),l))),e.abrupt("break",13);case 10:return _a((0,r.Z)((0,r.Z)({},ya),{},(o={},(0,s.Z)(o,t,n),(0,s.Z)(o,"maximumPlaysPlays",""),(0,s.Z)(o,"maximumPlaysPeriodInWeeks",""),o))),e.abrupt("break",13);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[ya]),Aa=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,""!==t&&a>9999&&(a=9999),ee("Business Rules"),_a((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},n,a))}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),Wa=function(e,n){_a((0,r.Z)((0,r.Z)({},ya),{},(0,s.Z)({},e,n))),ee("Business Rules")},Va=function(e,n){var t,a,i;switch(ee("Business Rules"),n){case"playDistribution":ja((0,r.Z)((0,r.Z)({},Sa),{},(t={},(0,s.Z)(t,n,e),(0,s.Z)(t,"playDistributionEndProbability",""),t)));break;case"underplayedWeighting":ja((0,r.Z)((0,r.Z)({},Sa),{},(a={},(0,s.Z)(a,n,e),(0,s.Z)(a,"underplayedWeightingWeight",""),a)));break;case"overplayedWeighting":ja((0,r.Z)((0,r.Z)({},Sa),{},(i={},(0,s.Z)(i,n,e),(0,s.Z)(i,"overplayedWeightingWeight",""),i)));break;default:return}},Fa=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==(a=t)&&(a<1&&(a=1),a>100&&(a=100)),ja((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},n,a))})),ee("Business Rules");case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),Ha=function(e,n){var t;Za((0,r.Z)((0,r.Z)({},ka),{},(t={},(0,s.Z)(t,n,e),(0,s.Z)(t,"advertsMax",""),(0,s.Z)(t,"advertsTarget",""),t))),va((0,r.Z)((0,r.Z)({},ba),{},{dailyRefreshMin:""})),ee("Business Rules")},Ya=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t)>60&&(a=60),Za((0,r.Z)((0,r.Z)({},ka),{},(0,s.Z)({},n,a))),ee("Business Rules");case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),Ea=function(e,n){Za((0,r.Z)((0,r.Z)({},ka),{},(0,s.Z)({},e,n))),ee("Business Rules")},Ja=function(e){Bt(!e)},Oa=function(e){Wt(!e)},Ka=(0,u.useState)({neatness:!0,strengthofprimetime:!1,averagebreaktime:!1,youthofasset:!1,ukboxoffice:!1,usboxoffice:!1,adoptimisation:!1,freeplayutilisation:!1,prioritytitleutilisation:!1}),Ua=(0,l.Z)(Ka,2),Ga=Ua[0],za=Ua[1],qa=(0,u.useState)(!1),Qa=(0,l.Z)(qa,2),Xa=Qa[0],$a=Qa[1],ei=(0,u.useState)({}),ni=(0,l.Z)(ei,2),ti=ni[0],ai=ni[1],ii=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.target.value,(t=Math.floor(t))>9&&(t=9),t<=0&&(t=""),ai((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},n.target.name,t))})),ee("Scoring");case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[ti,$]),si=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Un((function(e){return e.filter((function(e){return e.toLowerCase().replace(/\s/g,"")!==t.toLowerCase()}))})),za((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},t,n))})),n||ai((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,s.Z)({},t,""))})),ee("Scoring");case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[Kn,Ga,$,ti]),ri=(0,u.useState)([]),li=(0,l.Z)(ri,2),oi=li[0],ci=li[1],ui=function(e){var n="";return null!==e.channelId&&void 0!==e.channelId?n="?channelId=".concat(e.channelId):null!==Z&&(n="?channelId=".concat(Z)),n+(Z&&e.weekDay?"&weekDay=".concat(e.weekDay):"&weekDay=".concat(1))+(Z&&"&startTime=".concat(Je.startTime))+(Z&&Je.endTime?"&endTime=".concat(Je.endTime):"&endTime=0:00")},di=function(e){if("Profile"===$&&!0===e)return!1;En([]),Un([]),""!==$&&(ee(""),""!==de&&me(""),ie(!1),0!==Object.keys(he).length&&be({}),""!==Se&&je(""))},mi=function(){var e=(0,i.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bn(!0),e.prev=1,e.next=4,Ue.getChannelProfileProbabilities(ui(ln));case 4:n=e.sent,Fe&&(yn(!0),on(n.data),mn(n.data),ci(n.data.categories),di(),bn(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching channel profile probabilities:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),pi=function(){var e=(0,i.Z)(c().mark((function e(n){var t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={channelId:n},e.next=4,Ue.getChannelProfileProbabilities(ui(t));case 4:a=e.sent,yn(!1),on(a.data),ci(a.data.categories),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching channel probabilities:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),fi=function(e){!function(e){""!==$?ie(!0):(oe(e),"Profile"===e&&mi())}(e),be({}),ye({}),je(""),me(e)},hi=function(){var e=(0,i.Z)(c().mark((function e(){var n,t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.getChannels({signal:Le.signal});case 3:return n=e.sent,Fe&&(t=n.data,a=[],t.map((function(e){return a.push({id:e.channelId,name:e.channelName}),!0})),B(a)),e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching channels",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),bi=function(){var e=(0,i.Z)(c().mark((function e(){var n,t,a,i,s,r,l,o,u,d,m,p,f,h,b,v,g,x,y,_,P,C,S,j,N,T,k,w,R,I,M,B,D,L,A,V,F,H,Y,E,J,O,K,U,G,z;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,bn(!0),e.next=4,Ue.getBusinessRules(Z,{signal:De.signal});case 4:n=e.sent,Fe&&(t=n.data.businessRules,Nn(n.data.customBusinessRules),W(t),"Yes","Yes","Yes",a="Yes",i=0,s="Yes",r="","",l=0,"","Yes",0,"","","",o="Yes",u="Minutes",d="Yes","",m="Yes",p="Minutes",f="","",h="Yes",b="Minutes",v="Yes","",g="Minutes",x="Yes","",y="Minutes",_="Yes","",P="Yes",C="Days",S="Yes","",j="Yes",N="Hours",T="Yes","",k="Yes",w="Weeks",R="Yes","","Yes","",I="Yes","Yes","","Yes","","Yes",M="Yes",B="",D="",L="Weeks","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes",A="Yes",V="",F="Yes",H="",Y="Yes",E="",J="Yes",O="Yes",K="Minutes",U="Yes","",G="Minutes",z="Yes","",t.map((function(e){var n,t,c=null;switch(e.label){case"Primetime junction":a=e.enabled,(c=JSON.parse(e.settings.replaceAll("\\",""))).Hours.Value&&(i=Ia(c.Hours.Value)),c.Minutes.Value&&(l=Ia(c.Minutes.Value));break;case"Prime time junction new":s=e.enabled,null!==(n=c=JSON.parse(e.settings.replaceAll("\\","")))&&void 0!==n&&null!==(t=n.Time)&&void 0!==t&&t.Value&&(r=Ia(c.Time.Value));break;case"Slot & duration rounding":o=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),d=c.TimeInMinutes.Value,u=c.TimeInMinutes.SelectedTime;break;case"Adverts per hour":O=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),U=c.AdvertsMax.Value,z=c.AdvertsTarget.Value,K=c.AdvertsMax.SelectedTime,G=c.AdvertsTarget.SelectedTime;break;case"Daily refresh":m=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),f=c.DailyMin.Value,p=c.DailyMin.SelectedTime;break;case"Padding with interstials":h=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),v=c.MinInMinutes.Value,x=c.MaxInMinutes.Value,_=c.TargetInMinutes.Value,b=c.MinInMinutes.SelectedTime,g=c.MaxInMinutes.SelectedTime,y=c.TargetInMinutes.SelectedTime;break;case"Same channel repeats":P=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),S=c.SameChannelRepeatsAfter.Value,C=c.SameChannelRepeatsAfter.SelectedTime;break;case"Cross-Channel repeats":j=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),T=c.CrossChannelPeriod.Value,N=c.CrossChannelPeriod.SelectedTime;break;case"Prime time interval":k=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),R=c.PrimeTimePeriod.Value,w=c.PrimeTimePeriod.SelectedTime;break;case"Across channel repeats":I=e.enabled;break;case"Maximum plays":M=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),B=c.Plays.Value,D=c.PeriodInWeeks.Value,L=c.PeriodInWeeks.SelectedTime;break;case"Play distribution":A=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),V=c["EndProbability%"].Value;break;case"Underplayed weighting":F=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),H=c["Weighting%"].Value;break;case"Overplayed weighting":Y=e.enabled,c=JSON.parse(e.settings.replaceAll("\\","")),E=c["Weighting%"].Value;break;case"FAST channel":J=e.enabled}return!0})),ca({genre:"Yes",grade:"Yes",ageCertification:"Yes"}),pa({cert12PinProtected:"Yes",cert15PinProtected:"Yes",cert18After9pm:"Yes",cert18After10pm:"Yes"}),va({primetimeJunction:a,primetimeHour:i,primetimeHourPlaceholder:"",primetimeMinutes:l,primetimeMinutesPlaceholder:"",newPrimetimeJunction:s,newPrimetimeJunctionTime:r,matureContent:"Yes",matureContentStartTime:0,matureContentStartTimePlaceholder:"",matureContentEndTime:"",matureContentEndTimePlaceholder:"",slotAndDurationRounding:o,slotTimeSelect:u,slotTime:d,slotTimePlaceholder:"",dailyRefresh:m,dailyRefreshMinSelect:p,dailyRefreshMin:f,dailyRefreshMinPlaceholder:"",paddingWithInterstitials:h,interstitialsMinSelect:b,interstitialsMin:v,interstitialsMinPlaceholder:"",interstitialsMaxSelect:g,interstitialsMax:x,interstitialsMaxPlaceholder:"",interstitialsTargetSelect:y,interstitialsTarget:_,interstitialsTargetPlaceholder:""}),_a({sameChannelRepeats:P,sameChannelRepeatsAfter:S,sameChannelRepeatsAfterSelect:C,sameChannelRepeatsAfterPlaceholder:"",crossChannelRepeats:j,crossChannelRepeatsPeriod:T,crossChannelRepeatsPeriodSelect:N,crossChannelRepeatsPeriodPlaceholder:"",primeTimeInterval:k,primeTimeIntervalPeriod:R,primeTimeIntervalPeriodSelect:w,primeTimeIntervalPeriodPlaceholder:"",highGradeAsset:"Yes",premierGrades:"",acrossChannelRepeats:I,differentProgrammesPrimetime:"Yes",primetimePeriodWeeks:"",postPremierAssetHoldback:"Yes",postPremierAssetDays:"",addFreePlays:"Yes",maximumPlays:M,maximumPlaysPlays:B,maximumPlaysPeriodInWeeks:D,maximumPlaysPeriodSelect:L,exceedMaxPlayCount:"Yes"}),ja({checkProbability:"Yes",planningNotes:"Yes",prioritisationFactor:"Yes",playDistribution:A,playDistributionEndProbability:V,underplayedWeighting:F,underplayedWeightingWeight:H,overplayedWeighting:Y,overplayedWeightingWeight:E}),Za({fastChannel:J,advertsPerHour:O,advertsMaxSelect:K,advertsMax:U,advertsMaxPlaceholder:"",advertsTargetSelect:G,advertsTarget:z,advertsTargetPlaceholder:""})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching business rules:",e.t0);case 11:bn(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),vi=function(){var e=(0,i.Z)(c().mark((function e(){var n,t,a,i,s,r,l,o,u,d,m,p,f,h,b,v,g,x,y,_;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bn(!0),e.prev=1,e.next=4,Ue.getChannelScoring(Z,{signal:Ae.signal});case 4:n=e.sent,t=n.data.scores,Fe&&(Y(t),a=!1,i=!1,s=!1,r=!1,l=!1,o=!1,u=!1,d=!1,m=!1,p=0,f=0,h=0,b=0,v=0,g=0,x=0,y=0,_=0,t.map((function(e){switch(e.name){case"Neatness":a=e.enabled,p=e.weight,$a(e.enabled);break;case"Strength of Primetime":i=e.enabled,f=e.weight;break;case"Average Break Time":s=e.enabled,h=e.weight;break;case"Youth of Asset":r=e.enabled,b=e.weight;break;case"UK Box Office":l=e.enabled,v=e.weight;break;case"US Box Office":o=e.enabled,g=e.weight;break;case"Ad Optimisation":u=e.enabled,x=e.weight;break;case"Free Play Utilisation":d=e.enabled,y=e.weight;break;case"Priority Title Utilisation":m=e.enabled,_=e.weight}return!0})),za({neatness:a,strengthofprimetime:i,averagebreaktime:s,youthofasset:r,ukboxoffice:l,usboxoffice:o,adoptimisation:u,freeplayutilisation:d,prioritytitleutilisation:m}),ai({neatness:p,strengthofprimetime:f,averagebreaktime:h,youthofasset:b,ukboxoffice:v,usboxoffice:g,adoptimisation:x,freeplayutilisation:y,prioritytitleutilisation:_})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching channel scoring:",e.t0);case 12:bn(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),gi=function(e){w(e.id),N(e.name),Oe({day:"Monday",startTime:"Standard"===t?"0:00":"24:00",endTime:"0:00",endTimeActive:!1}),Qe({day:"Monday",startTime:"Standard"===t?"0:00":"24:00",endTime:"0:00",endTimeActive:!1}),Qt({channelId:e.id,weekDay:1,startTime:"Standard"===t?"0:00":"24:00"}),on((0,r.Z)((0,r.Z)({},ln),{},{channelId:e.id})),be({})},xi=function(){""!==de&&oe(de),0!==Object.keys(he).length?gi(he):"Day"===Se?Xt(xe):"StartTime"===Se?na(xe):"ProfileValues"===Se&&Kt(xe)},yi=function(){var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.saveProbabilityValues()},_i=function(){if(jn.length>0&&jn.some((function(e){return!e.values}))){var e=jn.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isInvalid:!e.values})}));return Nn(e),!1}var n=jn.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isInvalid:!1})}));return Nn(n),!0},Pi=function(e){var n=[];for(var t in e)e[t]||n.push(t);Mt||n.push("primetimeHour"),At||n.push("newPrimetimeJunctionTime"),En(n)},Ci=function(e){var n=[];for(var t in e)e[t].enabled&&!e[t].weight&&n.push(e[t].name);Un(n)},Si=function(){var e=(0,i.Z)(c().mark((function e(){var n,t,a,i,s,l,o,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t=[],a="",i=null,A.map((function(e){var s,r,l,o=e;switch(e.label){case"Primetime junction":var c,u;if(o.enabled="Yes"===ba.primetimeJunction||ba.primetimeJunction,(i=JSON.parse(e.settings)).Hours.Value=ba.primetimeHour&&ba.primetimeHour.getHours().toString().padStart(2,"0")+":"+ba.primetimeHour.getMinutes().toString().padStart(2,"0"),i.Minutes.Value=ba.primetimeMinutes&&ba.primetimeMinutes.getHours().toString().padStart(2,"0")+":"+ba.primetimeMinutes.getMinutes().toString().padStart(2,"0"),o.settings=JSON.stringify(i),!b(null===(s=ba.primetimeHour)||void 0===s?void 0:s.toString())||!b(null===(r=ba.primetimeMinutes)||void 0===r?void 0:r.toString())||0===ba.primetimeHour||0===ba.primetimeMinutes)n=!!e.enabled||n,b(null===(c=ba.primetimeHour)||void 0===c?void 0:c.toString())?b(null===(u=ba.primetimeMinutes)||void 0===u?void 0:u.toString())||(a=""===a?"primetimeMinutes":a):a="primetimeHour";Mt||(a=a||"primetimeHour");break;case"Prime time junction new":o.enabled="Yes"===ba.primetimeJunction||ba.primetimeJunction,(i=JSON.parse(e.settings)).Time.Value=ba.newPrimetimeJunctionTime&&ba.newPrimetimeJunctionTime.getHours().toString().padStart(2,"0")+":"+ba.newPrimetimeJunctionTime.getMinutes().toString().padStart(2,"0"),o.settings=JSON.stringify(i),b(null===(l=ba.newPrimetimeJunctionTime)||void 0===l?void 0:l.toString())||(n=!!e.enabled||n,a=a||"newPrimetimeJunctionTime"),At||(a=a||"newPrimetimeJunctionTime");break;case"Slot & duration rounding":o.enabled="Yes"===ba.slotAndDurationRounding||ba.slotAndDurationRounding,(i=JSON.parse(e.settings)).TimeInMinutes.Value=ba.slotTime,i.TimeInMinutes.SelectedTime=ba.slotTimeSelect,o.settings=JSON.stringify(i),b(i.TimeInMinutes.Value)||(n=!!e.enabled||n,a=""===a?"slotDurationMinutes":a);break;case"Adverts per hour":o.enabled="Yes"===ka.fastChannel||ka.fastChannel,(i=JSON.parse(e.settings.replaceAll("\\",""))).AdvertsMax.Value=ka.advertsMax,i.AdvertsTarget.Value=ka.advertsTarget,i.AdvertsMax.SelectedTime=ka.advertsMaxSelect,i.AdvertsTarget.SelectedTime=ka.advertsTargetSelect,o.settings=JSON.stringify(i),b(i.AdvertsMax.Value)&&b(i.AdvertsTarget.Value)||(n=!!e.enabled||n,b(i.AdvertsMax.Value)?b(i.AdvertsTarget.Value)||(a=""===a?"advertsTarget":a):a=""===a?"advertsMax":a);break;case"Daily refresh":o.enabled="Yes"===ka.fastChannel||ka.fastChannel,(i=JSON.parse(e.settings)).DailyMin.Value=ba.dailyRefreshMin,i.DailyMin.SelectedTime=ba.dailyRefreshMinSelect,o.settings=JSON.stringify(i),b(i.DailyMin.Value)||(n=!!e.enabled||n,a=""===a?"dailyRefreshMin":a);break;case"Padding with interstials":o.enabled="Yes"===ba.paddingWithInterstitials||ba.paddingWithInterstitials,(i=JSON.parse(e.settings.replaceAll("\\",""))).MinInMinutes.Value=ba.interstitialsMin,i.MaxInMinutes.Value=ba.interstitialsMax,i.TargetInMinutes.Value=ba.interstitialsTarget,i.MinInMinutes.SelectedTime=ba.interstitialsMinSelect,i.MaxInMinutes.SelectedTime=ba.interstitialsMaxSelect,i.TargetInMinutes.SelectedTime=ba.interstitialsTargetSelect,o.settings=JSON.stringify(i),b(i.MinInMinutes.Value)&&b(i.MaxInMinutes.Value)&&b(i.TargetInMinutes.Value)||(n=!!e.enabled||n,b(i.MinInMinutes.Value)?b(i.MaxInMinutes.Value)?b(i.TargetInMinutes.Value)||(a=""===a?"paddingTarget":a):a=""===a?"paddingMax":a:a=""===a?"paddingMin":a);break;case"Same channel repeats":o.enabled="Yes"===ya.sameChannelRepeats||ya.sameChannelRepeats,(i=JSON.parse(e.settings.replaceAll("\\",""))).SameChannelRepeatsAfter.Value=ya.sameChannelRepeatsAfter,i.SameChannelRepeatsAfter.SelectedTime=ya.sameChannelRepeatsAfterSelect,o.settings=JSON.stringify(i),b(i.SameChannelRepeatsAfter.Value)||(n=!!e.enabled||n,a=""===a?"sameChannelRepeatsAfter":a);break;case"Cross-Channel repeats":o.enabled="Yes"===ya.crossChannelRepeats||ya.crossChannelRepeats,(i=JSON.parse(e.settings.replaceAll("\\",""))).CrossChannelPeriod.Value=ya.crossChannelRepeatsPeriod,i.CrossChannelPeriod.SelectedTime=ya.crossChannelRepeatsPeriodSelect,o.settings=JSON.stringify(i),b(i.CrossChannelPeriod.Value)||(n=!!e.enabled||n,a=""===a?"crossChannelRepeatsPeriod":a);break;case"Prime time interval":o.enabled="Yes"===ya.primeTimeInterval||ya.primeTimeInterval,(i=JSON.parse(e.settings.replaceAll("\\",""))).PrimeTimePeriod.Value=ya.primeTimeIntervalPeriod,i.PrimeTimePeriod.SelectedTime=ya.primeTimeIntervalPeriodSelect,o.settings=JSON.stringify(i),b(i.PrimeTimePeriod.Value)||(n=!!e.enabled||n,a=""===a?"primeTimeIntervalPeriod":a);break;case"Across channel repeats":o.enabled="Yes"===ya.acrossChannelRepeats||ya.acrossChannelRepeats;break;case"Maximum plays":o.enabled="Yes"===ya.maximumPlays||ya.maximumPlays,(i=JSON.parse(e.settings.replaceAll("\\",""))).Plays.Value=ya.maximumPlaysPlays,i.PeriodInWeeks.Value=ya.maximumPlaysPeriodInWeeks,i.PeriodInWeeks.SelectedTime=ya.maximumPlaysPeriodSelect,o.settings=JSON.stringify(i),b(i.Plays.Value)&&b(i.PeriodInWeeks.Value)||(n=!!e.enabled||n,b(i.Plays.Value)?b(i.PeriodInWeeks.Value)||(a=""===a?"maximumPeriod":a):a=""===a?"maximumPlays":a);break;case"Play distribution":o.enabled="Yes"===Sa.playDistribution||Sa.playDistribution,(i=JSON.parse(e.settings.replaceAll("\\","")))["EndProbability%"].Value=Sa.playDistributionEndProbability,o.settings=JSON.stringify(i),b(Sa.playDistributionEndProbability)||(n=!!e.enabled||n,a=""===a?"endProbability":a);break;case"Underplayed weighting":o.enabled="Yes"===Sa.underplayedWeighting||Sa.underplayedWeighting,(i=JSON.parse(e.settings.replaceAll("\\","")))["Weighting%"].Value=Sa.underplayedWeightingWeight,o.settings=JSON.stringify(i),b(Sa.underplayedWeightingWeight)||(n=!!e.enabled||n,a=""===a?"underplayedWeighting":a);break;case"Overplayed weighting":o.enabled="Yes"===Sa.overplayedWeighting||Sa.overplayedWeighting,(i=JSON.parse(e.settings.replaceAll("\\","")))["Weighting%"].Value=Sa.overplayedWeightingWeight,o.settings=JSON.stringify(i),b(Sa.overplayedWeightingWeight)||(n=!!e.enabled||n,a=""===a?"overplayedWeighting":a);break;case"FAST channel":o.enabled="Yes"===ka.fastChannel||ka.fastChannel}return t.push(o),!0})),s="Yes"===ba.primetimeJunction||ba.primetimeJunction,l=s&&(!Mt||!At),_i()&&!n&&!l){e.next=17;break}Pi((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},ba),ya),Sa),ka)),ie(!1),tn(),_i()||(0,ze.h)("Please fill up all values field from custom business rules."),!Mt&&s&&(0,ze.h)("Invalid time range"),!At&&b((null===(o=ba.newPrimetimeJunctionTime)||void 0===o?void 0:o.toString())&&s)&&(0,ze.h)("Primetime junction cannot be outside the range of Primetime daypart"),n&&(0,ze.h)("Conditional values are required"),e.next=35;break;case 17:return u={channelId:Z,businessRules:t,customBusinessRules:jn},e.prev=18,e.next=21,Ue.saveBusinessRules(u);case 21:"Profile"===de&&mi(),jt||xi(),di(),(0,ze.Vp)("Business rules saved"),bi(),nn(),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(18),console.error("Error saving business rules:",e.t0),(0,ze.h)(e.t0.response.data.message);case 33:an(),K("");case 35:case"end":return e.stop()}}),e,null,[[18,29]])})));return function(){return e.apply(this,arguments)}}(),ji=(0,u.useCallback)((0,i.Z)(c().mark((function e(){var n,t,a,i,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t=H,q(a=""),i=[],t.map((function(e){var t=e.name,s=e;switch(t){case"Neatness":s.enabled=Ga.neatness,s.weight=ti.neatness;break;case"Strength of Primetime":s.enabled=Ga.strengthofprimetime,s.weight=ti.strengthofprimetime;break;case"Average Break Time":s.enabled=Ga.averagebreaktime,s.weight=ti.averagebreaktime;break;case"Youth of Asset":s.enabled=Ga.youthofasset,s.weight=ti.youthofasset;break;case"UK Box Office":s.enabled=Ga.ukboxoffice,s.weight=ti.ukboxoffice;break;case"US Box Office":s.enabled=Ga.usboxoffice,s.weight=ti.usboxoffice;break;case"Ad Optimisation":s.enabled=Ga.adoptimisation,s.weight=""===ti.adoptimisation?null:ti.adoptimisation;break;case"Free Play Utilisation":s.enabled=Ga.freeplayutilisation,s.weight=ti.freeplayutilisation;break;case"Priority Title Utilisation":s.enabled=Ga.prioritytitleutilisation,s.weight=ti.prioritytitleutilisation}return s.enabled?""!==s.weight&&null!==s.weight||(n=!0,a=""===a?t:a):""===s.weight&&(s.weight=null),i.push(s),!0})),!n){e.next=12;break}ie(!1),(0,ze.h)("Scoring value is required"),Ci(i),e.next=27;break;case 12:return s={channelId:Z,scores:i},e.prev=13,e.next=16,Ue.saveChannelScoring(s);case 16:"Profile"===de&&mi(),jt||xi(),di(),(0,ze.Vp)("Scoring saved"),nn(),an(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(13),console.error("Error saving channel scoring:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[13,24]])}))),[Z,ti]),Ni=function(){f.current.renderModifyProfileComponent()},Ti=function(){switch($){case"Profile":yi();break;case"Business Rules":Si();break;case"Scoring":ji();break;case"Manage Profile":yi(),Ni();break;case"Add/Insert Channel Profile":f.current.saveChannelProfileProbabilities()}},ki=function(e){var n=e.channelId||e.channelID?"?channelId=".concat(e.channelId?e.channelId:e.channelID):"",a=e.weekDay?"&weekDay=".concat(e.weekDay):"",i=e.startTime?"&startTime=".concat(e.startTime):"Standard"===t?"&startTime=00:00":"&startTime=24:00";return"".concat(n).concat(a).concat(i)},Zi=function(){var e=(0,i.Z)(c().mark((function e(){var n,t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.getChannelProfileSession();case 3:n=e.sent,t=M.find((function(e){return e.id===n.data.channelID})),a=n.data.weekDay>0?Ne.dayList.find((function(e){return e.id===n.data.weekDay.toString()})):Ne.dayList[0],wt(n.data),on((0,r.Z)((0,r.Z)({},ln),{},{weekDay:n.data.weekDay})),t&&(w(t.id),N(t.name)),Oe((0,r.Z)((0,r.Z)({},Je),{},{day:a.name,startTime:n.data.startTime?n.data.startTime:"0:00"})),Qe((0,r.Z)((0,r.Z)({},qe),{},{day:a.name,startTime:n.data.startTime?n.data.startTime:"0:00"})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching channel profile session:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),wi=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.saveChannelProfileSession(ki(Zt));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error saving channel profile session:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Ri=function(){var e=(0,i.Z)(c().mark((function e(n,t){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={channelID:Z,categories:n},n.some((function(e){return 0===e.probabilities.length}))&&((0,ze.h)("Please add at least one profile to each categories"),1)){e.next=29;break}if(!n.every((function(e){return 0!==e.name.length&&0!==e.probabilities.length&&e.probabilities.every((function(e){return 0!==e.name.length}))}))){e.next=24;break}return e.prev=4,e.next=7,Ue.saveChannelProfileProbabilities(a);case 7:t||mi(),jt||nn(),(0,ze.Vp)("Probabilities saved"),0!==Object.keys(he).length&&gi(he),0!==Object.keys(de).length&&xi(),di(),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("Error saving channel profile probabilities:",e.t0),null!==f.current&&f.current.hideConfirmationModal(),setTimeout((function(){(0,ze.h)(e.t0.response.data.message)}),500);case 20:ie(!1),an(),e.next=27;break;case 24:(0,ze.h)("Please provide a value to all category and profile fields."),an(),ie(!1);case 27:e.next=31;break;case 29:an(),ie(!1);case 31:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(n,t){return e.apply(this,arguments)}}(),Ii=function(e){var n="0"===e.target.value[0]&&(e.target.value[0].length>1||"0"===e.target.value[1])?e.target.value.substring(1).replace(/[^0-9]/g,""):e.target.value.replace(/[^0-9]/g,"")||"0",t=JSON.parse(JSON.stringify(ln)),a=e.target.name.split(",")[0],i=e.target.name.split(",")[1],s=e.target.name.split(",")[2],r=t.categories.findIndex((function(e){return e.columnPosition===parseInt(a,10)&&-1!==e.probabilities.findIndex((function(e){return e.name===s}))}));t.categories[r].probabilities[i-1].value=parseInt(n),t.categories[r].probabilities[i-1].value>100&&(t.categories[r].probabilities[i-1].value=100),ci(t.categories),on(t),JSON.stringify(t.categories)!==JSON.stringify(dn.categories)?ee("Profile"):di()},Mi=function(){Rn(!1)},Bi=function(e,n){Ue.uploadImportedFile(Z,e).then((function(t){(jn.length>0&&JSON.stringify(jn)!==JSON.stringify(t.data.customBusinessRulesModel)||t.data.customBusinessRulesExist)&&!n?(Rn(!0),Dn(e)):(Nn(t.data.customBusinessRulesModel),ee("Business Rules"))})).catch((function(e){return(0,ze.h)(e.response.data.message)})).finally((function(){return Re(!0)}))},Di=function(e,n){var t=(0,a.Z)(jn);t[n].values=e,Nn(t),ee("Business Rules")},Li=(0,u.useCallback)((0,i.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vn(!0),Wn){e.next=14;break}return e.prev=2,e.next=5,Ue.exportCustomBusinessRules(Z);case 5:n=e.sent,t=new Blob([n.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),(0,d.saveAs)(t,"op2mise_custom_business_rules_export_".concat(rt.Z.toExportFormat(new Date),".xlsx")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error exporting custom business rules:",e.t0);case 13:Vn(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[Z]);(0,u.useEffect)((function(){return function(){He(!1)}}),[]),(0,u.useEffect)((function(){o(ot.Z.getUserIdentity().clockType)}),[t]);var Ai=function(){$?(ee("Manage Profile"),me("Profile"),ie(!0)):Ni()},Wi=function(e){e?(me("Profile"),ie(!0)):mi()},Vi=function(){Re(!0),Dn()};return(0,u.useEffect)((function(){ae&&Nt(!1)}),[ae]),(0,u.useEffect)((function(){if(Z)return"Business Rules"===le&&bi(),"Scoring"===le&&vi(),function(){De.abort(),Ae.abort()}}),[le]),(0,u.useEffect)((function(){return hi(),function(){Le.abort()}}),[]),(0,u.useEffect)((function(){if(Z&&Je&&Je.startTime)return mi(),bi(),vi(),oe("Profile"),function(){De.abort(),Ae.abort()}}),[Z,Je]),(0,u.useEffect)((function(){M.length>0&&0==!Object.keys(M[0]).length&&Zi()}),[M]),(0,u.useEffect)((function(){Zt&&(_t>0&&wi(),Pt(_t+1))}),[Zt,ln.clockType]),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(tt.Z,{componentName:"Channel Setup",addButtonText:"",isAddButtonHidden:!0,isSearchHidden:!0}),(0,_e.jsx)("hr",{className:g}),(0,_e.jsxs)("div",{className:"row ".concat(m),children:[(0,_e.jsx)("div",{className:p,children:"Channel:"}),(0,_e.jsx)("div",{className:h,children:(0,_e.jsx)(Ze.Z,{text:j,list:M,onSelect:function(e){""!==$?(ye({}),je(""),me(""),be(e),ie(!0)):(Oe({day:"Monday",startTime:"Standard"===t?"00:00":"24:00",endTime:"0:00",endTimeActive:!1}),Qe({day:"Monday",startTime:"Standard"===t?"00:00":"24:00",endTime:"0:00",endTimeActive:!1}),w(e.id),N(e.name),Qt({channelId:e.id,weekDay:1,startTime:"Standard"===t?"00:00":"24:00"}),on((0,r.Z)((0,r.Z)({},ln),{},{channelId:e.id,endTime:"0:00",startTime:"Standard"===t?"00:00":"24:00",weekDay:1})),be({}))},width:"100%",withSearch:!0})})]}),(0,_e.jsx)("div",{className:"row ".concat(m)}),"Please select a channel"!==j?(0,_e.jsx)("div",{className:"row",children:(0,_e.jsxs)("div",{className:"tabs",children:[(0,_e.jsxs)("ol",{className:y.Z.tabList,children:[(0,_e.jsx)(_.Z,{activeTab:le,label:"Profile",onClick:fi}),(0,_e.jsx)(_.Z,{activeTab:le,label:"Business Rules",onClick:fi}),(0,_e.jsx)(_.Z,{activeTab:le,label:"Scoring",onClick:fi})]}),(0,_e.jsx)("div",{className:"tab-content".concat(" ",y.Z.tabContent),children:(0,_e.jsx)("div",{className:v,children:hn?(0,_e.jsx)(lt.Z,{}):"Profile"===le?(0,_e.jsx)(Zn,{ref:f,genreData:qn,certificationData:it,ageCertificationData:pt,gradesData:vt,profileFilter:qe,handleChangeDay:$t,handleChangeStartTime:ta,handleChangeEndTime:aa,handleChangeInputGenre:Ut,handleChangeCertification:Gt,handleChangeInputAgeCertification:zt,handleChangeInputGrade:qt,callbackSaveProfile:yi,handleSwitchEndTime:sa,onClickSaveProbabilities:Ri,categories:oi,onChangeGetProbabilityParameters:Ii,checkIfCanRenderModifyProfileComponent:Ai,getChannelProbabilities:pi,channelId:Z,shouldSwitchProfileDivId:xn,setDirtyForm:ee,onCloseForm:Wi,selectedDay:ln.weekDay,timeInterval:ln.timeInterval,clockType:ln.clockType,changeTab:xi,clearDirtyForm:di,confirmNavigation:nn,hidePrompt:an,fromCancel:jt,setModalShow:ie,selectedProfile:Ot,setSelectedProfile:ea}):"Scoring"===le?(0,_e.jsx)(nt,{scoreChecked:Ga,scores:ti,onChangeInputScores:ii,handleCheckBoxChangeScores:si,callbackSaveScoring:ji,neatnessChecked:Xa,channelID:Z,focusScoring:z,invalidFields:Kn}):(0,_e.jsx)(Qn,{customBusinessRules:jn,signature:oa,handleSignatureChange:wa,scheduleTimings:ba,handleScheduleChange:Ma,handleScheduleInputChange:Da,handleScheduleTimeRangeChange:Ba,handleAssetRepeatSelectChange:Wa,assetRepeats:ya,handleAssetChange:La,handleAssetChangeInput:Aa,certification:ma,handleCertificationChange:Ra,assetProbability:Sa,handleAssetProbabilityChange:Va,handleAssetProbabilityChangeInput:Fa,types:ka,handleTypeChange:Ha,handleTypeInputChange:Ya,handleTypeSelectChange:Ea,callbackSaveBusinessRules:Si,focusInput:O,onImportBusinessRules:Bi,onExportBusinessRules:Li,onChangeCustomBusinessRules:Di,clearFileName:we,setClearFileName:Re,onClearFileSelected:Vi,channelId:Z,invalidFields:Yn,handleOnValidatePrimetimeDaypart:Ja,executeDaypartClearValues:Ht,clearDirtyForm:di,handleOnValidatePrimetimeJunction:Oa})})})]})}):null,(0,_e.jsx)(st,{show:wn,onHide:Mi,onProceed:function(){Bi(Bn,!0),Mi()}}),(0,_e.jsx)(ct.Z,{show:ae,onSave:Ti,onDiscard:function(){""!==$&&(""===Se&&("Profile"===$?pi(Z):"Business Rules"===$?(bi(),"Profile"===de&&mi()):"Scoring"===$?(vi(),"Profile"===de&&mi()):"Manage Profile"===$?Ni():"Add/Insert Channel Profile"===$&&mi()),0!==Object.keys(he).length?gi(he):""!==Se?"Day"===Se?Xt(xe):"StartTime"===Se?na(xe):"ProfileValues"===Se&&Kt(xe):oe(de),di())},onHide:function(){ie(!1),Nt(!0)}}),(0,_e.jsx)(ct.Z,{show:en,onSave:Ti,onDiscard:nn,onHide:an})]})}},5543:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var a="styles_bootstrapSpinner__Rq0Tl",i=t(184);function s(e){var n=e.size;return(0,i.jsx)("div",{style:{width:"100%",height:"100%",position:"relative"},children:(0,i.jsx)("div",{className:a,style:{width:n,height:n},children:(0,i.jsx)("i",{className:"fas fa-circle-notch fa-spin",style:{fontSize:n,color:"#008662"}})})})}s.defaultProps={size:"40px"};var r=s},2343:function(e,n,t){"use strict";var a=t(6986),i=t(5666),s=t(1746),r=t(184);n.Z=function(e){var n=e.show,t=e.onSave,l=e.onDiscard,o=e.onHide,c=e.isSaving;return(0,r.jsx)(a.Z,{size:"md",show:n,onHide:o,"aria-labelledby":"confirm-leave-modal",children:(0,r.jsxs)(a.Z.Body,{className:i.Z.promptModalBody,children:[(0,r.jsx)("div",{children:"You have unsaved changes, are you sure you want to navigate away from this page?"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:i.Z.button,children:(0,r.jsx)(s.Z,{isLoading:c,text:"Save and proceed",onClick:t,style:{width:"100%"}})}),(0,r.jsx)("div",{className:i.Z.button,children:(0,r.jsx)(s.Z,{text:"Discard changes and proceed",onClick:l,style:{width:"100%"}})}),(0,r.jsx)("div",{className:i.Z.button,children:(0,r.jsx)(s.Z,{text:"Cancel",defaultBtn:!0,onClick:o,style:{width:"100%"}})})]})]})})}},4895:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var a=t(885),i=t(2791),s=t(2426),r=t.n(s),l="styles_timeInput__GBAx4",o="styles_timeInputWrapper__GFyGF",c="styles_hourInput__I3zdk",u="styles_minuteInput__NrxBH",d="styles_inputDivider__QJbWQ",m="styles_invalidInput__M3CH7",p="styles_errorMessage__SVjpw",f="styles_disabledInput__ngBKX",h=t(184),b=(0,i.forwardRef)((function(e,n){var t=e.value,s=e.onChange,b=e.disabled,v=e.validate,g=e.onValidate,x=e.errorMessage,y=e.clearValues,_=e.min,P=e.max,C=e.defaultValue,S=e.customWrapper,j=e.channelForms,N=(0,i.useRef)(),T=(0,i.useRef)(),k=(0,i.useState)(!1),Z=(0,a.Z)(k,2),w=Z[0],R=Z[1],I=(0,i.useState)(""),M=(0,a.Z)(I,2),B=M[0],D=M[1],L=(0,i.useState)(""),A=(0,a.Z)(L,2),W=A[0],V=A[1],F=(0,i.useState)(0),H=(0,a.Z)(F,2),Y=H[0],E=H[1],J=(0,i.useState)(!1),O=(0,a.Z)(J,2),K=O[0],U=O[1],G="function"===typeof g&&v,z=function(){setTimeout((function(){N.current.focus(),N.current.select()}),1)},q=function(){setTimeout((function(){T.current.focus(),T.current.select()}),1)},Q=function(e){return e.target.select()},X=function(e){return e.stopPropagation()},$=function(){return E(0)},ee=function(e){return 1===e.length?"0".concat(e):"0"===e[0]?e.substring(1,3):e},ne=function(e){var n=e.target.name,t=e.target.value.split("").filter((function(e){return!isNaN(e)&&!isNaN(parseFloat(e))})).join(""),a="0"===(t=ee(t))[0],i=t&&!function(e,n){var t=parseInt(e);return"hour"===n?t<=23:t<=59}(t,n);if("hour"!==n||1!==Y&&3!==t.length||2!==t.length&&!i||q(),!a&&(function(e){return 3===e.length}(t)||i))return!1;"hour"===n?(D(t),B||W||V("00")):V(t),E(Y+1),R(!0)},te=function(e){var n=new Date(e),t=n.getHours(),a=n.getMinutes(),i=ee(t.toString()),s=ee(a.toString());D(i),V(s)};return(0,i.useEffect)((function(){C&&(C&&r()(C).isValid()&&te(C))}),[C]),(0,i.useEffect)((function(){j?t&&!w||!B||!W?t&&r()(t).isValid()&&te(t):t||(D(""),V("")):(!t||w)&&B&&W||t&&r()(t).isValid()&&te(t)}),[t]),(0,i.useEffect)((function(){if(w)if(B&&W){var e=new Date(0,0,0,parseInt(B),parseInt(W),0,0);"function"===typeof s&&s(e);var n=function(e){var n=!1;if(P){var t=P.toLocaleString().split(" ");n="AM"==t[2]&&"12:00:00"==t[1]}return!!_&&e<_||!!P&&e>P&&!n}(e);"function"===typeof g&&g(n)}else"function"===typeof s&&s(null),U(!B||!W),"function"===typeof g&&g(!B||!W);else"function"===typeof g&&g(!1)}),[B,W]),(0,i.useEffect)((function(){y&&(D(""),V(""))}),[y]),(0,h.jsxs)("div",{className:l,children:[(0,h.jsxs)("div",{ref:n,className:"\n                    ".concat(o,"\n                    ").concat(G&&!b&&m,"\n                    ").concat(b&&f,"\n                    ").concat(S&&S,"\n                "),onClick:z,children:[(0,h.jsx)("input",{ref:N,className:c,style:{marginLeft:B&&"-5px"},value:B,name:"hour",type:"text",placeholder:"HH",autoComplete:"off",onChange:ne,onKeyDown:function(e){if("ArrowRight"===e.key&&q(),"ArrowUp"===e.key){var n=parseInt(B)+1;n<=23&&D(ee(n.toString()))}if("ArrowDown"===e.key){var t=parseInt(B)-1;t>=0&&D(ee(t.toString()))}"Backspace"===e.key&&(D(""),E(0),R(!0))},onFocus:Q,onClick:X,onBlur:$,disabled:b}),(0,h.jsx)("span",{className:d,children:":"}),(0,h.jsx)("input",{ref:T,className:u,value:W,name:"minute",type:"text",placeholder:"MM",autoComplete:"off",onChange:ne,onKeyDown:function(e){if("ArrowLeft"===e.key&&z(),"ArrowUp"===e.key){var n=parseInt(W)+1;n<=59&&V(ee(n.toString()))}if("ArrowDown"===e.key){var t=parseInt(W)-1;t>=0&&V(ee(t.toString()))}"Backspace"===e.key&&(V(""),R(!0))},onFocus:Q,onClick:X,onBlur:$,disabled:b})]}),G&&K&&!b&&(0,h.jsx)("span",{className:p,children:x})]})}))},5157:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});t(2791);var a="styles_input__wLU5u",i="styles_label__46S-k",s="styles_errorInput__8Ly1J",r="styles_errorMessage__O6AC0",l=t(184);function o(e){var n=e.label,t=e.name,o=e.type,c=e.placeHolder,u=e.value,d=e.showErrorMessage,m=e.errorMessage,p=e.maxLength,f=e.isRequired,h=e.width,b=e.onChange;return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsxs)("div",{className:i,children:[n," ",f&&(0,l.jsx)("span",{style:{color:"#FF7878"},children:"*"})]}),(0,l.jsx)("input",{className:"".concat(a," ").concat(d&&s),style:{width:h},name:t&&t,type:o&&o,placeholder:c&&c,value:u&&u,maxLength:p&&p,autoComplete:"off",onChange:b}),d&&(0,l.jsx)("small",{className:r,children:m})]})}o.defaultProps={label:"",name:"",type:"text",placeHolder:"",value:"",showErrorMessage:!1,errorMessage:"",maxLength:"",isRequired:!1,width:"",onChange:null};var c=o},6600:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var a=t(885),i=t(2791),s="styles_switchDiv__BFlSt",r="styles_switch__WEbw-",l="styles_activeSwitch__Xfrjf",o="styles_disabledSwitch__v-DsA",c="styles_disabledActiveSwitch__W0s-J",u="styles_switchWithText__jmrhn",d="styles_activeSwitchWithText__1m7j7",m="styles_switchModal__JNY4V",p="styles_text__3Lc+8",f="styles_activeText__TO-0g",h="styles_isModalText__oj3SH",b="styles_label__vZEX8",v="styles_disabledLabel__rErxZ",g=t(184);function x(e){var n=e.label,t=e.text,x=e.active,y=e.disabled,_=e.onSwitch,P=e.customWidth,C=e.right,S=e.name,j=e.blurredOnInactive,N=e.isModal,T=(0,i.useState)(x),k=(0,a.Z)(T,2),Z=k[0],w=k[1];(0,i.useEffect)((function(){w(x)}),[x]);var R=function(){y||("function"===typeof _&&_(!Z,S),w(!Z))};return(0,g.jsxs)("div",{className:s,children:[!C&&(0,g.jsx)("div",{className:"".concat(b," ").concat(j&&v),children:n}),t?(0,g.jsx)("div",{children:Z?(0,g.jsx)("div",{className:"".concat(l," ").concat(y&&(Z?c:o)," ").concat(d," ").concat(N&&m),onClick:R,style:{width:P||null},onKeyDown:R,role:"presentation",children:(0,g.jsx)("span",{className:"".concat(f," ").concat(N&&h),children:t&&t[0]})}):(0,g.jsx)("div",{className:"".concat(r," ").concat(y&&(Z?c:o)," ").concat(u," ").concat(N&&m),onClick:R,style:{width:P||null},onKeyDown:R,role:"presentation",children:(0,g.jsx)("span",{className:"".concat(p," ").concat(N&&h),children:t[1]})})}):(0,g.jsx)("div",{className:"".concat(Z?l:r," ").concat(y&&(Z?c:o)),onClick:R,onKeyDown:R,role:"presentation"}),C&&(0,g.jsx)("div",{className:"".concat(b," ").concat(j&&v),role:"presentation",children:n})]})}x.defaultProps={label:"",text:"",disabled:!1,customWidth:"",right:!0,name:"",isModal:!1};var y=i.memo(x)},1908:function(e,n){"use strict";n.Z={tabList:"Tabs_tabList__LI4lM",tabListItem:"Tabs_tabListItem__6kYs+",tabListActive:"Tabs_tabListActive__HaX2v",tabHeader:"Tabs_tabHeader__htETO",tabContent:"Tabs_tabContent__5440A"}},5666:function(e,n){"use strict";n.Z={promptModalBody:"styles_promptModalBody__PSuKN",button:"styles_button__x0Yl0"}},7252:function(){},4863:function(){},3913:function(){}}]);
//# sourceMappingURL=841.74f0ffef.chunk.js.map