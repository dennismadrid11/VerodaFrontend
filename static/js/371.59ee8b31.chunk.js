"use strict";(self.webpackChunksky=self.webpackChunksky||[]).push([[371],{1993:function(e,t,n){n(2791);t.Z=n.p+"static/media/X.53f7f619875c0efb29e1092839e822a0.svg"},5509:function(e,t,n){var a=n(885),i=n(2791),r=n(1908),o=n(184);function l(e){var t=e.activeTab,n=e.onClick,l=e.label,s=e.customClassActiveHeader,c=(0,i.useState)(""),d=(0,a.Z)(c,2),u=d[0],p=d[1],m=function(e){n(e)};return(0,i.useEffect)((function(){p(t===l?"".concat(r.Z.tabListItem," ").concat(r.Z.tabListActive," ").concat(s):r.Z.tabListItem)}),[t]),(0,o.jsx)("li",{className:"".concat(u," ").concat(r.Z.tabHeader),onClick:function(){m(l)},onKeyDown:function(){m(l)},role:"presentation",children:l})}l.defaultProps={activeTab:null,label:null},t.Z=l},1461:function(e,t,n){var a=n(885),i=n(2791),r=n(1908),o=n(5509),l=n(184);function s(e){var t=e.activeTab,n=e.labelList,s=e.customClass,c=e.dirty,d=e.tabChange,u=e.setActive,p=e.onSetSelectedTab,m=e.customClassActiveHeader,f=(0,i.useState)(""),h=(0,a.Z)(f,2),g=h[0],x=h[1],y=function(e){c?d(e):(u&&u(e),!u&&x(e)),"function"===typeof p&&p(e)};return(0,i.useEffect)((function(){x(t),"function"===typeof p&&p(t)}),[t]),(0,l.jsxs)("div",{className:"tabs",children:[(0,l.jsx)("ol",{className:r.Z.tabList,children:n.map((function(e){return(0,l.jsx)(o.Z,{activeTab:g,label:e.label,onClick:y,customClassActiveHeader:m},e.id)}))}),(0,l.jsx)("div",{className:"tab-content".concat(" ",r.Z.tabContent," ").concat(s),children:n.map((function(e){if(g===e.label)return e.component}))})]})}s.defaultProps={activeTab:null,labelList:null,height:null},t.Z=s},8363:function(e,t,n){n.r(t),n.d(t,{default:function(){return He}});var a=n(1413),i=n(885),r=n(2791),o=n(6986),l=n(4802),s="Prioritisation_marginBottom__qgAKh",c="Prioritisation_channelLabel__ipWOS",d="Prioritisation_saveButton__0Z6gq",u="Prioritisation_divNoAvailableChannelSelected__s5HO1",p="Prioritisation_divNoAvailableChannelSelectedSmall__5Gp59",m="Prioritisation_importButton__aM9NV",f="Prioritisation_cancelButton__Z2xdH",h="Prioritisation_successDiv__13idn",g="Prioritisation_successBody__oSDlP",x="Prioritisation_trBorder__JbNf5",y="Prioritisation_formCheck__JJ1qV",v="Prioritisation_tableBodyDiv__zOMs7",b="Prioritisation_tableBodyDivSmall__OH5ze",j="Prioritisation_prioritizeTableBodyDiv__F-DJj",S="Prioritisation_prioritizeTableBodyDivSmall__IY7RW",C="Prioritisation_divButtons__kBwKo",Z="Prioritisation_tableLabel__xZj5X",P="Prioritisation_isHighlighted__S2rpC",w=n(1993),k=n(6431),N=n(8853),F=n(6033),T=n(9639),I=n(9627),_=n(2007),D=n.n(_),L=n(1597),B=n(111),z=n(766),V=n(5339),A=n(5543),G=n(184),M=(0,r.forwardRef)((function(e,t){var n=e.programs,a=e.callbackSelectPrograms,i=e.callbackViewProgram,o=e.isLoading,l=e.selectedPrograms,s=(e.callbackViewSegment,e.tableMinimize),c=e.titleSource,d=e.viewedProgram,u=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{scrollToProgram:function(){setTimeout((function(){var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}),500)}}}));var p=function(e){var t=[];l.includes(e.id)?(t=l.filter((function(t){return t!==e.id})),a(t)):((t=l).push(e.id),(t=l.filter((function(t){return t!==e.id}))).push(e.id),a(t))},m=function(e){i(e.target.name)},f=function(e){return d&&parseInt(d,10)===e.id?V:l.includes(e.id)?z.Z:B.Z},h=function(e){return l.includes(e.id)||parseInt(d,10)===e.id&&l.includes(e.id)?"brightness(0) saturate(100%) invert(100%) sepia(100%) saturate(0%) hue-rotate(264deg) brightness(105%) contrast(104%)":"brightness(0) saturate(100%) invert(23%) sepia(67%) saturate(6736%) hue-rotate(162deg) brightness(100%) contrast(101%)"};return(0,G.jsx)(G.Fragment,{children:0===n.length?o?(0,G.jsx)("div",{className:"".concat(s?b:v),style:{backgroundColor:"transparent"},children:(0,G.jsx)(A.Z,{})}):(0,G.jsx)("tr",{className:"".concat(s?b:v),children:(0,G.jsx)("td",{colSpan:"7",style:{fontSize:"24px",fontWeight:"300",color:"#008662",textAlign:"center",backgroundColor:"transparent"},children:"No Programme Titles Found"})}):o?(0,G.jsx)("div",{className:"".concat(s?b:v),style:{backgroundColor:"transparent"},children:(0,G.jsx)(A.Z,{})}):(0,G.jsx)(G.Fragment,{children:n.map((function(e){return function(e){return(0,G.jsxs)("tr",{className:"\n          ".concat(l.includes(e.id)?"table-body-row-active":"table-body-row","\n          ").concat(e.overrode&&P,"\n        "),children:[(0,G.jsx)("td",{className:"table-body-column",style:{textIndent:"25px"},onClick:function(){return p(e)},onKeyDown:function(){return p(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",title:e.title,children:e.title}),1===c&&(0,G.jsx)("td",{className:"table-body-column",style:{textIndent:"30px"},onClick:function(){return p(e)},onKeyDown:function(){return p(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",title:e.genreString,children:e.genreString}),(0,G.jsx)("td",{className:"table-body-column",style:{textIndent:2===c?"25px":"33px"},onClick:function(){return p(e)},onKeyDown:function(){return p(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",title:e.duration,children:e.duration}),1===c&&(0,G.jsx)("td",{className:"table-body-column",onClick:function(){return p(e)},onKeyDown:function(){return p(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",style:{textIndent:"35px"},title:e.grade,children:e.grade}),1===c&&(0,G.jsx)("td",{className:"table-body-column",onClick:function(){return p(e)},onKeyDown:function(){return p(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",style:{textIndent:"35px"},title:e.certificate,children:e.certificate}),1===c&&(0,G.jsx)("td",{className:"table-body-column",style:{textIndent:"40px"},onClick:function(){return p(e)},onKeyDown:function(){return p(e)},role:"presentation","data-toggle":"tooltip","data-placement":"top",title:e.year,children:e.year}),1===c&&(0,G.jsx)("td",{className:"table-body-column",style:{width:"30px"},children:(0,G.jsx)("img",{ref:d&&parseInt(d,10)===e.id?u:null,name:e.id,style:{cursor:"pointer",marginLeft:"-20px",filter:h(e)},src:f(e),alt:"EyeIcon",onClick:m,onKeyDown:m,role:"presentation"})}),2===c&&(0,G.jsx)("td",{className:"table-body-column",style:{width:"130px"},children:(0,G.jsx)("img",{ref:d&&parseInt(d,10)===e.id?u:null,name:e.id,style:{cursor:"pointer",filter:h(e)},src:f(e),alt:"EyeIcon",onClick:m,onKeyDown:m,role:"presentation"})})]})}(e)}))})})}));M.defaultProps={programs:null,isLoading:!1,selectedPrograms:null,tableMinimize:!1,viewedProgram:null},M.displayName="AvailableProgramsDataComponent";var K=M,H={channelOptions:["Sky Channel 1","Sky Channel 2","Sky Channel 3"],availableProgramsHeader:["Title Name","Genre","Duration","Grade","Certificate","Year",""],months:[{id:1,value:"January"},{id:2,value:"February"},{id:3,value:"March"},{id:4,value:"April"},{id:5,value:"May"},{id:6,value:"June"},{id:7,value:"July"},{id:8,value:"August"},{id:9,value:"September"},{id:10,value:"October"},{id:11,value:"November"},{id:12,value:"December"}],year:function(){for(var e=[],t=2022;t<=2032;t+=1)e.push({id:t,name:t});return e},prioritisedProgramsHeader:["Title Name"]},E="AvailableProgramsTableHeader_columns__US0zw",R="AvailableProgramsTableHeader_filterIcons__l9gZH",U="AvailableProgramsTableHeader_clearFilterIcons__YY+oh",O="AvailableProgramsTableHeader_dropdownFilter__a+56S",J=n(5374),q=n(3551),Y=n(2223),W=n(3528),Q="starts_with_filter_startsWithButton__YQorL",X="starts_with_filter_startsWithInput__iY1mZ",$="starts_with_filter_clearFilterButton__N9ajd",ee="starts_with_filter_filterButton__ZoFa2",te="starts_with_filter_options__BJxmB",ne="starts_with_filter_optionItem__akkzZ",ae=r.forwardRef,ie=r.useImperativeHandle,re=ae((function(e,t){var n=[{optionId:1,optionText:"Starts With"},{optionId:2,optionText:"Ends With"},{optionId:3,optionText:"Contains"},{optionId:4,optionText:"Equal"},{optionId:5,optionText:"Not Equal"}],a=(0,r.useState)(n[0]),o=(0,i.Z)(a,2),l=o[0],s=o[1],c=(0,r.useState)(!1),d=(0,i.Z)(c,2),u=d[0],p=d[1],m=(0,r.useState)(""),f=(0,i.Z)(m,2),h=f[0],g=f[1],x=(0,r.useState)(!0),y=(0,i.Z)(x,2),v=y[0],b=y[1],j=(0,r.useRef)(),S=function(t){j.current.contains(t.target)||(e.backdropClicked(e.component),p(!1))},C=function(e){s(e),p(!1),""!==h&&b(!1)},Z=function(){s(n[0]),g(""),b(!0)},P=function(t){var n=JSON.parse(JSON.stringify(e.filterModel));return"Filter"===t?("Title Name"===e.component&&(n.titleFilter=l.optionId,n.titleFilterValue=h,n.useCache=!0),"Genre"===e.component&&(n.genreFilter=l.optionId,n.genreFilterValue=h,n.useCache=!0),"Duration"===e.component&&(n.durationFilter=l.optionId,n.durationFilterValue=h,n.useCache=!0),"Grade"===e.component&&(n.gradeFilter=l.optionId,n.gradeFilterValue=h,n.useCache=!0),"Year"===e.component&&(n.yearFilter=l.optionId,n.yearFilterValue=h,n.useCache=!0),"Certificate"===e.component&&(n.certificateFilter=l.optionId,n.certificateFilterValue=h,n.useCache=!0)):("Title Name"===e.component&&(n.titleFilter=void 0,n.titleFilterValue=void 0,n.useCache=!0),"Genre"===e.component&&(n.genreFilter=void 0,n.genreFilterValue=void 0,n.useCache=!0),"Duration"===e.component&&(n.durationFilter=void 0,n.durationFilterValue=void 0,n.useCache=!0),"Grade"===e.component&&(n.gradeFilter=void 0,n.gradeFilterValue=void 0,n.useCache=!0),"Year"===e.component&&(n.yearFilter=void 0,n.yearFilterValue=void 0,n.useCache=!0),"Certificate"===e.component&&(n.certificateFilter=void 0,n.certificateFilterValue=void 0,n.useCache=!0)),n},w=function(){Z(),e.onClickedButtonFilter(P("Clear")),e.toggleDropdown(null)};return ie(t,(function(){return{clearFilterModel:function(){Z()}}})),(0,r.useEffect)((function(){return document.addEventListener("mousedown",S),function(){return document.removeEventListener("mousedown",S)}})),(0,G.jsxs)("div",{className:"p-3",ref:j,children:[(0,G.jsx)("div",{}),(0,G.jsxs)("div",{className:"position-relative",children:[(0,G.jsx)("button",{className:Q,onClick:function(){p(!u)},type:"button",children:l.optionText}),(0,G.jsx)("div",{className:te,style:{display:u?null:"none",marginBottom:"-".concat(25*n.length,"px"),height:"127px"},children:n.map((function(e){return(0,G.jsx)("div",{className:ne,onClick:function(){return C(e)},onKeyDown:function(){return C(e)},role:"presentation",children:(0,G.jsx)("span",{children:e.optionText})},e.id)}))})]}),(0,G.jsx)("br",{}),(0,G.jsx)("input",{className:X,type:"text",value:h,placeholder:"Enter the value",onChange:function(e){b(!1),g(e.target.value),l.optionId===n[0].optionId&&C(n[0])}}),(0,G.jsx)("hr",{style:{backgroundColor:"#6d6d73"}}),(0,G.jsxs)("div",{className:"d-flex",children:[(0,G.jsx)("p",{className:$,onClick:w,onKeyDown:w,role:"presentation",children:"Clear"}),(0,G.jsx)("button",{className:ee,onClick:function(){e.onClickedButtonFilter(P("Filter")),e.toggleDropdown(null),b(!0)},disabled:v,type:"button",children:"Filter"})]})]})}));re.defaultProps={component:""},re.displayName="StartsWithFilterComponent";var oe=re;var le=function(e){var t=e.filterModel,n=e.onClickedButtonFilter,a=e.sortBy,o=e.handleSetSortBy,l=e.onClickedButtonClearAllFilters,s=e.titleSource,c=e.onClickedButtonClearFilter,d=H.availableProgramsHeader,u=(0,r.useState)(!1),p=(0,i.Z)(u,2),m=p[0],f=p[1],h=(0,r.useState)(!1),g=(0,i.Z)(h,2),x=g[0],y=g[1],v=(0,r.useState)(!1),b=(0,i.Z)(v,2),j=b[0],S=b[1],C=(0,r.useState)(!1),Z=(0,i.Z)(C,2),P=Z[0],w=Z[1],k=(0,r.useState)(!1),N=(0,i.Z)(k,2),F=N[0],T=N[1],I=(0,r.useState)(!1),_=(0,i.Z)(I,2),D=_[0],L=_[1],B=(0,r.useState)(!1),z=(0,i.Z)(B,2),V=z[0],A=z[1],M=(0,r.useRef)(),K=(0,r.useRef)(),Q=(0,r.useRef)(),X=(0,r.useRef)(),$=(0,r.useRef)(),ee=(0,r.useRef)(),te=function(e){e===d[0]?f(!m):f(!1),e===d[1]?y(!x):y(!1),e===d[2]?S(!j):S(!1),e===d[3]?w(!P):w(!1),e===d[4]?L(!D):L(!1),e===d[5]?T(!F):T(!1)},ne=function(e){switch(e){case d[0]:f(!1);break;case d[1]:y(!1);break;case d[2]:S(!1);break;case d[3]:w(!1);break;case d[4]:L(!1);break;case d[5]:T(!1)}},ae=function(e){n(e)},ie=function(e){var n=JSON.parse(JSON.stringify(t));n.userSort=e,n.sortBy=a[e].state?2:1,ae(n),o(e)},re=function(){M.current.clearFilterModel(),K.current.clearFilterModel(),Q.current.clearFilterModel(),X.current.clearFilterModel(),ee.current.clearFilterModel(),$.current.clearFilterModel(),l()};return(0,r.useEffect)((function(){A(t.titleFilter||t.titleFilterValue||t.genreFilter||t.genreFilterValue||t.gradeFilter||t.gradeFilterValue||t.certificateFilter||t.certificateFilterValue||t.yearFilter||t.yearFilterValue)}),[t]),(0,G.jsxs)("tr",{children:[(0,G.jsxs)("td",{className:E,children:[(0,G.jsx)("span",{onClick:function(){return ie(1)},onKeyDown:function(){return ie(1)},role:"presentation",children:d[0]})," ",(0,G.jsx)("img",{className:"".concat(R," mx-2"),src:t.titleFilter&&t.titleFilterValue?q:J,alt:"FilterIcon1",onClick:function(){return te("".concat(d[0]))},onKeyDown:function(){return te("".concat(d[0]))},role:"presentation"}),(0,G.jsx)("div",{className:O,style:{display:m?null:"none"},children:(0,G.jsx)(oe,{ref:M,component:d[0],filterModel:t,onClickedButtonFilter:ae,onClickedButtonClearFilter:function(){return c("".concat(d[0]))},toggleDropdown:te,backdropClicked:ne})}),(0,G.jsx)("img",{src:Y,alt:"ArrowUpIcon1",style:{display:1===t.userSort||void 0===t.userSort?null:"none",transform:a[1].state?"rotate(0deg)":"rotate(180deg)"}})]}),1===s&&(0,G.jsxs)("td",{className:E,children:[(0,G.jsx)("span",{onClick:function(){return ie(2)},onKeyDown:function(){return ie(2)},role:"presentation",children:d[1]})," ",(0,G.jsx)("img",{className:"".concat(R," mx-2"),src:t.genreFilter&&t.genreFilterValue?q:J,alt:"FilterIcon2",onClick:function(){return te("".concat(d[1]))},onKeyDown:function(){return te("".concat(d[1]))},role:"presentation"}),(0,G.jsx)("div",{className:O,style:{display:x?null:"none"},children:(0,G.jsx)(oe,{ref:K,component:d[1],filterModel:t,onClickedButtonFilter:ae,onClickedButtonClearFilter:function(){return c("".concat(d[1]))},toggleDropdown:te,backdropClicked:ne})}),(0,G.jsx)("img",{src:Y,alt:"ArrowUpIcon2",style:{display:2===t.userSort?null:"none",transform:a[2].state?"rotate(0deg)":"rotate(180deg)"}})]}),(0,G.jsxs)("td",{className:E,children:[(0,G.jsx)("span",{onClick:function(){return ie(3)},onKeyDown:function(){return ie(3)},role:"presentation",children:d[2]})," ",(0,G.jsx)("div",{className:O,style:{display:j?null:"none"},children:(0,G.jsx)(oe,{ref:Q,component:d[2],filterModel:t,onClickedButtonFilter:ae,onClickedButtonClearFilter:function(){return c("".concat(d[2]))},toggleDropdown:te,backdropClicked:ne})}),(0,G.jsx)("img",{src:Y,alt:"ArrowUpIcon3",style:{display:3===t.userSort?null:"none",transform:a[3].state?"rotate(0deg)":"rotate(180deg)"}})]}),1===s&&(0,G.jsxs)("td",{className:E,children:[(0,G.jsx)("span",{onClick:function(){return ie(4)},onKeyDown:function(){return ie(4)},role:"presentation",children:d[3]})," ",(0,G.jsx)("img",{className:"".concat(R," mx-2"),src:t.gradeFilter&&t.gradeFilterValue?q:J,alt:"FilterIcon3",onClick:function(){return te("".concat(d[3]))},onKeyDown:function(){return te("".concat(d[3]))},role:"presentation"}),(0,G.jsx)("div",{className:O,style:{display:P?null:"none"},children:(0,G.jsx)(oe,{ref:X,component:d[3],filterModel:t,onClickedButtonFilter:ae,onClickedButtonClearFilter:function(){return c("".concat(d[3]))},toggleDropdown:te,backdropClicked:ne})}),(0,G.jsx)("img",{src:Y,alt:"ArrowUpIcon4",style:{display:4===t.userSort?null:"none",transform:a[4].state?"rotate(0deg)":"rotate(180deg)"}})]}),1===s&&(0,G.jsxs)("td",{className:E,children:[(0,G.jsx)("span",{onClick:function(){return ie(5)},onKeyDown:function(){return ie(5)},role:"presentation",children:d[4]})," ",(0,G.jsx)("img",{className:"".concat(R," mx-1"),src:t.certificateFilter&&t.certificateFilterValue?q:J,alt:"FilterIcon5",onClick:function(){return te("".concat(d[4]))},onKeyDown:function(){return te("".concat(d[4]))},role:"presentation",backdropClicked:ne}),(0,G.jsx)("div",{className:O,style:{display:D?null:"none"},children:(0,G.jsx)(oe,{ref:ee,component:d[4],filterModel:t,onClickedButtonFilter:ae,onClickedButtonClearFilter:function(){return c("".concat(d[4]))},toggleDropdown:te,backdropClicked:ne})}),(0,G.jsx)("img",{src:Y,alt:"ArrowUpIcon5",style:{display:5===t.userSort?null:"none",transform:a[5].state?"rotate(0deg)":"rotate(180deg)"}})]}),1===s&&(0,G.jsxs)("td",{className:E,children:[(0,G.jsx)("span",{onClick:function(){return ie(6)},onKeyDown:function(){return ie(6)},role:"presentation",children:d[5]})," ",(0,G.jsx)("img",{className:"".concat(R," mx-1"),src:t.yearFilter&&t.yearFilterValue?q:J,alt:"FilterIcon6",onClick:function(){return te("".concat(d[5]))},onKeyDown:function(){return te("".concat(d[5]))},role:"presentation",backdropClicked:ne}),(0,G.jsx)("div",{className:O,style:{display:F?null:"none"},children:(0,G.jsx)(oe,{ref:$,component:d[5],filterModel:t,onClickedButtonFilter:n,onClickedButtonClearFilter:function(){return c("".concat(d[5]))},toggleDropdown:te,backdropClicked:ne})}),(0,G.jsx)("img",{src:Y,alt:"ArrowUpIcon6",style:{display:6===t.userSort?null:"none",transform:a[6].state?"rotate(0deg)":"rotate(180deg)"}}),(0,G.jsx)("img",{className:"".concat(U),style:{display:V?null:"none"},src:W.Z,alt:"ClearFilterIcon",onClick:re,onKeyDown:re,role:"presentation"})]}),(0,G.jsx)("td",{className:E,style:{width:2===s?"135px":"30px"},children:2===s&&"Segments"})]})},se=(0,r.forwardRef)((function(e,t){var n=e.programs,a=e.callbackViewProgram,o=e.handleSelectProgram,l=e.isLoading,s=e.availablePaginationParameters,c=e.paginate,d=e.selectedPrograms,u=e.setFilterModel,p=e.filterModel,m=e.callbackViewSegment,f=e.tableMinimize,h=e.titleSource,g=e.viewedProgram,x=(0,r.useRef)(),y=H.tableHeaders,j=(0,r.useState)({}),S=(0,i.Z)(j,2),C=S[0],Z=S[1],P=(0,r.useState)([{},{state:!0},{state:!1},{state:!1},{state:!1},{state:!1},{state:!1}]),w=(0,i.Z)(P,2),k=w[0],N=w[1];(0,r.useImperativeHandle)(t,(function(){return{scrollToProgram:function(){x.current.scrollToProgram()}}}));return(0,G.jsx)("div",{children:(0,G.jsx)(L.Z,{component:(0,G.jsx)(K,{ref:x,programs:n,callbackSelectPrograms:o,callbackViewProgram:a,isLoading:l,selectedPrograms:d,callbackViewSegment:m,viewedProgram:g,tableMinimize:f,titleSource:h}),tableHeaderColumns:y,paginationParameters:s,sortHeader:function(){},hasExport:!1,stylesTable:f?b:v,tableHeader:(0,G.jsx)(le,{onClickedButtonClearAllFilters:function(){u({userSort:C.userSort,sortBy:C.sortBy,useCache:!0})},filterModel:p,sortBy:k,handleSetSortBy:function(e){var t=k;!0===t[e].state?t[e].state=!1:t[e].state=!0,N(t),Z({userSort:e,sortBy:t[e].state?1:2})},onClickedButtonFilter:function(e){u(e)},titleSource:h}),paginate:c,isTableBodyLoading:l})})}));se.defaultProps={programs:null,isLoading:!0,selectedPrograms:null,tableMinimize:D().bool,viewedProgram:null},se.displayName="AvailableProgramsComponent";var ce=se,de=(0,r.forwardRef)((function(e,t){var n=e.programs,a=e.callbackSelectPrograms,i=e.callbackViewProgram,o=e.selectedPrograms,l=e.tableMinimize,s=(e.callbackViewSegment,e.titleSource),c=e.viewedProgram,d=e.isLoading,u=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{scrollToProgram:function(){setTimeout((function(){var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}),500)}}}));var p=function(e){var t=[];o.includes(e.id)?(t=o.filter((function(t){return t!==e.id})),a(t)):((t=o).push(e.id),(t=o.filter((function(t){return t!==e.id}))).push(e.id),a(t))},m=function(e){i(e.target.name)},f=function(e){return parseInt(c,10)===e.id?V:o.includes(e.id)?z.Z:B.Z},h=function(e){return o.includes(e.id)||parseInt(c,10)===e.id&&o.includes(e.id)?"brightness(0) saturate(100%) invert(100%) sepia(100%) saturate(0%) hue-rotate(264deg) brightness(105%) contrast(104%)":"brightness(0) saturate(100%) invert(23%) sepia(67%) saturate(6736%) hue-rotate(162deg) brightness(100%) contrast(101%)"};return(0,G.jsxs)(G.Fragment,{children:[d&&(0,G.jsx)("div",{className:"".concat(l?b:v),style:{backgroundColor:"transparent"},children:(0,G.jsx)(A.Z,{})}),0===n.length&&!d&&(0,G.jsx)("tr",{className:"".concat(l?S:j),children:(0,G.jsx)("td",{colSpan:"7",style:{fontSize:"40px",color:"#13ad83",textAlign:"center",backgroundColor:"transparent"},children:"Please select and add programme titles to prioritise"})}),n.length>0&&!d&&(0,G.jsx)(G.Fragment,{children:n.map((function(e){return(0,G.jsxs)("tr",{className:"\n                  ".concat(o.includes(e.id)?"table-body-row-active":"table-body-row","\n                  ").concat(e.overrode&&P,"\n                "),children:[(0,G.jsx)("td",{className:"table-body-column",onClick:function(){return p(e)},onKeyDown:function(){return p(e)},role:"presentation",style:{textIndent:"25px"},title:e.title,children:e.title}),1===s&&(0,G.jsx)("td",{className:"table-body-column",style:{width:"30px"},children:(0,G.jsx)("img",{ref:parseInt(c,10)===e.id?u:null,name:e.id,style:{cursor:"pointer",marginLeft:"-20px",filter:h(e)},src:f(e),alt:"EyeIcon",onClick:m,onKeyDown:m,role:"presentation"})}),2===s&&(0,G.jsx)("td",{className:"table-body-column",style:{width:"35px"},children:(0,G.jsx)("img",{ref:parseInt(c,10)===e.id?u:null,name:e.id,style:{cursor:"pointer",marginLeft:"-20px",filter:h(e)},src:f(e),alt:"EyeIcon",onClick:m,onKeyDown:m,role:"presentation"})})]},e.id)}))})]})}));de.defaultProps={programs:null,selectedPrograms:null,tableMinimize:!1,viewedProgram:null,isLoading:!0},de.displayName="PrioritisedProgramsDataComponent";var ue=de,pe="PrioritisedProgramsTableHeader_columns__52NlA";var me=function(e){var t=e.filterModel,n=e.onClickedButtonFilter,a=e.sortBy,i=e.handleSetSortBy,o=H.availableProgramsHeader,l=function(e){var r=JSON.parse(JSON.stringify(t));r.userSort=e,r.sortBy=a[e].state?2:1,function(e){n(e)}(r),i(e)};return(0,r.useEffect)((function(){}),[t]),(0,G.jsx)("tr",{children:(0,G.jsxs)("td",{className:pe,children:[(0,G.jsx)("span",{onClick:function(){return l(1)},onKeyDown:function(){return l(1)},role:"presentation",children:o[0]})," ",(0,G.jsx)("img",{src:Y,alt:"ArrowUpIcon1",style:{transform:a[1].state?"rotate(0deg)":"rotate(180deg)"}})]})})},fe=(0,r.forwardRef)((function(e,t){var n=e.programs,a=e.callbackViewProgram,o=e.handleSelectProgram,l=e.paginationParameters,s=e.paginate,c=e.selectedPrograms,d=e.handleSortPrioritised,u=e.tableMinimize,p=e.callbackViewSegment,m=e.titleSource,f=e.viewedProgram,h=e.isLoading,g=(0,r.useRef)(),x=H.tableHeaders,y=(0,r.useState)({}),v=(0,i.Z)(y,2),b=v[0],C=v[1],Z=(0,r.useState)({}),P=(0,i.Z)(Z,2),w=P[0],k=P[1],N=(0,r.useState)([{},{state:!0},{state:!1}]),F=(0,i.Z)(N,2),T=F[0],I=F[1];(0,r.useImperativeHandle)(t,(function(){return{scrollToProgram:function(){g.current.scrollToProgram()}}}));return(0,G.jsx)("div",{children:(0,G.jsx)(L.Z,{component:(0,G.jsx)(ue,{ref:g,programs:n,callbackViewProgram:a,callbackSelectPrograms:o,selectedPrograms:c,tableMinimize:u,callbackViewSegment:p,titleSource:m,viewedProgram:f,isLoading:h}),tableHeaderColumns:x,paginationParameters:l,paginate:s,sortHeader:function(){},hasExport:!1,stylesTable:u?S:j,tableHeader:(0,G.jsx)(me,{onClickedButtonClearAllFilters:function(){C({userSort:w.userSort,sortBy:w.sortBy,useCache:!0})},filterModel:b,sortBy:T,handleSetSortBy:function(e){var t=T;!0===t[e].state?t[e].state=!1:t[e].state=!0,I(t),k({userSort:e,sortBy:t[e].state?1:2})},onClickedButtonFilter:function(e){d(e)}}),isTableBodyLoading:h})})}));fe.defaultProps={programs:null,selectedPrograms:null,tableMinimize:!1,viewedProgram:null,isLoading:!0},fe.displayName="PrioritisedProgramsComponent";var he=fe,ge=n(5576),xe=n(2441),ye=n(1715),ve=n(392),be=n(1746),je=n(2632),Se=n(1939),Ce=n(6533),Ze=n(3597),Pe=n(1461),we=n(8782),ke=[{headerId:1,headerName:"Title Group Name",filter:{type:1,queryNames:["titleGroupFilter","titleGroupFilterValue"]},sortable:!0},{headerId:2,headerName:"Titles Count",filter:{type:5,queryNames:["titlesCountFilter","titlesCountFilterValue"]},sortable:!0},{headerId:3,headerName:"\u200e"}],Ne=[{headerId:1,headerName:"Title Group Name",sortable:!0},{headerId:2,headerName:"\u200e"}],Fe={totalCount:0,pageSize:50,currentPage:1,totalPages:0};var Te=function(e){var t=e.selectTitleGroups,n=e.groups,o=e.paginationParameters,l=e.clearSelected,s=e.setClearSelected,c=e.selectDetail,d=e.tableHeight,u=e.handleGetTitles,p=e.isLoading,m=e.queryParameters,f=e.setQueryParameters,h=e.sortParameters,g=e.setSortParameters,x=e.prioritisation,y=ke,v=(0,r.useState)({}),b=(0,i.Z)(v,2),j=b[0],S=b[1];return(0,r.useEffect)((function(){x.channelId&&x.month&&x.year&&u(!1)}),[m]),(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("div",{class:"col-12",style:{display:"flex",flexWrap:"wrap"},children:[(0,G.jsx)("div",{className:"".concat(Z),children:"Available title groups:"}),(0,G.jsx)("div",{className:"d-flex",children:(0,G.jsx)(we.Z,{noDataVerbiage:"No available title group.",headers:y,list:n,isFetchingData:p,queryParameters:j,paginationParameters:o,sortParameters:h,onFilter:function(e){f((0,a.Z)((0,a.Z)((0,a.Z)({},m),e),{},{pageNumber:1,pageSize:m.pageSize,searchKey:m.searchKey})),S((0,a.Z)((0,a.Z)((0,a.Z)({},m),e),{},{pageNumber:1,pageSize:m.pageSize,searchKey:m.searchKey}))},onClearFilters:function(){f({pageNumber:1,pageSize:m.pageSize,searchKey:m.searchKey}),S({})},onSort:function(e){var t=e.sortBy,n=e.sortOrder;g({order:n,sort:t}),f((0,a.Z)((0,a.Z)({},m),{},{pageNumber:1,pageSize:m.pageSize,sortBy:t,sortOrder:n}))},onPaginate:function(e,t){f((0,a.Z)((0,a.Z)({},m),{},{pageNumber:e,pageSize:t}))},onDoubleClickSelectData:null,onSingleClickSelectData:null,tableHeight:d,filter:null,onAction:function(e,t){c(t)},defaultSelected:null,onMultiSelect:function(e){t(e)},clearSelected:l,setClearSelected:function(e){return s(e)}})})]})})};function Ie(e){var t=e.prioritisedGroups,n=e.selectPrioritisedGroups,o=e.paginationParameters,l=e.selectDetail,s=e.tableHeight,c=e.isLoading,d=e.setSortParameters,u=e.sortParameters,p=e.clearSelected,m=e.setClearSelected,f=e.queryParameters,h=e.setQueryParameters,g=Ne,x=(0,r.useState)({}),y=(0,i.Z)(x,2),v=y[0];y[1];return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("div",{class:"col-12",style:{display:"flex",flexWrap:"wrap"},children:[(0,G.jsx)("div",{className:"".concat(Z),children:"Prioritised title groups:"}),(0,G.jsx)("div",{className:"d-flex",style:{width:"100%"},children:(0,G.jsx)(we.Z,{noDataVerbiage:"Please select a title group and add.",headers:g,list:t,isFetchingData:c,queryParameters:v,paginationParameters:o,sortParameters:u,onSort:function(e){var t=e.sortBy,n=e.sortOrder;d({order:n,sort:t}),h((0,a.Z)((0,a.Z)({},f),{},{pageNumber:1,pageSize:f.pageSize,sortBy:t,sortOrder:n}))},onPaginate:function(e,t){h((0,a.Z)((0,a.Z)({},f),{},{pageNumber:e,pageSize:t}))},onDoubleClickSelectData:null,onSingleClickSelectData:null,tableHeight:s,filter:null,onAction:function(e,t){l(t)},onMultiSelect:function(e){n(e)},clearSelected:p,setClearSelected:function(e){return m(e)}})})]})})}var _e=n(4942),De=n(4065),Le="TitleGroups_panel__Ugb26",Be="TitleGroups_scroll__UT+L0",ze="TitleGroups_closeIcon__MZBJo",Ve="TitleGroups_fontBold__z3yQU",Ae="TitleGroups_labelField__Ptu+S",Ge=n(2677);function Me(e){var t=e.viewGroupDetails,n=e.callbackCloseDetails,a=e.prioritisation,o=(0,r.useState)([]),l=(0,i.Z)(o,2),s=l[0],c=l[1];return(0,r.useEffect)((function(){t&&function(){var e=Ge.Z.toIsoFormat(new Date(Date.UTC(a.year,a.month-1,1))),n=Ge.Z.toIsoFormat(new Date(Date.UTC(a.year,a.month,0)));xe.Z.getTitleGroupPrograms(t.id,a.channelId,e,n).then((function(e){var t=JSON.parse(JSON.stringify(e.data.data));t=t.sort((function(e,t){return e.titleName.toLowerCase()>t.titleName.toLowerCase()?1:-1})),c(t)}))}()}),[t]),(0,G.jsx)(G.Fragment,{children:(0,G.jsx)("div",{style:{width:"100%",marginTop:"8px"},children:(0,G.jsx)("div",{className:"col-12",children:(0,G.jsxs)("div",{className:Le,children:[(0,G.jsx)("div",{className:"position-relative",children:(0,G.jsx)("i",{children:(0,G.jsx)("img",{className:ze,src:De.Z,alt:"",onClick:n,onKeyDown:n,role:"presentation"})})}),(0,G.jsx)("div",{style:{marginBottom:"10px"},children:(0,G.jsx)("b",{style:(0,_e.Z)({fontSize:"20px",fontWeight:600},"fontSize","16px"),children:t.name})}),(0,G.jsx)("div",{className:"col-12",children:(0,G.jsx)("b",{className:Ae,children:"Programme titles:"})})," ",(0,G.jsx)("div",{className:Be,children:(0,G.jsx)("div",{className:"col-12",children:s.map((function(e){return(0,G.jsx)("b",{className:Ve,children:e.titleName})}))})})]})})})})}function Ke(e){var t=e.prioritisation,n=e.changed,o=e.setChanged,l=e.discardTitleGroupDirty,s=e.setDiscardTitleGroupDirty,c=e.saveTitleGroupDirty,d=e.setSaveTitleGroupDirty,m=(0,r.useState)([]),f=(0,i.Z)(m,2),h=f[0],g=f[1],x=(0,r.useState)([]),y=(0,i.Z)(x,2),v=y[0],b=y[1],j=(0,r.useState)([]),S=(0,i.Z)(j,2),Z=S[0],P=S[1],w=(0,r.useState)(Fe),k=(0,i.Z)(w,2),F=k[0],T=k[1],I=(0,r.useState)(!1),_=(0,i.Z)(I,2),D=_[0],L=_[1],B=(0,r.useState)([]),z=(0,i.Z)(B,2),V=z[0],A=z[1],M=(0,r.useState)([]),K=(0,i.Z)(M,2),H=K[0],E=K[1],R=(0,r.useState)([]),U=(0,i.Z)(R,2),O=U[0],J=U[1],q=(0,r.useState)(!1),Y=(0,i.Z)(q,2),W=Y[0],Q=Y[1],X=(0,r.useState)([]),$=(0,i.Z)(X,2),ee=$[0],te=$[1],ne=(0,r.useState)(),ae=(0,i.Z)(ne,2),ie=ae[0],re=ae[1],oe=(0,r.useState)(),le=(0,i.Z)(oe,2),se=le[0],ce=le[1],de=(0,r.useState)(Fe),ue=(0,i.Z)(de,2),pe=ue[0],me=ue[1],fe=(0,r.useState)(!1),he=(0,i.Z)(fe,2),ge=he[0],ye=he[1],ve=(0,r.useState)(!1),Se=(0,i.Z)(ve,2),Ce=Se[0],Ze=Se[1],Pe=(0,r.useState)({pageNumber:1,pageSize:50}),we=(0,i.Z)(Pe,2),ke=we[0],Ne=we[1],_e=(0,r.useState)({pageNumber:1,pageSize:50}),De=(0,i.Z)(_e,2),Le=De[0],Be=De[1],ze=(0,r.useState)({order:1,sort:1}),Ve=(0,i.Z)(ze,2),Ae=Ve[0],Ge=Ve[1],Ke=(0,r.useState)({order:1,sort:1}),He=(0,i.Z)(Ke,2),Ee=He[0],Re=He[1],Ue=function(e){return h.filter((function(t){return e.filter((function(e){return e.id===t.id})).length})).map((function(e){return{id:e.id,name:e.name,totalAsset:e.totalAsset,action:e.action}}))},Oe=function(e){Ze(!0),xe.Z.getTitleGroupList(function(e){var n="?pageNumber=".concat(e.pageNumber?e.pageNumber:1,"\n    &pageSize=").concat(e.pageSize?e.pageSize:50),a=e.titleGroupFilter&&e.titleGroupFilterValue?"&titleGroupFilter=".concat(e.titleGroupFilter,"&titleGroupFilterValue=").concat(e.titleGroupFilterValue):"",i=e.titlesCountFilter&&e.titlesCountFilterValue?"&titlesCountFilter=".concat(e.titlesCountFilter,"&titlesCountFilterValue=").concat(e.titlesCountFilterValue):"",r=e.sortOrder&&e.sortBy?"&sort=".concat(e.sortBy,"&sortBy=").concat(e.sortOrder):"",o=e.searchKey?"&SearchKey=".concat(e.searchKey):"";null!=e.searchKey&&e.searchKey.includes("+")&&(o=o.replace("+","%2B"));var l=e.useCache?"&useCache=".concat(e.useCache):"",s=t?"&channelId=".concat(t.channelId):"",c=t?"&month=".concat(t.month):"",d=t?"&year=".concat(t.year):"",u="".concat(n).concat(a).concat(i).concat(r).concat(o).concat(l).concat(s).concat(c).concat(d);return u.includes("+")&&(u=u.replace("+","%2B")),u}(ke),e).then((function(t){var n=t.data.data;Je(n,t.data.prioritised);var a=n.map((function(e){return{id:e.id,name:e.name,totalAsset:e.totalAsset,action:{id:e.id,icon:N.cM,toolTip:"View title group details",actionName:"viewTitleDetails"}}}));if(e||(a=a.filter((function(e){return!H.filter((function(t){return t.id===e.id})).length}))),We(a),e){var i=t.data.prioritised.map((function(e){return{id:e.id,name:e.name,action:{id:e.id,icon:N.cM,toolTip:"View title group details",actionName:"viewTitleDetails"}}}));Qe(i)}})).finally((function(){return Ze(!1)}))},Je=function(e,t){var n=e.map((function(e){return{id:e.id,name:e.name,totalAsset:e.totalAsset,action:{id:e.id,icon:N.cM,toolTip:"View title group details",actionName:"viewTitleDetails"}}})),a=t.map((function(e){return{id:e.id,name:e.name,totalAsset:e.totalAsset,action:{id:e.id,icon:N.cM,toolTip:"View title group details",actionName:"viewTitleDetails"}}}));n=n.concat(a),g(n)},qe=function(e){var t=h.filter((function(t){return t.id===e}))[0];se&&e===se.id?(ce(),re()):(ce(t),re(null===t||void 0===t?void 0:t.id))},Ye=function(){var e=[];ye(!0),O.map((function(t){return e.push(t.id),!0}));var n={titleGroupIDs:e,channelId:t.channelId,month:t.month,year:t.year};xe.Z.saveTitleGroupPriotisation(n).then((function(){o(!1),ye(!1),(0,je.Vp)("Prioritisation Saved")}))},We=function(e){var t=e;t=1===Ae.order?1===Ae.sort?t.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1})):t.sort((function(e,t){return e.totalAsset>t.totalAsset?1:-1})):1===Ae.sort?t.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?-1:1})):t.sort((function(e,t){return e.totalAsset>t.totalAsset?-1:1})),P(t);for(var n=t.length>0&&0===ke.pageNumber?1:ke.pageNumber,i=ke.pageSize,r=1===n?0:(n-1)*i;r>=t.length;)r=1===(n-=1)?0:(n-1)*i;var o=t.slice(r,r+i);b(o),T((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPage:n,totalCount:t.length,totalPages:Math.ceil(t.length/F.pageSize)})}))},Qe=function(e){var t=e;t=1===Ee.order?t.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1})):t.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?-1:1})),J(t);for(var n=t.length>0&&0===Le.pageNumber?1:Le.pageNumber,i=Le.pageSize,r=1===n?0:(n-1)*i;r>=t.length;)r=1===(n-=1)?0:(n-1)*i;var o=t.slice(r,r+i);E(o),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPage:n,totalCount:t.length,totalPages:Math.ceil(t.length/pe.pageSize)})}))};return(0,r.useEffect)((function(){Qe(O)}),[Ee,Le]),(0,r.useEffect)((function(){We(v)}),[Ae]),(0,r.useEffect)((function(){t.channelId&&t.month&&t.year&&(Oe(!0),ce())}),[t]),(0,r.useEffect)((function(){l&&(o(!1),s(!1))}),[l]),(0,r.useEffect)((function(){c&&(Ye(),o(!1),d(!1))}),[c]),(0,r.useEffect)((function(){g((function(e){return e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{action:(0,a.Z)((0,a.Z)({},e.action),{},{icon:e.id===ie?N.cJ:N.cM})})}))})),b((function(e){return e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{action:(0,a.Z)((0,a.Z)({},e.action),{},{icon:e.id===ie?N.cJ:N.cM})})}))})),E((function(e){return e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{action:(0,a.Z)((0,a.Z)({},e.action),{},{icon:e.id===ie?N.cJ:N.cM})})}))}))}),[Z,h,O,ie]),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"d-flex",children:[(0,G.jsx)("div",{style:{width:"60%"},children:(0,G.jsx)(Te,{selectTitleGroups:function(e){A(e.filter((function(e){return v.filter((function(t){return t.id===e.id})).length})))},groups:v,setGroups:b,paginationParameters:F,setPaginationParameters:function(e){return T(e)},clearSelected:D,setClearSelected:L,selectDetail:qe,tableHeight:se?"683px":"467px",setPrioritisedGroups:function(e){E(e)},prioritisation:t,handleGetTitles:Oe,isLoading:Ce,queryParameters:ke,setQueryParameters:Ne,sortParameters:Ae,setSortParameters:Ge})}),(0,G.jsx)("div",{className:C,children:!Ce&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("button",{onClick:function(e){var t,n=(t=V,h.filter((function(e){return t.filter((function(t){return t.id===e.id})).length})).map((function(e){return{id:e.id,name:e.name,action:e.action}}))),a=O.concat(n);Qe(a);var i=Z.filter((function(e){return!V.filter((function(t){return t.id===e.id})).length}));We(i),A([]),L(!0),o(!0)},disabled:0===V.length,type:"button",children:["Add Selected",(0,G.jsx)("img",{style:{marginTop:"11px"},src:N.VT,alt:""})]}),(0,G.jsxs)("button",{onClick:function(){var e=Ue(O),t=Z.concat(e);We(t),A([]),Qe([]),Q(!0),o(!0)},style:{paddingTop:"9px"},disabled:0===H.length,type:"button",children:[(0,G.jsx)("img",{style:{marginTop:"2px"},src:N.nj,alt:""}),(0,G.jsx)("span",{style:{marginLeft:"5px"},children:"Remove All"})]}),(0,G.jsxs)("button",{onClick:function(){var e=Ue(ee),t=Z.concat(e);We(t),A([]);var n=O.filter((function(e){return!ee.filter((function(t){return t.id===e.id})).length}));Qe(n),te([]),Q(!0),o(!0)},disabled:0===ee.length,type:"button",children:[(0,G.jsx)("img",{style:{marginTop:"11px"},src:N.nj,alt:""}),"Remove Selected"]})]})}),(0,G.jsx)("div",{style:{width:"33%"},children:0===H.length?(0,G.jsx)("div",{className:se?p:u,children:(0,G.jsx)("div",{style:{display:"table-cell",verticalAlign:"middle"},children:(0,G.jsx)("div",{children:"Please select a title group and add."})})}):(0,G.jsx)(Ie,{prioritisedGroups:H,selectPrioritisedGroups:function(e){te(e)},paginationParameters:pe,setPaginationParameters:function(e){return me(e)},selectDetail:qe,tableHeight:se?"684px":"468px",isLoading:Ce,sortParameters:Ee,setSortParameters:function(e){Re(e)},clearSelected:W,setClearSelected:Q,queryParameters:Le,setQueryParameters:Be})})]}),se&&(0,G.jsx)(Me,{viewGroupDetails:se,callbackCloseDetails:function(){ce(),re()},prioritisation:t}),(0,G.jsx)("div",{style:{float:"right",marginTop:"8px"},children:(0,G.jsx)(be.Z,{text:"Save",isLoading:ge,onClick:Ye,disabled:!n})})]})}var He=function(){var e=(0,r.useState)("Please select a channel"),t=(0,i.Z)(e,2),n=t[0],v=t[1],b=(0,r.useState)([{}]),j=(0,i.Z)(b,2),S=j[0],P=j[1],_=(0,r.useState)("January"),D=(0,i.Z)(_,2),L=D[0],B=D[1],z=H.months,V=H.year(),A=(0,r.useState)("2022"),M=(0,i.Z)(A,2),K=M[0],E=M[1],R=(0,r.useState)([]),U=(0,i.Z)(R,2),O=U[0],J=U[1],q=(0,r.useState)([]),Y=(0,i.Z)(q,2),W=Y[0],Q=Y[1],X=(0,r.useState)([]),$=(0,i.Z)(X,2),ee=$[0],te=$[1],ne=(0,r.useState)([]),ae=(0,i.Z)(ne,2),ie=ae[0],re=ae[1],oe=(0,r.useState)(),le=(0,i.Z)(oe,2),se=le[0],de=le[1],ue=(0,r.useState)([]),pe=(0,i.Z)(ue,2),me=pe[0],fe=pe[1],we=(0,r.useState)([]),ke=(0,i.Z)(we,2),Ne=ke[0],Fe=ke[1],Te=(0,r.useState)(!0),Ie=(0,i.Z)(Te,2),_e=Ie[0],De=Ie[1],Le=(0,r.useState)(!1),Be=(0,i.Z)(Le,2),ze=Be[0],Ve=Be[1],Ae=(0,r.useState)(!1),Ge=(0,i.Z)(Ae,2),Me=Ge[0],He=Ge[1],Ee=(0,r.useState)(!1),Re=(0,i.Z)(Ee,2),Ue=Re[0],Oe=Re[1],Je=(0,r.useState)(!1),qe=(0,i.Z)(Je,2),Ye=(qe[0],qe[1]),We=(0,r.useState)(""),Qe=(0,i.Z)(We,2),Xe=Qe[0],$e=Qe[1],et=(0,r.useState)({}),tt=(0,i.Z)(et,2),nt=tt[0],at=tt[1],it=(0,r.useState)(1),rt=(0,i.Z)(it,2),ot=rt[0],lt=rt[1],st=(0,r.useState)(null),ct=(0,i.Z)(st,2),dt=ct[0],ut=ct[1],pt=(0,r.useState)(""),mt=(0,i.Z)(pt,2),ft=mt[0],ht=(mt[1],(0,r.useState)(!1)),gt=(0,i.Z)(ht,2),xt=gt[0],yt=gt[1],vt=(0,r.useState)({}),bt=(0,i.Z)(vt,2),jt=bt[0],St=bt[1],Ct=(0,r.useState)({page:1,size:50}),Zt=(0,i.Z)(Ct,2),Pt=Zt[0],wt=Zt[1],kt=(0,r.useState)({}),Nt=(0,i.Z)(kt,2),Ft=Nt[0],Tt=Nt[1],It=(0,r.useState)({page:1,size:50}),_t=(0,i.Z)(It,2),Dt=_t[0],Lt=_t[1],Bt=(0,r.useState)({titleIds:[],channelId:null,month:1,year:2022}),zt=(0,i.Z)(Bt,2),Vt=zt[0],At=zt[1],Gt=(0,r.useState)([{},{state:!1},{state:!1},{state:!1},{state:!1},{state:!0},{state:!1}]),Mt=(0,i.Z)(Gt,2),Kt=Mt[0],Ht=Mt[1],Et=(0,r.useRef)(),Rt=(0,r.useRef)(),Ut=(0,r.useRef)(),Ot=(0,r.useState)(!1),Jt=(0,i.Z)(Ot,2),qt=Jt[0],Yt=Jt[1],Wt=(0,r.useState)(1),Qt=(0,i.Z)(Wt,2),Xt=Qt[0],$t=Qt[1],en=(0,r.useState)(!1),tn=(0,i.Z)(en,2),nn=tn[0],an=tn[1],rn=(0,r.useState)(!1),on=(0,i.Z)(rn,2),ln=on[0],sn=on[1],cn=(0,r.useState)(!1),dn=(0,i.Z)(cn,2),un=dn[0],pn=dn[1],mn=(0,r.useState)(""),fn=(0,i.Z)(mn,2),hn=fn[0],gn=fn[1],xn=(0,r.useState)(""),yn=(0,i.Z)(xn,2),vn=yn[0],bn=yn[1],jn=(0,r.useState)("all"),Sn=(0,i.Z)(jn,2),Cn=Sn[0],Zn=Sn[1],Pn=(0,r.useState)([]),wn=(0,i.Z)(Pn,2),kn=wn[0],Nn=wn[1],Fn=(0,r.useState)(!1),Tn=(0,i.Z)(Fn,2),In=Tn[0],_n=Tn[1],Dn=(0,r.useState)([]),Ln=(0,i.Z)(Dn,2),Bn=Ln[0],zn=Ln[1],Vn=(0,r.useState)(""),An=(0,i.Z)(Vn,2),Gn=An[0],Mn=An[1],Kn=(0,r.useState)([]),Hn=(0,i.Z)(Kn,2),En=Hn[0],Rn=Hn[1],Un=(0,r.useState)(!1),On=(0,i.Z)(Un,2),Jn=On[0],qn=On[1],Yn=(0,r.useState)(!1),Wn=(0,i.Z)(Yn,2),Qn=Wn[0],Xn=Wn[1],$n=(0,r.useState)(!1),ea=(0,i.Z)($n,2),ta=ea[0],na=ea[1],aa=(0,r.useState)(!1),ia=(0,i.Z)(aa,2),ra=ia[0],oa=ia[1],la=(0,r.useState)(!1),sa=(0,i.Z)(la,2),ca=sa[0],da=sa[1],ua=(0,r.useState)(!1),pa=(0,i.Z)(ua,2),ma=pa[0],fa=pa[1],ha=(0,r.useState)(!1),ga=(0,i.Z)(ha,2),xa=ga[0],ya=ga[1],va=(0,r.useState)(!1),ba=(0,i.Z)(va,2),ja=ba[0],Sa=ba[1],Ca=(0,r.useState)(!1),Za=(0,i.Z)(Ca,2),Pa=Za[0],wa=Za[1],ka=(0,r.useState)(),Na=(0,i.Z)(ka,2),Fa=Na[0],Ta=Na[1],Ia=(0,r.useState)(!1),_a=(0,i.Z)(Ia,2),Da=_a[0],La=_a[1],Ba=(0,r.useState)("Titles"),za=(0,i.Z)(Ba,2),Va=za[0],Aa=za[1],Ga=(0,r.useState)({}),Ma=(0,i.Z)(Ga,2),Ka=Ma[0],Ha=Ma[1],Ea=(0,r.useState)([]),Ra=(0,i.Z)(Ea,2),Ua=Ra[0],Oa=Ra[1],Ja=(0,r.useState)([]),qa=(0,i.Z)(Ja,2),Ya=qa[0],Wa=qa[1],Qa=(0,ge.E)(ma||xa),Xa=(0,i.Z)(Qa,4),$a=Xa[0],ei=Xa[1],ti=Xa[2],ni=Xa[3],ai=(0,r.useState)(0),ii=(0,i.Z)(ai,2),ri=ii[0],oi=ii[1],li=(0,r.useState)(),si=(0,i.Z)(li,2),ci=si[0],di=si[1],ui=function(e){di((0,a.Z)((0,a.Z)({},ci),e))},pi=function(){fa(!1),Oa([]),Wa([])},mi=function(){Fa&&(Aa(Fa),Ta(),fa(!1),ya(!1))},fi=function(){if(xa)Sa(!0);else if(Object.keys(Ka).length>0){var e=Ka.input,t=Ka.selected;pi(),$e(""),Ye(!1),"channel"===e?(v(t.name),At((function(e){return(0,a.Z)((0,a.Z)({},e),{},{channelId:t.id})})),ui({channelID:t.id})):"month"===e?(B(t.value),At((function(e){return(0,a.Z)((0,a.Z)({},e),{},{month:t.id})})),ui({monthID:t.id})):(E(t.id),At((function(e){return(0,a.Z)((0,a.Z)({},e),{},{year:t.id})})),ui({year:t.id})),Ha({})}La(!1),mi()},hi=function(){de(),ut(null),qn(!1)},gi=function(e){Ve(!0);for(var t=e,n=(t=1===ot?t.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):t.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?-1:1}))).length>0&&0===Dt.page?1:Dt.page,a=Dt.size,i=1===n?0:(n-1)*a;i>=t.length;)i=1===(n-=1)?0:(n-1)*a;var r=t.slice(i,i+a);re(r),Lt({page:n,size:a}),Tt({totalCount:t.length,pageSize:a,currentPage:n,totalPages:Math.ceil(t.length/a)}),Ve(!1)},xi=function(e,t,i,r,o){if("Please select a channel"!==n){De(!0);var l=Pt;o&&(l.page=1);var s=function(e,t,n){var a=void 0!==n&&""!==n?"&SearchKey=".concat(n):"",i=void 0!==nt.titleFilter?"&titleFilter=".concat(nt.titleFilter):"",r=void 0!==nt.titleFilterValue?"&titleFilterValue=".concat(nt.titleFilterValue):"",o=void 0!==nt.genreFilter?"&genreFilter=".concat(nt.genreFilter):"",l=void 0!==nt.genreFilterValue?"&genreFilterValue=".concat(nt.genreFilterValue):"",s=void 0!==nt.durationFilter?"&durationFilter=".concat(nt.durationFilter):"",c=void 0!==nt.durationFilterValue?"&durationFilterValue=".concat(nt.durationFilterValue):"",d=void 0!==nt.gradeFilter?"&gradeFilter=".concat(nt.gradeFilter):"",u=void 0!==nt.gradeFilterValue?"&gradeFilterValue=".concat(nt.gradeFilterValue):"",p=void 0!==nt.yearFilter?"&yearFilter=".concat(nt.yearFilter):"",m=void 0!==nt.yearFilterValue?"&yearFilterValue=".concat(nt.yearFilterValue):"",f=void 0!==nt.sortBy?"&SortOrder=".concat(nt.sortBy):"",h=void 0!==nt.userSort?"&ProgramSort=".concat(nt.userSort):"",g=nt.certificateFilter&&nt.certificateFilterValue?"&certificateFilter=".concat(nt.certificateFilter,"&certificateFilterValue=").concat(nt.certificateFilterValue):"",x="?Page=".concat(0===t.page||ft!==n?1:t.page)+"&Size=".concat(t.size).concat(a).concat(h).concat(f).concat(i).concat(r).concat(o).concat(l).concat(s).concat(c).concat(d).concat(u).concat(p).concat(m).concat(g);return x.includes("+")&&(x=x.replace("+","%2B")),x}(0,l,t),c=r.map((function(e){return e.id}));xe.Z.getTitles(s,Vt,c,i).then((function(e){oi(ri+1),0===e.data.data.filter((function(e){return e.hasSegment})).length?Xn(!1):Xn(!0);var t=e.data.data.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{titleId:e.titleId,title:e.title,genreString:e.overrodeValues.genre||e.genreString,duration:e.overrodeValues.duration||e.duration,grade:e.overrodeValues.grade||e.grade,certificate:e.overrodeValues.certificate||e.certificate,year:e.overrodeValues.year||e.year})}));J(t),Q(t),St({totalCount:e.data.totalData,pageSize:e.data.size,currentPage:e.data.page,totalPages:e.data.totalPages}),De(!1)}))}},yi=function(){if(xa)wa(!0),pi(),ei();else{var e=!0,t=[];yt(!0),ma?ee.map((function(e){return t.push(e.id),!0})):((0,je.h)("Select Prioritised Title"),e=!1);var n="";if(null==Vt.channelId&&(n="Channel",e=!1),null==Vt.month&&(n=""===n?"Month":"".concat(n,", Month"),e=!1),null==Vt.year&&(n=""===n?"Year":"".concat(n,", Year"),e=!1),""!==n&&(0,je.h)("".concat(n," is required")),e){var a={titleIds:t,channelId:Vt.channelId,month:Vt.month,year:Vt.year};xe.Z.savePriotisation(a).then((function(){pi(),an(!1),yt(!1),(0,je.Vp)("Prioritisation Saved"),ei()})).finally((function(){ti()}))}else yt(!1)}mi()},vi=(0,r.useRef)(null);(0,r.useEffect)((function(){de(),ut(null),qn(!1)}),[Va]),(0,r.useEffect)((function(){if(Ft.currentPage>Ft.totalPages){Tt((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPage:Ft.totalPages})})),Lt((function(e){return(0,a.Z)((0,a.Z)({},e),{},{page:Ft.totalPages})}));var e=Dt.size,t=1===Ft.totalPages?0:(Ft.totalPages-1)*e,n=ie.slice(t,t+e);re(n)}}),[Ft]),(0,r.useEffect)((function(){var e=function(e){ft&&vi.current&&!vi.current.contains(e.target)&&($e(ft),Ye(!0))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[vi,ft]);var bi=function(e){Zn(e),zn("imported"===e?kn.filter((function(e){return e.successfullyImported})):"notimported"===e?kn.filter((function(e){return!e.successfullyImported})):kn)},ji=function(){xe.Z.exportUploadSample().then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,l.saveAs)(t,"sample_titles_export.xlsx")}))},Si=function(e){xe.Z.getSegments(e).then((function(e){qn(!0),0===En.length||e.data.segments[0].id!==En[0].id?Rn(e.data.segments):(Rn([]),qn(!1))}))},Ci=function(){da(!1),na(!0),xe.Z.generateSegments(Vt).then((function(e){var t=0;e.data.items.map((function(e){return e.segmentsUpdated&&(t+=1),!0})),xi(0,Xe,!1,ee),gn(t),Nn(e.data.items),zn(e.data.items),Zn("all"),na(!1),oa(!0)}))},Zi=function(e){Zn(e),zn("updated"===e?kn.filter((function(e){return e.segmentsUpdated})):"notfound"===e?kn.filter((function(e){return!e.segmentsUpdated})):kn)},Pi=function(){xe.Z.savePrioritisationSession(function(e){var t=e.channelId||e.channelID?"?channelId=".concat(e.channelId?e.channelId:e.channelID):"",n=e.monthID?"&monthID=".concat(e.monthID):"",a=e.year?"&year=".concat(e.year):"&year=".concat(V[0].id);return"".concat(t).concat(n).concat(a)}(ci))},wi=function(){return Vt.channelId&&Vt.month&&Vt.year&&null!==Vt.channelId&&null!==Vt.month&&null!==Vt.year};(0,r.useEffect)((function(){xe.Z.getChannels().then((function(e){var t=e.data,n=[];t.map((function(e){return n.push({id:e.channelId,name:e.channelName}),!0})),P(n)})),ye.Z.getUser(ve.Z.getUserIdentity().userId).then((function(e){$t(e.data.organisationTitleSource)}))}),[]),(0,r.useEffect)((function(){wi()&&"Titles"===Va&&xi(0,Xe,!1,ee,!0)}),[nt,Va]),(0,r.useEffect)((function(){wi()&&"Titles"===Va&&(Ve(!0),xe.Z.getPriorityList(Vt).then((function(e){var t=e.data.titles;Tt({totalCount:t.length,pageSize:Dt.size,currentPage:Dt.page,totalPages:Math.ceil(t.length/Dt.size)});var n=JSON.parse(JSON.stringify(t));n=n.sort((function(e,t){return 1===ot?e.title.toLowerCase()>t.title.toLowerCase()?1:-1:e.title.toLowerCase()>t.title.toLowerCase()?-1:1})),te(n),Rn([]),de(),qn(!1);var a=n.slice(0,Dt.size);re(a),xi(0,Xe,!1,t,!0)})).finally((function(){return Ve(!1)})))}),[Vt,Va]),(0,r.useEffect)((function(){wi()&&xi(0,Xe,!0,ee)}),[Pt]),(0,r.useEffect)((function(){S.length>=1&&xe.Z.getPrioritisationSession().then((function(e){var t=S.find((function(t){return t.id===e.data.channelID})),n=e.data.monthID>0?z.find((function(t){return t.id===e.data.monthID})):z[0],i=V.find((function(t){return t.name.toString()===e.data.year}));di(e.data),t&&v(t.name),i&&E(i.id),B(null===n||void 0===n?void 0:n.value),At((0,a.Z)((0,a.Z)({},Vt),{},{channelId:t?t.id:null,month:n.id,year:null===i||void 0===i?void 0:i.id}))}))}),[S]),(0,r.useEffect)((function(){ci&&ri>0&&Pi(),oi(ri+1)}),[ci]),(0,r.useEffect)((function(){!xa&&Object.keys(Ka).length>0&&fi()}),[xa]),(0,r.useEffect)((function(){Fa&&(ma||xa)&&La(!0)}),[Fa]);var ki=[{id:1,label:"Titles",component:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"d-flex",children:[(0,G.jsx)("div",{style:{width:"60%"},children:"Please select a channel"===n?(0,G.jsx)("div",{className:Jn?p:u,children:(0,G.jsx)("div",{style:{display:"table-cell",verticalAlign:"middle"},children:(0,G.jsx)("div",{children:"Please select a channel to list its available programme titles."})})}):(0,G.jsx)("div",{children:Vt.channelId?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:Z,children:"Available programme titles:"}),(0,G.jsx)(ce,{ref:Et,programs:W,callbackViewProgram:function(e){return dt===e?(ut(),de(),qn(!1),!1):(void 0!==se&&se.titleId===e?(de(),ut(),qn(!1)):xe.Z.getTitleByID(e,Vt.channelId).then((function(t){ut(e),Et.current.scrollToProgram(),de(t.data),qn(!0)})),!0)},handleSelectProgram:function(e){fe(e),He(e.length>0)},isLoading:_e||ze,availablePaginationParameters:jt,paginate:function(e,t){He(!1),fe([]),Fe([]),Oe(!1),De(!0),wt({page:e,size:t}),De(!1)},selectedPrograms:me,handleSetSortBy:function(e){var t=Kt;!0===t[e].state?t[e].state=!1:t[e].state=!0,Ht(t)},setFilterModel:at,filterModel:nt,selectedChannel:n,callbackViewSegment:Si,viewedProgram:dt,tableMinimize:Jn,titleSource:Xt})]}):(0,G.jsx)("div",{className:"".concat(u),children:(0,G.jsx)("div",{style:{display:"table-cell",verticalAlign:"middle"},children:2===Xt?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{children:"No available programme titles in this channel covering the selected period."}),(0,G.jsx)("div",{style:{marginTop:"40px"},children:"You can add program titles by clicking import."})]}):(0,G.jsx)("div",{children:"Please select a channel to list its available programme titles."})})})})}),(0,G.jsxs)("div",{className:C,children:[(0,G.jsxs)("button",{onClick:function(){if(void 0===me||null===me||0===me.length)(0,je.h)("No selected Title");else{var e=ee,t=Ua,n=Ya;me.map((function(a){var i=O.filter((function(e){return e.id===a}));if(void 0!==i[0]&&(e[e.length]=i[0]),n.includes(a)){var r=n.indexOf(a);n=1===n.length?[]:n.splice(r-1,1)}else t[t.length]=a;return!0})),e=1===ot?e.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):e.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?-1:1})),te(e),fe([]),He(!1),gi(e),xi(0,Xe,!0,e),fa(t.length>0||n.length>0),Oa(t),Wa(n),an(!0)}},disabled:!Me,type:"button",children:["Add Selected",(0,G.jsx)("img",{style:{marginTop:"11px"},src:N.VT,alt:""})]}),(0,G.jsxs)("button",{onClick:function(){var e=[];fa(!0),gi(e),te(e),xi(0,Xe,!0,e)},style:{paddingTop:"9px"},disabled:0===ee.length,type:"button",children:[(0,G.jsx)("img",{style:{marginTop:"2px"},src:N.nj,alt:""}),(0,G.jsx)("span",{style:{marginLeft:"5px"},children:"Remove All"})]}),(0,G.jsxs)("button",{onClick:function(){if(void 0===Ne||null===Ne||0===Ne.length)(0,je.h)("No selected Title");else{var e=ee,t=Ua,n=Ya;Ne.map((function(a){if(e=e.filter((function(e){return e.id!==a})),t.includes(a)){var i=t.indexOf(a);t=1===t.length?[]:t.splice(i-1,1)}else n[n.length]=a;return!0})),te(e),Fe([]),Oe(!1),gi(e),Tt({totalCount:e.length,pageSize:Dt.size,currentPage:Dt.page,totalPages:Math.ceil(e.length/Dt.size)}),xi(0,Xe,!0,e),fa(t.length>0||n.length>0),Oa(t),Wa(n),an(!0)}},disabled:!Ue||0===ee.length,type:"button",children:[(0,G.jsx)("img",{style:{marginTop:"11px"},src:N.nj,alt:""}),"Remove Selected"]})]}),(0,G.jsx)("div",{style:{width:"33%"},children:"Please select a channel"===n||0===ee.length&&!ze?(0,G.jsx)("div",{className:"".concat(Jn?p:u),style:{fontSize:"28px"},children:(0,G.jsx)("div",{style:{display:"table-cell",verticalAlign:"middle"},children:(0,G.jsx)("div",{children:"Please select and add programme titles to prioritise"})})}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:Z,children:"Prioritised programme titles:"}),(0,G.jsx)(he,{ref:Rt,programs:ie,callbackViewProgram:function(e){return dt===e?(ut(),de(),qn(!1),!1):(void 0!==se&&se.titleId===e?(de(),ut(),qn(!1)):xe.Z.getTitleByID(e,Vt.channelId).then((function(t){de(t.data),ut(e),Rt.current.scrollToProgram(),qn(!0)})),!0)},handleSelectProgram:function(e){Fe(e),Oe(e.length>0)},paginationParameters:Ft,paginate:function(e,t){He(!1),fe([]),Fe([]),Oe(!1),Ve(!0);for(var n=1===e?0:(e-1)*t,a=ee,i=e;n>=a.length;)n=1===(i-=1)?0:(i-1)*t;var r=a.slice(n,n+t);re(r),Lt({page:i,size:t}),Tt({totalCount:a.length,pageSize:t,currentPage:i,totalPages:Math.ceil(a.length/t)}),Ve(!1)},selectedPrograms:Ne,viewProgram:se,handleSortPrioritised:function(e){Ve(!0),lt(e.sortBy);var t=ee;t=1===e.sortBy?t.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):t.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?-1:1})),te(t);for(var n=t.length>0&&0===Dt.page?1:Dt.page,a=Dt.size,i=1===n?0:(n-1)*a;i>=t.length;)i=1===(n-=1)?0:(n-1)*a;var r=t.slice(i,i+a);re(r),Lt({page:n,size:a}),Tt({totalCount:t.length,pageSize:a,currentPage:n,totalPages:Math.ceil(t.length/a)}),Ve(!1)},callbackViewSegment:Si,tableMinimize:Jn,titleSource:Xt,viewedProgram:dt,isLoading:ze})]})})]}),dt&&(0,G.jsx)("div",{style:{width:"100%",marginTop:"8px"},children:1===Xt?(0,G.jsx)(Se.Z,{component:"Prioritisation",program:se,callbackCloseDetails:hi}):(0,G.jsx)(Ce.Z,{component:"Prioritisation",program:se,callbackCloseDetails:hi})}),(0,G.jsx)("div",{style:{float:"right",marginTop:"8px"},children:(0,G.jsx)(be.Z,{text:"Save",isLoading:xt,onClick:yi,disabled:!ma})})]})},{id:2,label:"Title Groups",component:(0,G.jsx)(Ke,{prioritisation:Vt,setChanged:function(e){return ya(e)},changed:xa,discardTitleGroupDirty:ja,setDiscardTitleGroupDirty:function(e){return Sa(e)},saveTitleGroupDirty:Pa,setSaveTitleGroupDirty:function(e){return wa(e)}})}];return(0,G.jsxs)("div",{children:[(0,G.jsx)(F.Z,{componentName:"Prioritisation",isAddButtonHidden:!0,isSearchHidden:!0}),(0,G.jsx)("hr",{style:{background:"rgb(200, 200, 200)"}}),(0,G.jsxs)("div",{className:"row ".concat(s),children:[(0,G.jsx)("div",{style:{width:"80px"},children:(0,G.jsx)("div",{className:c,children:"Channel:"})}),(0,G.jsx)("div",{style:{width:"300px"},children:(0,G.jsx)(T.Z,{text:n,list:S,onSelect:function(e){ma||xa?(Ha({input:"channel",selected:e}),La(!0)):($e(""),te([]),Ye(!1),v(e.name),At((function(t){return(0,a.Z)((0,a.Z)({},t),{},{channelId:e.id})})),at((0,a.Z)((0,a.Z)({},nt),{},{channelId:e.id})),ui({channelID:e.id}))},width:"300px",withSearch:!0})}),(0,G.jsx)("div",{style:{width:"auto",marginLeft:"10px"},children:(0,G.jsx)("div",{className:c,children:"Month:"})}),(0,G.jsx)("div",{style:{width:"180px",paddingLeft:"0"},children:(0,G.jsx)(I.Z,{text:L,list:z,onSelect:function(e){ma||xa?(Ha({input:"month",selected:e}),La(!0)):($e(""),Ye(!1),B(e.value),At((function(t){return(0,a.Z)((0,a.Z)({},t),{},{month:e.id})})),ui({monthID:e.id}))},width:"180px"})}),(0,G.jsx)("div",{style:{width:"auto",marginLeft:"10px"},children:(0,G.jsx)("div",{className:c,children:"Year:"})}),(0,G.jsx)("div",{style:{width:"150px",paddingLeft:"0"},children:(0,G.jsx)(T.Z,{text:K,list:V,onSelect:function(e){ma||xa?(Ha({input:"year",selected:e}),La(!0)):($e(""),Ye(!1),E(e.id),At((function(t){return(0,a.Z)((0,a.Z)({},t),{},{year:e.id})})),ui({year:e.id}))},width:"150px"})}),(0,G.jsx)("button",{className:"".concat(m),style:{display:2===Xt?null:"none",cursor:"pointer",backgroundColor:"Please select a channel"===n?"#b1b1b1":"#008662"},onClick:function(){bn(""),Mn(""),0===O.length?Yt(!0):pn(!0)},disabled:"Please select a channel"===n,type:"button",children:"Import"}),(0,G.jsx)("button",{className:"".concat(m),style:{display:2===Xt?null:"none",cursor:nn?"pointer":"not-allowed",backgroundColor:nn?Qn?"#008662":"#FF7878":"#b1b1b1",width:"auto"},disabled:!nn,onClick:function(){Qn?da(!0):Ci()},type:"button",children:Qn?"Update Segments":"Get Segments"})]}),(0,G.jsx)(Pe.Z,{activeTab:Va,labelList:ki,dirty:ma||xa,tabChange:function(e){return Ta(e)},setActive:function(e){return Aa(e)}}),(0,G.jsx)(o.Z,{size:"lg",show:qt,onHide:function(){return Yt(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,G.jsx)(o.Z.Body,{style:{padding:"35px"},children:In?(0,G.jsxs)("div",{style:{fontSize:"50px",color:"#13ad83",backgroundColor:"transparent",position:"relative",height:"145px"},children:[(0,G.jsx)("div",{style:{fontSize:"16px",color:"#000",textAlign:"center",width:"715px"},children:"Importing and validation programme titles from sample.csv..."}),(0,G.jsx)("i",{className:"fas fa-circle-notch fa-spin mr-1",style:{top:0,bottom:0,left:0,right:0,margin:"auto",position:"absolute",height:"50px",width:"50px"}})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{style:{fontWeight:"bolder"},children:"Import program titles"}),(0,G.jsx)("div",{children:(0,G.jsxs)("small",{children:["Download a"," ",(0,G.jsx)("small",{style:{color:"#008662",textDecoration:"none",cursor:"pointer"},onClick:ji,onKeyDown:ji,role:"presentation",children:"sample template"})," ","to see an example of the required format."]})}),(0,G.jsx)("div",{children:(0,G.jsx)("small",{style:{color:"red"},children:Gn})}),(0,G.jsx)("button",{style:{marginTop:"30px",marginLeft:"0"},className:m,onClick:function(){Ut.current.click()},type:"button",children:"Choose file"}),(0,G.jsx)("small",{style:{marginLeft:"15px"},children:vn}),(0,G.jsx)("input",{ref:Ut,type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, .csv",style:{display:"none"},onChange:function(){var e=Ut.current.files;bn(e[0].name)}}),(0,G.jsx)("div",{style:{paddingTop:"10px"},children:(0,G.jsx)("small",{children:"Acceptable formats: Excel, CSV"})}),(0,G.jsxs)("div",{style:{textAlign:"right",paddingTop:"30px"},children:[(0,G.jsx)("button",{className:f,onClick:function(){return Yt(!1)},type:"button",children:"Cancel"}),(0,G.jsx)("button",{className:m,onClick:function(){_n(!0);var e=Ut.current.files[0];if(Mn(""),void 0===e)Mn("No file selected"),_n(!1);else{var t=e.name.split(".").pop(),n=new FormData;n.append("file",e),"xlsx"===t||"csv"===t?xe.Z.uploadFile(n,Vt.channelId,Vt.year,Vt.month,t).then((function(e){Yt(!1),sn(!0);var t=0;e.data.items.map((function(e){return e.successfullyImported&&(t+=1),!0})),xi(0,Xe,!1,ee),gn(t),Nn(e.data.items),zn(e.data.items),Zn("all")})).catch((function(e){Mn(e.response.data.message)})).finally((function(){_n(!1)})):Mn("Uploaded file type is not supported. Please use files in the following format (xlsx)"),_n(!1)}},type:"button",children:"Import"})]})]})})}),(0,G.jsx)(o.Z,{size:"lg",show:ln,onHide:function(){return sn(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,G.jsxs)(o.Z.Body,{style:{padding:"35px"},children:[(0,G.jsxs)("div",{style:{textAlign:"center"},children:[(0,G.jsx)("b",{children:" ".concat(hn," ")}),"programs out of",(0,G.jsx)("b",{children:" ".concat(kn.length," ")}),"were successfully imported and validated!"]}),(0,G.jsx)("div",{className:"".concat(h),children:(0,G.jsx)("table",{children:(0,G.jsx)("tbody",{className:"".concat(g),children:Bn.map((function(e){return(0,G.jsxs)("tr",{className:"".concat(x),style:{width:"100%"},children:[(0,G.jsx)("td",{className:"table-body-column",style:{width:"90%"},children:e.title}),(0,G.jsx)("td",{className:"table-body-column",children:(0,G.jsx)("i",{children:(0,G.jsx)("img",{src:e.successfullyImported?k.Z:w.Z,alt:""})})})]},e.id)}))})})}),(0,G.jsxs)("div",{style:{marginTop:"10px"},children:[(0,G.jsxs)("div",{className:"form-check",style:{marginRight:"20px",display:"inline-block"},onClick:function(){return bi("all")},onKeyDown:function(){return bi("all")},role:"presentation",children:[(0,G.jsx)("input",{className:"".concat(y," form-check-input"),type:"radio",name:"successFilter",id:"flexRadioDefault1",checked:"all"===Cn}),(0,G.jsx)("div",{className:"form-check-label",htmlFor:"flexRadioDefault1",children:"Show all"})]}),(0,G.jsxs)("div",{className:"form-check",style:{marginRight:"20px",display:"inline-block"},onClick:function(){return bi("imported")},onKeyDown:function(){return bi("imported")},role:"presentation",children:[(0,G.jsx)("input",{className:"".concat(y," form-check-input"),type:"radio",name:"successFilter",id:"flexRadioDefault2",checked:"imported"===Cn}),(0,G.jsx)("div",{className:"form-check-label",htmlFor:"flexRadioDefault2",children:"Imported"})]}),(0,G.jsxs)("div",{className:"form-check",style:{marginRight:"20px",display:"inline-block"},onClick:function(){return bi("notimported")},onKeyDown:function(){return bi("notimported")},role:"presentation",children:[(0,G.jsx)("input",{className:"".concat(y," form-check-input"),type:"radio",name:"successFilter",id:"flexRadioDefault3",checked:"notimported"===Cn}),(0,G.jsx)("div",{className:"form-check-label",htmlFor:"flexRadioDefault3",children:"Not imported"})]})]}),(0,G.jsx)("div",{style:{textAlign:"right",paddingTop:"30px"},children:(0,G.jsx)("button",{className:d,onClick:function(){return sn(!1)},style:{marginRight:"0"},type:"button",children:"Close"})})]})}),(0,G.jsx)(o.Z,{size:"md",show:un,onHide:function(){return pn(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,G.jsxs)(o.Z.Body,{style:{padding:"35px"},children:[(0,G.jsxs)("div",{style:{textAlign:"center"},children:["This channel already have existing programme titles."," "]}),(0,G.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:(0,G.jsx)("b",{children:" Are you sure you want to proceed?"})}),(0,G.jsxs)("div",{style:{textAlign:"center",paddingTop:"30px"},children:[(0,G.jsx)("button",{className:f,onClick:function(){return pn(!1)},style:{marginLeft:"0"},type:"button",children:"Cancel"}),(0,G.jsx)("button",{className:m,onClick:function(){pn(!1),Yt(!0)},type:"button",children:"Proceed"})]})]})}),(0,G.jsx)(o.Z,{size:"lg",show:ta,onHide:function(){return na(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,G.jsx)(o.Z.Body,{style:{padding:"35px"},children:(0,G.jsx)("div",{children:(0,G.jsxs)("div",{style:{fontSize:"50px",color:"#13ad83",backgroundColor:"transparent",position:"relative",height:"145px"},children:[(0,G.jsx)("div",{style:{fontSize:"16px",color:"#000",textAlign:"center",width:"715px"},children:"Updating Segment details..."}),(0,G.jsx)("i",{className:"fas fa-circle-notch fa-spin mr-1",style:{top:0,bottom:0,left:0,right:0,margin:"auto",position:"absolute",height:"50px",width:"50px"}})]})})})}),(0,G.jsx)(o.Z,{size:"lg",show:ra,onHide:function(){return oa(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,G.jsxs)(o.Z.Body,{style:{padding:"35px"},children:[(0,G.jsxs)("div",{style:{textAlign:"center"},children:["Segments updated for ",(0,G.jsx)("b",{children:" ".concat(hn," ")}),"programme titles out of ",(0,G.jsx)("b",{children:kn.length}),"!"]}),(0,G.jsx)("div",{className:"".concat(h),children:(0,G.jsx)("table",{children:(0,G.jsx)("tbody",{className:"".concat(g),children:Bn.map((function(e){return(0,G.jsxs)("tr",{className:"".concat(x),style:{width:"100%"},children:[(0,G.jsx)("td",{className:"table-body-column",style:{width:"90%"},children:e.title}),(0,G.jsx)("td",{className:"table-body-column",children:(0,G.jsx)("i",{children:(0,G.jsx)("img",{src:e.segmentsUpdated?k.Z:w.Z,alt:""})})})]},e.id)}))})})}),(0,G.jsxs)("div",{style:{marginTop:"10px"},children:[(0,G.jsxs)("div",{className:"form-check",style:{marginRight:"20px",display:"inline-block"},onClick:function(){return Zi("all")},onKeyDown:function(){return Zi("all")},role:"presentation",children:[(0,G.jsx)("input",{className:"".concat(y," form-check-input"),type:"radio",name:"segmentsuccessFilter",id:"flexRadioDefault6",checked:"all"===Cn}),(0,G.jsx)("div",{className:"form-check-label",htmlFor:"flexRadioDefault6",children:"Show all"})]}),(0,G.jsxs)("div",{className:"form-check",style:{marginRight:"20px",display:"inline-block"},onClick:function(){return Zi("updated")},onKeyDown:function(){return Zi("updated")},role:"presentation",children:[(0,G.jsx)("input",{className:"".concat(y," form-check-input"),type:"radio",name:"segmentsuccessFilter",id:"flexRadioDefault4",checked:"updated"===Cn}),(0,G.jsx)("div",{className:"form-check-label",htmlFor:"flexRadioDefault4",children:"Segments Updated"})]}),(0,G.jsxs)("div",{className:"form-check",style:{marginRight:"20px",display:"inline-block"},onClick:function(){return Zi("notfound")},onKeyDown:function(){return Zi("notfound")},role:"presentation",children:[(0,G.jsx)("input",{className:"".concat(y," form-check-input"),type:"radio",name:"segmentsuccessFilter",id:"flexRadioDefault5",checked:"notfound"===Cn}),(0,G.jsx)("div",{className:"form-check-label",htmlFor:"flexRadioDefault5",children:"No Segments Found"})]})]}),(0,G.jsx)("div",{style:{textAlign:"right",paddingTop:"30px"},children:(0,G.jsx)("button",{className:d,onClick:function(){return oa(!1)},style:{marginRight:"0"},type:"button",children:"Close"})})]})}),(0,G.jsx)(o.Z,{size:"md",show:ca,onHide:function(){return da(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:(0,G.jsxs)(o.Z.Body,{style:{padding:"35px"},children:[(0,G.jsxs)("div",{style:{textAlign:"center"},children:["The programme titles already have existing segments."," "]}),(0,G.jsx)("div",{style:{textAlign:"center"},children:"Updating their segments will delete all existing segments of the programme titles."}),(0,G.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:(0,G.jsx)("b",{children:" Are you sure you want to proceed?"})}),(0,G.jsxs)("div",{style:{textAlign:"center",paddingTop:"30px"},children:[(0,G.jsx)("button",{className:f,onClick:function(){return da(!1)},style:{marginLeft:"0"},type:"button",children:"Cancel"}),(0,G.jsx)("button",{className:m,onClick:Ci,type:"button",children:"Proceed"})]})]})}),(0,G.jsx)(Ze.Z,{show:$a,onHide:ni,onSave:yi,onDiscard:ei}),(0,G.jsx)(Ze.Z,{show:Da,onHide:function(){La(!1),Ta(),Ha({})},onSave:function(){yi(),fi()},onDiscard:fi})]})}},2441:function(e,t,n){var a=n(4569),i=n.n(a),r={savePriotisation:function(e){var t="".concat("https://localhost:44357/api/","Title/SavePrioritisation");return i().post(t,e)},getChannels:function(){var e="".concat("https://localhost:44357/api/","Channel/GetChannelLookup");return i().get(e)},getTitles:function(e,t,n,a){var r=null===n?[]:n,o="".concat("https://localhost:44357/api/","Title/GetProgrammeTitlesList").concat(e,"&channelId=").concat(t.channelId,"&month=").concat(t.month,"&year=").concat(t.year,"&fromSearch=").concat(a);return i().post(o,r)},getPriorityList:function(e){var t="".concat("https://localhost:44357/api/","Title/GetPrioritisationList?channelId=").concat(e.channelId,"&month=").concat(e.month,"&year=").concat(e.year);return i().get(t)},getTitleByID:function(e,t){var n="".concat("https://localhost:44357/api/","Title/GetTitleDetails?titleId=").concat(e,"&channelId=").concat(t);return i().get(n)},uploadFile:function(e,t,n,a,r){var o="".concat("https://localhost:44357/api/","Title/ImportExcelFile?channelId=").concat(t,"&year=").concat(n,"&month=").concat(a,"&fileExtension=").concat(r);return i().post(o,e)},getSegments:function(e){var t="".concat("https://localhost:44357/api/","Title/GetSegments/").concat(e);return i().get(t)},exportUploadSample:function(){var e="".concat("https://localhost:44357/api/","Title/ExportTitleUploader");return i().get(e,{responseType:"arraybuffer"})},generateSegments:function(e){var t="".concat("https://localhost:44357/api/","Title/GenerateSegments?ChannelId=").concat(e.channelId,"&Month=").concat(e.month,"&Year=").concat(e.year);return i().get(t)},getPrioritisationSession:function(){var e="".concat("https://localhost:44357/api/","Channel/GetPrioritisationSession");return i().get(e)},savePrioritisationSession:function(e){var t="".concat("https://localhost:44357/api/","Channel/AddPrioritisationSession").concat(e);return i().post(t,e)},getTitleGroupList:function(e,t){var n="".concat("https://localhost:44357/api/","TitleGroup/GetTitlesGroupList").concat(e,"&initial=").concat(t);return i().get(n)},getTitleGroupPrograms:function(e,t,n,a){var r="".concat("https://localhost:44357/api/","Schedule/GetTitleGroupPrograms?searchKey=").concat(e,"&channelId=").concat(t,"&start=").concat(n,"&end=").concat(a);return i().get(r)},saveTitleGroupPriotisation:function(e){var t="".concat("https://localhost:44357/api/","TitleGroup/SaveTitleGroupPrioritisation");return i().post(t,e)}};t.Z=r},1715:function(e,t,n){var a=n(4569),i=n.n(a),r={getUser:function(e){var t="".concat("https://localhost:44357/api/","user/").concat(e);return i().get(t)},updateUser:function(e,t){var n="".concat("https://localhost:44357/api/","user/").concat(e);return i().put(n,t)},changePassword:function(e,t){var n="".concat("https://localhost:44357/api/","user/changepassword/").concat(e);return i().patch(n,t)}};t.Z=r},9627:function(e,t,n){var a=n(885),i=n(2791),r=n(7288),o=n(184);function l(e){var t=e.label,n=e.text,l=e.list,s=e.onSelect,c=e.width,d=e.disabled,u=(0,i.useRef)(),p=(0,i.useState)(!1),m=(0,a.Z)(p,2),f=m[0],h=m[1],g=(0,i.useState)(!1),x=(0,a.Z)(g,2),y=x[0],v=x[1];(0,i.useEffect)((function(){var e=function(e){u.current&&!u.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[u]),(0,i.useEffect)((function(){v(d)}),[d]);var b=function(e){"function"===typeof s&&(s(e),h(!1))};return(0,o.jsxs)("div",{className:r.Z.select,children:[t&&(0,o.jsx)("div",{className:r.Z.label,children:t}),n&&(0,o.jsx)("button",{className:r.Z.selectButton,style:{width:c},title:n,onClick:function(){h(!0)},disabled:y,type:"button",children:(0,o.jsx)("span",{children:n})}),f&&(0,o.jsx)("div",{ref:u,className:r.Z.optionList,style:{width:c},children:l&&l.map((function(e){return(0,o.jsx)("div",{className:r.Z.optionItem,title:e.value,onClick:function(){return b(e)},onKeyDown:function(){return b(e)},role:"presentation",children:e.value},e.id)}))})]})}l.defaultProps={label:"",list:null,width:"70px",disabled:!1},t.Z=l},1908:function(e,t){t.Z={tabList:"Tabs_tabList__LI4lM",tabListItem:"Tabs_tabListItem__6kYs+",tabListActive:"Tabs_tabListActive__HaX2v",tabHeader:"Tabs_tabHeader__htETO",tabContent:"Tabs_tabContent__5440A"}}}]);
//# sourceMappingURL=371.59ee8b31.chunk.js.map