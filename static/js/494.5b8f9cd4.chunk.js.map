{"version":3,"file":"static/js/494.5b8f9cd4.chunk.js","mappings":"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","sources":["assets/icons/Vector.svg","components/prioritisation/PrioritisationService.js","components/profile/ProfileService.js","webpack://sky/./src/components/title-exclusion/TitleExclusion.module.css?d7f5","assets/icons/IndefiniteCalendar.svg","assets/icons/DefinedCalendar.svg","webpack://sky/./src/shared/components/dual-table/styles.module.css?096f","shared/components/dual-table/DualTable.jsx","components/title-exclusion/TitleExclusionService.js","components/title-exclusion/TitleExclusionStorage.js","webpack://sky/./src/components/title-exclusion/modals/Modal.module.css?7439","webpack://sky/./src/components/title-exclusion/filters/title-exlucsion-date-filter/title-exlucsion-date.filter.module.css?0b46","components/_reusable/javascript/date.service.js","components/title-exclusion/filters/title-exlucsion-date-filter/title-exlucsion-date.filter.component.jsx","webpack://sky/./src/components/title-exclusion/checkbox/styles.module.css?ac1d","components/title-exclusion/checkbox/Checkbox.jsx","components/title-exclusion/modals/ShowSetTitleExclusionDateModalComponent.jsx","webpack://sky/./src/shared/components/import-modal/styles.module.css?b8e6","shared/components/import-modal/ImportModal.jsx","webpack://sky/./src/components/title-exclusion/modals/import-title-to-exclude-result-modal/ImportTitleToExcludeResultModal.module.css?3a1e","components/title-exclusion/modals/import-title-to-exclude-result-modal/ImportTitleToExcludeResultModal.jsx","webpack://sky/./src/components/title-exclusion/modals/override-execluded-titles-modal/OverrideExcludedTitlesModal.module.css?52d2","components/title-exclusion/modals/override-execluded-titles-modal/OverrideExcludedTitlesModal.jsx","components/title-exclusion/modals/confirm-export-modal/ConfirmExportModal.jsx","components/title-exclusion/modals/confirm-import-modal/ConfirmImportModal.jsx","components/title-exclusion/TitleExclusionComponent.jsx","webpack://sky/./src/shared/components/custom-date-input/styles.module.css?09fa","shared/components/custom-date-input/CustomDateInput.jsx","webpack://sky/./src/shared/components/custom-date-range/styles.module.css?2cff","shared/components/custom-date-range/CustomDateRangeInput.jsx","webpack://sky/./src/shared/components/confirm-leave-modal/styles.module.css?cd03"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVector(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 24,\n    viewBox: \"0 0 23 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 23.2347C5.28663 23.2347 0.25 18.198 0.25 11.9847C0.25 5.77129 5.28663 0.734665 11.5 0.734665C17.7134 0.734665 22.75 5.77129 22.75 11.9847C22.75 18.198 17.7134 23.2347 11.5 23.2347ZM11.5 20.9847C13.8869 20.9847 16.1761 20.0365 17.864 18.3486C19.5518 16.6608 20.5 14.3716 20.5 11.9847C20.5 9.59772 19.5518 7.30853 17.864 5.6207C16.1761 3.93288 13.8869 2.98466 11.5 2.98466C9.11305 2.98466 6.82387 3.93288 5.13604 5.6207C3.44821 7.30853 2.5 9.59772 2.5 11.9847C2.5 14.3716 3.44821 16.6608 5.13604 18.3486C6.82387 20.0365 9.11305 20.9847 11.5 20.9847V20.9847ZM11.5 10.3939L14.6815 7.21129L16.2734 8.80316L13.0907 11.9847L16.2734 15.1662L14.6815 16.758L11.5 13.5754L8.3185 16.758L6.72662 15.1662L9.90925 11.9847L6.72662 8.80316L8.3185 7.21129L11.5 10.3939Z\",\n    fill: \"#008662\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVector);\nexport default __webpack_public_path__ + \"static/media/Vector.3bad804acc57a5bd5969c1dffefce226.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios';\r\n\r\nconst PrioritisationService = {\r\n  savePriotisation(json) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/SavePrioritisation`;\r\n    return axios.post(url, json);\r\n  },\r\n\r\n  getChannels() {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Channel/GetChannelLookup`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  getTitles(querystring, filter, prioritisedPrograms, fromSearch) {\r\n    // prettier-ignore\r\n    const prioritisedProgramsList = prioritisedPrograms === null ? [] : prioritisedPrograms;\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/GetProgrammeTitlesList${querystring}&channelId=${filter.channelId}&month=${filter.month}&year=${filter.year}&fromSearch=${fromSearch}`;\r\n    // +\r\n    // '&titleIds=' +\r\n    // filter.titleIds\r\n    return axios.post(url, prioritisedProgramsList);\r\n  },\r\n\r\n  getPriorityList(parameters) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/GetPrioritisationList?channelId=${parameters.channelId}&month=${parameters.month}&year=${parameters.year}`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  getTitleByID(id, channelId) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/GetTitleDetails?titleId=${id}&channelId=${channelId}`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  uploadFile(formData, channelId, year, month, fileExtension) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/ImportExcelFile?channelId=${channelId}&year=${year}&month=${month}&fileExtension=${fileExtension}`;\r\n    return axios.post(url, formData);\r\n  },\r\n\r\n  getSegments(id) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/GetSegments/${id}`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  exportUploadSample() {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/ExportTitleUploader`;\r\n    return axios.get(url, { responseType: 'arraybuffer' });\r\n  },\r\n\r\n  generateSegments(parameters) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Title/GenerateSegments?ChannelId=${parameters.channelId}&Month=${parameters.month}&Year=${parameters.year}`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  getPrioritisationSession() {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Channel/GetPrioritisationSession`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  savePrioritisationSession(json) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Channel/AddPrioritisationSession${json}`;\r\n    return axios.post(url, json);\r\n  },\r\n  getTitleGroupList(parameters, initial) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}TitleGroup/GetTitlesGroupList${parameters}&initial=${initial}`;\r\n    return axios.get(url);\r\n  },\r\n  getTitleGroupPrograms(id, channelId, start, end) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}Schedule/GetTitleGroupPrograms?searchKey=${id}&channelId=${channelId}&start=${start}&end=${end}`;\r\n    return axios.get(url);\r\n  },\r\n  saveTitleGroupPriotisation(json) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}TitleGroup/SaveTitleGroupPrioritisation`;\r\n    return axios.post(url, json);\r\n  },\r\n};\r\n\r\nexport default PrioritisationService;\r\n","import axios from 'axios';\r\n\r\nconst ProfileService = {\r\n  getUser(id) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}user/${id}`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  updateUser(userId, json) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}user/${userId}`;\r\n    return axios.put(url, json);\r\n  },\r\n\r\n  changePassword(id, json) {\r\n    const url = `${process.env.REACT_APP_HOST_URL}user/changepassword/${id}`;\r\n    return axios.patch(url, json);\r\n  },\r\n};\r\nexport default ProfileService;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"cancelButton\":\"TitleExclusion_cancelButton__OUb7A\",\"saveModalButton\":\"TitleExclusion_saveModalButton__HRC7+\",\"selectChannel\":\"TitleExclusion_selectChannel__M0Jdg\",\"selectChannelLabel\":\"TitleExclusion_selectChannelLabel__NjhBz\",\"uploadFileIcon\":\"TitleExclusion_uploadFileIcon__z1O8q\",\"downloadFileIcon\":\"TitleExclusion_downloadFileIcon__I4Sd3\",\"disabledDownloadFileIcon\":\"TitleExclusion_disabledDownloadFileIcon__hddp8\",\"disabledUploadFileIcon\":\"TitleExclusion_disabledUploadFileIcon__hVLSk\",\"isExportingDownloadFileIcon\":\"TitleExclusion_isExportingDownloadFileIcon__UyI7E\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIndefiniteCalendar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 2H19C19.2652 2 19.5196 2.10536 19.7071 2.29289C19.8946 2.48043 20 2.73478 20 3V19C20 19.2652 19.8946 19.5196 19.7071 19.7071C19.5196 19.8946 19.2652 20 19 20H1C0.734784 20 0.48043 19.8946 0.292893 19.7071C0.105357 19.5196 0 19.2652 0 19V3C0 2.73478 0.105357 2.48043 0.292893 2.29289C0.48043 2.10536 0.734784 2 1 2H5V0H7V2H13V0H15V2ZM18 10H2V18H18V10ZM13 4H7V6H5V4H2V8H18V4H15V6H13V4ZM4 12H6V14H4V12ZM9 12H11V14H9V12ZM14 12H16V14H14V12Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIndefiniteCalendar);\nexport default __webpack_public_path__ + \"static/media/IndefiniteCalendar.bc91ea29d15eb30645ebf59aae30778d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDefinedCalendar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 0V2H13V0H15V2H19C19.2652 2 19.5196 2.10536 19.7071 2.29289C19.8946 2.48043 20 2.73478 20 3V19C20 19.2652 19.8946 19.5196 19.7071 19.7071C19.5196 19.8946 19.2652 20 19 20H1C0.734784 20 0.48043 19.8946 0.292893 19.7071C0.105357 19.5196 0 19.2652 0 19V3C0 2.73478 0.105357 2.48043 0.292893 2.29289C0.48043 2.10536 0.734784 2 1 2H5V0H7ZM18 9H2V18H18V9ZM13.036 10.136L14.45 11.55L9.5 16.5L5.964 12.964L7.38 11.55L9.501 13.672L13.036 10.136ZM5 4H2V7H18V4H15V5H13V4H7V5H5V4Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDefinedCalendar);\nexport default __webpack_public_path__ + \"static/media/DefinedCalendar.2eeb392ce51f5c82bf6d02dd4e8626a1.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"dualTable\":\"styles_dualTable__kzEmO\",\"tableOne\":\"styles_tableOne__h3R3x\",\"tableTwo\":\"styles_tableTwo__VI9qd\",\"actionButtons\":\"styles_actionButtons__Woqrp\",\"tableLabel\":\"styles_tableLabel__2SW5Z\",\"searchWrapper\":\"styles_searchWrapper__PkONb\",\"search\":\"styles_search__8Ohgj\",\"timesIcon\":\"styles_timesIcon__cJBoY\",\"searchIcon\":\"styles_searchIcon__eKK3n\",\"timesIconWrapper\":\"styles_timesIconWrapper__vLyQI\",\"searchIconWrapper\":\"styles_searchIconWrapper__Tqcnr\",\"noDataComponent\":\"styles_noDataComponent__RwTBB\",\"textWrapper\":\"styles_textWrapper__A47L7\",\"verbiage\":\"styles_verbiage__EgJjg\",\"dragButton\":\"styles_dragButton__gu1fq\"};","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './styles.module.css';\r\nimport {\r\n  angleDownEndLineIcon,\r\n  angleDownIcon,\r\n  angleUpEndLineIcon,\r\n  angleUpIcon,\r\n  arrowLeftIcon,\r\n  arrowRightIcon,\r\n} from '../../assets/index';\r\n\r\nimport Table from '../table/Table';\r\n\r\nfunction DualTable({\r\n  withOrdering,\r\n  tableHeaders = [],\r\n  tableDatas = [],\r\n  tablesHeight = [],\r\n  tableLabels = [],\r\n  noDataVerbiage = [],\r\n  isFetchingDatas = [],\r\n  tableParameters,\r\n  sortParameters,\r\n  paginationParameters,\r\n  onFilter,\r\n  onClearFilters,\r\n  onSearch,\r\n  onSort,\r\n  onPaginate,\r\n  onAddSelected,\r\n  onRemoveAll,\r\n  onRemoveSelected,\r\n  onChangeTableTwoData,\r\n  onAction,\r\n  shouldScrollToView,\r\n  setShouldScrollToView,\r\n  onShowSetDateModal,\r\n  shouldClearSelected,\r\n}) {\r\n  const [tableOneClearSelected, setTableOneClearSelected] = useState(false);\r\n  const [tableTwoClearSelected, setTableTwoClearSelected] = useState(false);\r\n  const [tableOneItems, setTableOneItems] = useState([]);\r\n  const [allTableTwoItems, setAllTableTwoItems] = useState([]);\r\n  const [tableTwoItems, setTableTwoItems] = useState([]);\r\n  const [toAddItems, setToAddItems] = useState([]);\r\n  const [toRemoveItems, setToRemoveItems] = useState([]);\r\n  const [searchKey, setSearchKey] = useState('');\r\n  const [searchKeyHistory, setSearchKeyHistory] = useState('');\r\n  const [hasSearched, setHasSearched] = useState(false);\r\n  const searchRef = useRef();\r\n  const [shouldScroll, setShouldScroll] = useState(false);\r\n  const [isInitialRender, setIsInitialRender] = useState(true);\r\n  const [tableTwoSortParameters, setTableTwoSortParameters] = useState({\r\n    order: 1,\r\n    sort: 1,\r\n  });\r\n  const [\r\n    tableTwoPaginationParameters,\r\n    setTableTwoPaginationParameters,\r\n  ] = useState({ pageSize: 50, currentPage: 1 });\r\n  \r\n  const [excludedParamters, setExcludedParamters] = useState({\r\n    page: 1,\r\n    size: 50,\r\n  });\r\n\r\n  const handleTableOneMultiSelect = (items) => {\r\n    setToAddItems(items);\r\n  };\r\n\r\n  const handleTableTwoMultiSelect = (items) => {\r\n    setToRemoveItems(items);\r\n  };\r\n\r\n  const handleOnAddSelected = () => {\r\n    onAddSelected(toAddItems, !withOrdering && tableTwoSortParameters.order);\r\n    if (shouldClearSelected === undefined) {\r\n      setTableOneClearSelected(true);\r\n      setToAddItems([]);\r\n    }\r\n  };\r\n\r\n  const handleShowModal = () => {\r\n    handleOnAddSelected();\r\n    onShowSetDateModal();\r\n  }\r\n\r\n  const handleRemoveAll = () => {\r\n    onRemoveAll();\r\n    setToRemoveItems([]);\r\n    setTableTwoClearSelected(true);\r\n  };\r\n\r\n  const handleRemoveSelected = () => {\r\n    onRemoveSelected(toRemoveItems);\r\n    setToRemoveItems([]);\r\n    setTableTwoClearSelected(true);\r\n  };\r\n\r\n  const onChangeSetSearchKey = (e) => {\r\n    setSearchKey(e.target.value);\r\n  };\r\n\r\n  const handleOnSearch = () => {\r\n    onSearch(searchKey);\r\n    setSearchKeyHistory(searchKey);\r\n    setHasSearched(true);\r\n  };\r\n\r\n  const onKeyDownTriggerSearch = (e) => {\r\n    if (e.key === 'Enter') handleOnSearch();\r\n  };\r\n\r\n  const handleOnClearSearch = () => {\r\n    onSearch('');\r\n    setSearchKey('');\r\n    setSearchKeyHistory('');\r\n    setHasSearched(false);\r\n  };\r\n\r\n  const renderNoDataComponent = (message, tableHeight) => {\r\n    const component = (\r\n      <div\r\n        className={styles.noDataComponent}\r\n        style={{ height: `calc(100vh + 120px - ${tableHeight})` }}\r\n      >\r\n        <div className={styles.textWrapper}>\r\n          <p className={styles.verbiage}>{message}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return component;\r\n  };\r\n\r\n  // Table two data sorting, pagination and ordering\r\n  const sortTableTwoData = (sortOrder) => {\r\n    let tableTwoData = JSON.parse(JSON.stringify(allTableTwoItems));\r\n    if (sortOrder === 1) {\r\n      tableTwoData = tableTwoData.sort((a, b) => {\r\n        if (a.titleName.toLowerCase() > b.titleName.toLowerCase()) return 1;\r\n        return -1;\r\n      });\r\n    } else {\r\n      tableTwoData = tableTwoData.sort((a, b) => {\r\n        if (a.titleName.toLowerCase() > b.titleName.toLowerCase()) return -1;\r\n        return 1;\r\n      });\r\n    }\r\n\r\n    setAllTableTwoItems(tableTwoData);\r\n  };\r\n\r\n  const handleOnSortTableTwo = ({ sortOrder, sortBy }) => {\r\n    setTableTwoSortParameters({ order: sortOrder, sort: sortBy });\r\n    sortTableTwoData(sortOrder);\r\n  };\r\n\r\n  const getFromIndex = () => {\r\n    const item = toRemoveItems[0];\r\n    const fromIndex = allTableTwoItems.findIndex((o) => (\r\n      o[Object.keys(o)[0]] === item[Object.keys(item)[0]]\r\n    ));\r\n\r\n    return fromIndex;\r\n  };\r\n\r\n  const moveItemFromArray = (toIndex) => {\r\n    const fromIndex = getFromIndex();\r\n    const item = allTableTwoItems[fromIndex];\r\n    const newAllTableTwoItems = [...allTableTwoItems];\r\n    newAllTableTwoItems.splice(fromIndex, 1);\r\n    newAllTableTwoItems.splice(toIndex, 0, item);\r\n\r\n    return newAllTableTwoItems;\r\n  };\r\n\r\n  const findPageAfterDragging = (direction) => {\r\n    let itemIndex = 0;\r\n    switch (direction) {\r\n      case 'first':\r\n        itemIndex = 0;\r\n        break;\r\n      case 'up':\r\n        itemIndex = getFromIndex() - 1;\r\n        break;\r\n      case 'down':\r\n        itemIndex = getFromIndex() + 1;\r\n        break;\r\n      case 'last':\r\n        itemIndex = allTableTwoItems.length - 1;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    const pageSize = !tableTwoPaginationParameters.size\r\n      ? 50\r\n      : tableTwoPaginationParameters.size;\r\n    // eslint-disable-next-line\r\n    return Math.ceil(++itemIndex / pageSize);\r\n  };\r\n\r\n  const orderTableTwoData = (list, direction) => {\r\n    setAllTableTwoItems(list);\r\n    const pageNumberAfterDragging = findPageAfterDragging(direction);\r\n    const pageNumber = pageNumberAfterDragging;\r\n    const { pageSize } = tableTwoPaginationParameters;\r\n    const toSkip = pageNumber === 1 ? 0 : (pageNumber - 1) * pageSize;\r\n    const toTake = list.slice(toSkip, toSkip + pageSize);\r\n    setTableTwoItems(toTake);\r\n    setTableTwoPaginationParameters({\r\n      pageSize,\r\n      totalCount: toTake.length,\r\n      currentPage: pageNumber,\r\n      totalPages: Math.ceil(list.length / pageSize),\r\n    });\r\n  };\r\n\r\n  const setScrollTo = () => {\r\n    setTimeout(() => {\r\n      setShouldScrollToView(true);\r\n    }, 100);\r\n  };\r\n\r\n  const dragToTop = () => {\r\n    const newAllTableTwoItems = moveItemFromArray(0);\r\n    orderTableTwoData(newAllTableTwoItems, 'first');\r\n    setScrollTo();\r\n  };\r\n\r\n  const dragUp = () => {\r\n    if (getFromIndex() - 1 >= 0) {\r\n      const newAllTableTwoItems = moveItemFromArray(getFromIndex() - 1);\r\n      orderTableTwoData(newAllTableTwoItems, 'up');\r\n      setScrollTo();\r\n    }\r\n  };\r\n\r\n  const dragDown = () => {\r\n    const newAllTableTwoItems = moveItemFromArray(getFromIndex() + 1);\r\n    orderTableTwoData(newAllTableTwoItems, 'down');\r\n    setScrollTo();\r\n  };\r\n\r\n  const dragToBottom = () => {\r\n    const newAllTableTwoItems = moveItemFromArray(allTableTwoItems.length);\r\n    orderTableTwoData(newAllTableTwoItems, 'last');\r\n    setScrollTo();\r\n  };\r\n\r\n  const onPaginateTableTwoData = (pageNumber, size) => {\r\n    setToRemoveItems([]);\r\n    setTableTwoClearSelected(true);\r\n    let page = pageNumber;\r\n    let toSkip = page === 1 ? 0 : (page - 1) * size;\r\n    let allTableTwoList = JSON.parse(JSON.stringify(allTableTwoItems));\r\n\r\n    if (tableTwoSortParameters.order === 1) {\r\n      allTableTwoList = allTableTwoList.sort((a, b) => {\r\n        if (a.titleName.toLowerCase() > b.titleName.toLowerCase()) return 1;\r\n        return -1;\r\n      });\r\n    } else {\r\n      allTableTwoList = allTableTwoList.sort((a, b) => {\r\n        if (a.titleName.toLowerCase() > b.titleName.toLowerCase()) return -1;\r\n        return 1;\r\n      });\r\n    }\r\n\r\n    while (toSkip >= allTableTwoList.length) {\r\n      page -= 1;\r\n      toSkip = page === 1 ? 0 : (page - 1) * size;\r\n    }\r\n\r\n    const tableTwoPaginatedList = allTableTwoList.slice(toSkip, toSkip + size);\r\n    setTableTwoItems(tableTwoPaginatedList);\r\n    setTableTwoPaginationParameters({\r\n      totalCount: allTableTwoList.length,\r\n      pageSize: size,\r\n      currentPage: pageNumber === 0 ? 1 : pageNumber,\r\n      totalPages: Math.ceil(allTableTwoList.length / size),\r\n    });\r\n  };\r\n\r\n  const orderButtons = [\r\n    { id: 1, icon: angleUpEndLineIcon, action: dragToTop },\r\n    { id: 2, icon: angleUpIcon, action: dragUp },\r\n    { id: 3, icon: angleDownIcon, action: dragDown },\r\n    { id: 4, icon: angleDownEndLineIcon, action: dragToBottom },\r\n  ];\r\n\r\n  const addHasOrderingToItem = () => {\r\n    const selectedItem = toRemoveItems[0];\r\n    const allItems = allTableTwoItems;\r\n    const selectedItemIndex = allTableTwoItems.findIndex((o) => (\r\n      o[Object.keys(o)[0]] === selectedItem[Object.keys(selectedItem)[0]]\r\n    ));\r\n    allItems[selectedItemIndex].scrollTo = true;\r\n\r\n    setAllTableTwoItems(allItems);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\r\n      tableTwoPaginationParameters.currentPage >\r\n      tableTwoPaginationParameters.totalPages\r\n    ) {\r\n      setTableTwoPaginationParameters((prevState) => ({\r\n        ...prevState,\r\n        currentPage: tableTwoPaginationParameters.totalPages,\r\n      }));\r\n      setTableTwoPaginationParameters((prevState) => ({\r\n        ...prevState,\r\n        page: tableTwoPaginationParameters.totalPages,\r\n      }));\r\n\r\n      const { size } = excludedParamters;\r\n      const toSkip =\r\n      tableTwoPaginationParameters.totalPages === 1\r\n          ? 0\r\n          : (tableTwoPaginationParameters.totalPages - 1) * size;\r\n      const selectedItems = tableTwoItems.slice(toSkip, toSkip + size);\r\n      setTableTwoItems(selectedItems);\r\n    }\r\n  }, [tableTwoPaginationParameters])\r\n\r\n  useEffect(() => {\r\n    if (toRemoveItems.length === 1) addHasOrderingToItem();\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [toRemoveItems]);\r\n\r\n  useEffect(() => {\r\n    if (tableDatas[0]) setTableOneItems(tableDatas[0]);\r\n    if (tableDatas[1]) setAllTableTwoItems(tableDatas[1]);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [tableDatas]);\r\n\r\n  useEffect(() => {\r\n    if (allTableTwoItems && allTableTwoItems.length > 0) {\r\n      onPaginateTableTwoData(\r\n        tableTwoPaginationParameters.currentPage,\r\n        tableTwoPaginationParameters.pageSize,\r\n      );\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [allTableTwoItems]);\r\n\r\n  useEffect(() => {\r\n    const sortedAllTableTwoItems = allTableTwoItems.sort((a, b) => {\r\n      const aValue = a[Object.keys(a)[0]];\r\n      const bValue = b[Object.keys(b)[0]];\r\n      return aValue - bValue;\r\n    });\r\n\r\n    const sortedTableDataTwo = tableDatas[1].sort((a, b) => {\r\n      const aValue = a[Object.keys(a)[0]];\r\n      const bValue = b[Object.keys(b)[0]];\r\n      return aValue - bValue;\r\n    });\r\n\r\n    const isEqual = JSON.stringify(sortedAllTableTwoItems) === JSON.stringify(sortedTableDataTwo);\r\n    if (!isEqual) onChangeTableTwoData(allTableTwoItems);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [allTableTwoItems]);\r\n\r\n  useEffect(() => {\r\n    if (shouldClearSelected) setTableOneClearSelected(true);\r\n  }, [shouldClearSelected]);\r\n\r\n  useEffect(() => {\r\n    const backdropClicked = (e) => {\r\n      if (searchRef.current && !searchRef.current.contains(e.target)) {\r\n        setSearchKey(searchKeyHistory);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', backdropClicked);\r\n    return () => document.removeEventListener('mousedown', backdropClicked);\r\n  });\r\n\r\n  return (\r\n    <div className={styles.dualTable}>\r\n      <div className={styles.tableOne}>\r\n        <div className={styles.tableLabel}>{tableLabels[0]}</div>\r\n\r\n        {!noDataVerbiage[0].show ? (\r\n          <Table\r\n            headers={tableHeaders[0]}\r\n            list={tableOneItems}\r\n            noDataVerbiage={noDataVerbiage[0].message}\r\n            isFetchingData={isFetchingDatas[0]}\r\n            queryParameters={tableParameters}\r\n            sortParameters={sortParameters}\r\n            paginationParameters={paginationParameters}\r\n            onFilter={onFilter}\r\n            onClearFilters={onClearFilters}\r\n            onSearch={onSearch}\r\n            onSort={onSort}\r\n            onPaginate={onPaginate}\r\n            onAction={onAction}\r\n            shouldScrollToView={shouldScrollToView[0]}\r\n            setShouldScrollToView={setShouldScrollToView[0]}\r\n            clearSelected={tableOneClearSelected}\r\n            setClearSelected={setTableOneClearSelected}\r\n            onMultiSelect={handleTableOneMultiSelect}\r\n            tableHeight={tablesHeight[0]}\r\n          />\r\n        ) : (\r\n          renderNoDataComponent(noDataVerbiage[0].message, tablesHeight[0])\r\n        )}\r\n      </div>\r\n\r\n      <div className={styles.actionButtons}>\r\n        <button\r\n          //onClick={handleOnAddSelected}\r\n          onClick={handleShowModal}\r\n          disabled={toAddItems.length === 0}\r\n          type=\"button\"\r\n        >\r\n          Add Selected\r\n          <img style={{ marginTop: '11px' }} src={arrowRightIcon} alt=\"\" />\r\n        </button>\r\n        <button\r\n          onClick={handleRemoveAll}\r\n          style={{ paddingTop: '9px' }}\r\n          disabled={allTableTwoItems.length === 0}\r\n          type=\"button\"\r\n        >\r\n          <img style={{ marginTop: '2px' }} src={arrowLeftIcon} alt=\"\" />\r\n          <span style={{ marginLeft: '5px' }}>Remove All</span>\r\n        </button>\r\n        <button\r\n          onClick={handleRemoveSelected}\r\n          disabled={toRemoveItems.length === 0}\r\n          type=\"button\"\r\n        >\r\n          <img style={{ marginTop: '11px' }} src={arrowLeftIcon} alt=\"\" />\r\n          Remove Selected\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.tableTwo}>\r\n        <div className={styles.tableLabel}>{tableLabels[1]}</div>\r\n\r\n        <div style={{ display: 'flex', width: '100%' }}>\r\n          {!noDataVerbiage[1].show ? (\r\n            <Table\r\n              headers={tableHeaders[1]}\r\n              list={tableTwoItems}\r\n              noDataVerbiage={noDataVerbiage[0].message}\r\n              isFetchingData={isFetchingDatas[1]}\r\n              sortParameters={!withOrdering && tableTwoSortParameters}\r\n              paginationParameters={tableTwoPaginationParameters}\r\n              onAction={onAction}\r\n              clearSelected={tableTwoClearSelected}\r\n              shouldScrollToView={shouldScroll || shouldScrollToView[1]}\r\n              setShouldScrollToView={() => {\r\n                setShouldScrollToView[1]();\r\n                setShouldScroll();\r\n              }}\r\n              onMultiSelect={handleTableTwoMultiSelect}\r\n              setClearSelected={setTableTwoClearSelected}\r\n              onSort={!withOrdering && handleOnSortTableTwo}\r\n              onPaginate={onPaginateTableTwoData}\r\n              tableHeight={tablesHeight[1]}\r\n            />\r\n          ) : (\r\n            renderNoDataComponent(noDataVerbiage[1].message, tablesHeight[1])\r\n          )}\r\n\r\n          {withOrdering && (\r\n            <div className={styles.orderingButtons}>\r\n              {orderButtons.map((button) => (\r\n                <button\r\n                  key={button.id}\r\n                  className={styles.dragButton}\r\n                  onClick={button.action}\r\n                  disabled={\r\n                    allTableTwoItems.length === 0\r\n                    || toRemoveItems.length === 0\r\n                    || toRemoveItems.length > 1\r\n                  }\r\n                >\r\n                  <img src={button.icon} alt=\"\" />\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\nDualTable.propTypes = {\r\n  withOrdering: PropTypes.bool,\r\n  tableHeaders: PropTypes.arrayOf(PropTypes.string),\r\n  tableDatas: PropTypes.arrayOf(PropTypes.shape),\r\n  tableLabels: PropTypes.arrayOf(PropTypes.string),\r\n  noDataVerbiage: PropTypes.arrayOf(PropTypes.string),\r\n  tablesHeight: PropTypes.arrayOf(PropTypes.string),\r\n  isFetchingDatas: PropTypes.bool,\r\n  tableParameters: PropTypes.shape,\r\n  sortParameters: PropTypes.shape,\r\n  paginationParameters: PropTypes.shape,\r\n  onFilter: PropTypes.func,\r\n  onClearFilters: PropTypes.func,\r\n  onSearch: PropTypes.func,\r\n  onSort: PropTypes.func,\r\n  onPaginate: PropTypes.func,\r\n  onAddSelected: PropTypes.func,\r\n  onRemoveAll: PropTypes.func,\r\n  onRemoveSelected: PropTypes.func,\r\n  onChangeTableTwoData: PropTypes.func,\r\n  onAction: PropTypes.func,\r\n  shouldScrollToView: PropTypes.bool,\r\n  setShouldScrollToView: PropTypes.func,\r\n};\r\nDualTable.defaultProps = {\r\n  withOrdering: false,\r\n  tableHeaders: [],\r\n  tableDatas: [],\r\n  noDataVerbiage: ['', ''],\r\n  tableLabels: ['', ''],\r\n  tablesHeight: [],\r\n  isFetchingDatas: [true, true],\r\n  tableParameters: null,\r\n  sortParameters: null,\r\n  paginationParameters: null,\r\n  onFilter: null,\r\n  onClearFilters: null,\r\n  onSearch: null,\r\n  onSort: null,\r\n  onPaginate: null,\r\n  onAddSelected: null,\r\n  onRemoveAll: null,\r\n  onRemoveSelected: null,\r\n  onChangeTableTwoData: undefined,\r\n  onAction: undefined,\r\n  shouldScrollToView: false,\r\n  setShouldScrollToView: null,\r\n};\r\nexport default DualTable;\r\n","import axios from 'axios';\r\n\r\nconst hostUrl = process.env.REACT_APP_HOST_URL;\r\n\r\nconst TitleExclusionService = {\r\n  getProgrammeTitles(parameters) {\r\n    const url = `${hostUrl}titleExclusion/getTitleExclusionProgrammeTitles${parameters}`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  getProgrammeTitleDetails(titleId) {\r\n    const url = `${hostUrl}titleExclusion/getTitleExclusionTitleDetails?titleId=${titleId}`;\r\n    return axios.get(url);\r\n  },\r\n\r\n  getExcludedTitles(parameters) {\r\n    const url = `${hostUrl}titleExclusion/getTitleExclusions` + parameters;\r\n    return axios.get(url);\r\n  },\r\n\r\n  getEffectivityDates(titleId) {\r\n    const url = `${hostUrl}titleExclusion/getTitleEffectivityDatesCommand/${titleId}`;\r\n    return axios.get(url)\r\n  },\r\n\r\n  saveTitleExclusions(titleIds) {\r\n    const url = `${hostUrl}titleExclusion/saveTitleExclusions`;\r\n    return axios.post(url, titleIds);\r\n  },\r\n\r\n  getTitleExclusionSession() {\r\n    const url = `${hostUrl}titleExclusion/getTitleExclusionSession`;\r\n    return axios.get(url)\r\n  },\r\n\r\n  saveTitleExclusionSession(json) {\r\n    const url = `${hostUrl}titleExclusion/saveTitleExclusionSession`;\r\n    return axios.post(url, json);\r\n  },\r\n\r\n  exportSampleTitleExclusionExcelTemplate() {\r\n    const url = `${hostUrl}titleExclusion/exportSampleTitleExclusionExcelTemplate`;\r\n    return axios.get(url, { responseType: 'arraybuffer' });\r\n  },\r\n\r\n  importTitlesToExclude(formData, fileExtension, channelId, isOverride) {\r\n    const url = `${hostUrl}titleExclusion/importTitlesToExclude?fileExtension=${fileExtension}&channelId=${channelId}&isOverride=${isOverride}`;\r\n    return axios.post(url, formData);\r\n  },\r\n\r\n  exportExcludedTitles(channelId) {\r\n    const url = `${hostUrl}titleExclusion/exportExcludedTitles/${channelId}`;\r\n    return axios.get(url, { responseType: 'arraybuffer' });\r\n  },\r\n};\r\n\r\nexport default TitleExclusionService;\r\n","class TitleExclusionStorage {\r\n  tableOneHeaders = [\r\n    {\r\n      headerId: 1,\r\n      headerName: 'Title Name',\r\n      filter: {\r\n        type: 1,\r\n        queryNames: ['titleNameFilter', 'titleNameFilterValue'],\r\n      },\r\n      sortable: true,\r\n    },\r\n    {\r\n      headerId: 2,\r\n      headerName: 'Genre',\r\n      filter: {\r\n        type: 1,\r\n        queryNames: ['genreFilter', 'genreFilterValue'],\r\n      },\r\n      sortable: true,\r\n    },\r\n    {\r\n      headerId: 3,\r\n      headerName: 'Duration',\r\n      sortable : true,\r\n    },\r\n    {\r\n      headerId: 4,\r\n      headerName: 'Grades',\r\n      filter: {\r\n        type: 1,\r\n        queryNames: ['gradeFilter', 'gradeFilterValue'],\r\n      },\r\n      sortable: true,\r\n    },\r\n    {\r\n      headerId: 5,\r\n      headerName: 'Certificate',\r\n      filter: {\r\n        type: 1,\r\n        queryNames: ['certificateFilter', 'certificateFilterValue'],\r\n      },\r\n      sortable: true,\r\n    },\r\n    {\r\n      headerId: 6,\r\n      headerName: 'Year',\r\n      filter: {\r\n        type: 1,\r\n        queryNames: ['yearFilter', 'yearFilterValue'],\r\n      },\r\n      sortable: true,\r\n    },\r\n    {\r\n      headerId: 7,\r\n      headerName: '',\r\n    },\r\n  ];\r\n\r\n  tableOneImportHeaders = [\r\n    {\r\n      headerId: 1,\r\n      headerName: 'Title Name',\r\n      filter: {\r\n        type: 1,\r\n        queryNames: ['titleNameFilter', 'titleNameFilterValue'],\r\n      },\r\n      sortable: true,\r\n    },\r\n    {\r\n      headerId: 3,\r\n      headerName: 'Duration',\r\n      sortable : true,\r\n    },\r\n    {\r\n      headerId: 7,\r\n      headerName: 'Segments',\r\n    },\r\n  ];\r\n\r\n  tableTwoHeaders = [\r\n    {\r\n      headerId: 1,\r\n      headerName: 'Title Name',\r\n      sortable: true,\r\n    },\r\n    {\r\n      headerId: 2,\r\n      headerName: '',\r\n    },\r\n  ];\r\n}\r\n\r\nconst titleExclusionStorage = new TitleExclusionStorage();\r\nexport default titleExclusionStorage;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"buttons\":\"Modal_buttons__IbfAw\",\"dateRangeSection\":\"Modal_dateRangeSection__zzspt\",\"buttonDiv\":\"Modal_buttonDiv__KdAXN\",\"p\":\"Modal_p__1zJBL\",\"formInput\":\"Modal_formInput__vEqs4\",\"overlappingVerbiageText\":\"Modal_overlappingVerbiageText__91vQp\",\"redBorder\":\"Modal_redBorder__NCG5W\",\"errorText\":\"Modal_errorText__lznQB\",\"dialogBody\":\"Modal_dialogBody__wOil3\",\"titleDialog\":\"Modal_titleDialog__TB7qO\",\"description\":\"Modal_description__ry9r2\",\"titleScope\":\"Modal_titleScope__WBNIi\",\"titleListColumn1\":\"Modal_titleListColumn1__DDQPG\",\"titleListColumn2\":\"Modal_titleListColumn2__VgFy8\",\"title\":\"Modal_title__1ZMsT\",\"effectivityDatesDiv\":\"Modal_effectivityDatesDiv__b3roF\",\"iconDiv\":\"Modal_iconDiv__J+nJ1\",\"trashIcon\":\"Modal_trashIcon__55Jwo\",\"addIcon\":\"Modal_addIcon__qp9oy\",\"checkButton\":\"Modal_checkButton__1zNcd\"};","// extracted by mini-css-extract-plugin\nexport default {\"options\":\"title-exlucsion-date_filter_options__bEiTQ\",\"optionItem\":\"title-exlucsion-date_filter_optionItem__boUH6\",\"activeItem\":\"title-exlucsion-date_filter_activeItem__Jqhmd\",\"dateSection\":\"title-exlucsion-date_filter_dateSection__Ep8G-\",\"startSection\":\"title-exlucsion-date_filter_startSection__fuge6\",\"endSection\":\"title-exlucsion-date_filter_endSection__AADah\",\"divider\":\"title-exlucsion-date_filter_divider__Hj9sB\",\"dateRangeDiv\":\"title-exlucsion-date_filter_dateRangeDiv__SEBGF\",\"dateRangeString\":\"title-exlucsion-date_filter_dateRangeString__tLxev\",\"totalDays\":\"title-exlucsion-date_filter_totalDays__nBzm+\",\"arrowLeftIcon\":\"title-exlucsion-date_filter_arrowLeftIcon__wwn71\",\"clearFilterButton\":\"title-exlucsion-date_filter_clearFilterButton__UyGo9\",\"applyFilterButton\":\"title-exlucsion-date_filter_applyFilterButton__nWkog\"};","const moment = require('moment');\r\n\r\nconst DateService = {\r\n  toLocalFormat(isoDate) {\r\n    const result = moment(isoDate)\r\n      .local()\r\n      .format('DD/MM/YYYY HH:mm');\r\n    return result;\r\n  },\r\n\r\n  toFilterByLastSeen(isoDate) {\r\n    const localTime = moment.utc(isoDate).toDate();\r\n    const result = moment(localTime).format('MM/DD/YYYY');\r\n    return result;\r\n  },\r\n\r\n  toLocalDMYFormat(isoDate) {\r\n    const localTime = moment.utc(isoDate).toDate();\r\n    const result = moment(localTime).format('DD/MM/YYYY');\r\n    return result;\r\n  },\r\n\r\n  toLocalDateOnlyFormat(date) {\r\n    const result = new Date(date.toDateString());\r\n    return result;\r\n  },\r\n\r\n  toIsoFormat(stringDate) {\r\n    const date = moment(stringDate)\r\n      .utc()\r\n      .format('YYYY-MM-DD HH:mm:ss');\r\n    return date;\r\n  },\r\n\r\n  toIsoWithoutFormat(stringDate) {\r\n    const date = moment(stringDate)\r\n      .utc();\r\n    return date;\r\n  },\r\n\r\n  toIsoFormatDateOnly(stringDate) {\r\n    const [day, month, year] = stringDate.split('/');\r\n    const date = new Date(+year, month - 1, +day);\r\n    return moment(date)\r\n      .utc()\r\n      .format('YYYY-MM-DD HH:mm:ss');\r\n  },\r\n\r\n  isValidDate(date) {\r\n    moment(date, 'DD/MM/YYYY HH:mm', true).isValid();\r\n  },\r\n\r\n  toExportFormat(date) {\r\n    const result = moment(date).format('DDMMYYYY');\r\n    return result;\r\n  },\r\n};\r\n\r\nexport default DateService;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Calendar from 'react-calendar';\r\n\r\nimport styles from './title-exlucsion-date.filter.module.css';\r\nimport './react-calendar.css';\r\nimport arrowLeft from '../../../../assets/icons/Arrow-Left.png';\r\nimport DateService from '../../../_reusable/javascript/date.service';\r\n\r\nconst { forwardRef, useImperativeHandle } = React;\r\nconst DateFilterComponent = forwardRef((props, ref) => {\r\n  const monthNames = [\r\n    'Jan',\r\n    'Feb',\r\n    'Mar',\r\n    'Apr',\r\n    'May',\r\n    'Jun',\r\n    'Jul',\r\n    'Aug',\r\n    'Sept',\r\n    'Oct',\r\n    'Nov',\r\n    'Dec',\r\n  ];\r\n  const options = [\r\n    {\r\n      optionId: 1,\r\n      optionName: '1 Month',\r\n    },\r\n    {\r\n      optionId: 2,\r\n      optionName: '2 Months',\r\n    },\r\n    {\r\n      optionId: 3,\r\n      optionName: '3 Months',\r\n    },\r\n    {\r\n      optionId: 4,\r\n      optionName: 'Custom',\r\n    },\r\n  ];\r\n  const dateTodayString = `${\r\n    monthNames[new Date().getMonth()]\r\n  } ${new Date().getDate()}, ${new Date().getFullYear()}`;\r\n  const [id, setId] = useState(4);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [startDateString, setStartDateString] = useState(dateTodayString);\r\n  const [endDate, setEndDate] = useState(new Date());\r\n  const [endDateString, setEndDateString] = useState(dateTodayString);\r\n  const [filterId, setFilterId] = useState(4);\r\n  const [totalDays, setTotalDays] = useState();\r\n  const dateFilterRef = useRef();\r\n  const [startDateData, setStartDateData] = useState();\r\n  const [endDateData, setEndDateData] = useState();\r\n\r\n  const backdropClicked = (e) => {\r\n    if (!dateFilterRef.current.contains(e.target)) {\r\n      props.backDropClick(false);\r\n    }\r\n  };\r\n\r\n  const calculateTotalDaysRange = (start, end) => {\r\n    const miliSecondsPerDay = 86400000;\r\n    const timeDifference = end.getTime() - start.getTime();\r\n    const totalDaysComputed = Math.round(timeDifference / miliSecondsPerDay);\r\n    setTotalDays(totalDaysComputed);\r\n  };\r\n\r\n  const selectDayRange = (dayID) => {\r\n    setId(4);\r\n    setStartDateData();\r\n    setEndDateData();\r\n\r\n    switch (4) {\r\n      case 1: {\r\n        const oneMonthAgo = new Date();\r\n        oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\r\n        setStartDate(oneMonthAgo);\r\n        calculateTotalDaysRange(oneMonthAgo, new Date());\r\n        setStartDateString(\r\n          `${\r\n            monthNames[oneMonthAgo.getMonth()]\r\n          } ${oneMonthAgo.getDate()}, ${oneMonthAgo.getFullYear()}`\r\n        );\r\n        setFilterId(1);\r\n        break;\r\n      }\r\n      case 2: {\r\n        const twoMonthsAgo = new Date();\r\n        twoMonthsAgo.setMonth(twoMonthsAgo.getMonth() - 2);\r\n        setStartDate(twoMonthsAgo);\r\n        calculateTotalDaysRange(twoMonthsAgo, new Date());\r\n        setStartDateString(\r\n          `${\r\n            monthNames[twoMonthsAgo.getMonth()]\r\n          } ${twoMonthsAgo.getDate()}, ${twoMonthsAgo.getFullYear()}`\r\n        );\r\n        setFilterId(2);\r\n        break;\r\n      }\r\n      case 3: {\r\n        const threeMonthsAgo = new Date();\r\n        threeMonthsAgo.setMonth(threeMonthsAgo.getMonth() - 3);\r\n        setStartDate(threeMonthsAgo);\r\n        calculateTotalDaysRange(threeMonthsAgo, new Date());\r\n        setStartDateString(\r\n          `${\r\n            monthNames[threeDaysAgo.getMonth()]\r\n          } ${threeMonthsAgo.getDate()}, ${threeMonthsAgo.getFullYear()}`\r\n        );\r\n        setFilterId(3);\r\n        break;\r\n      }\r\n      default: {\r\n        setStartDate(new Date());\r\n        setStartDateData(new Date());\r\n        calculateTotalDaysRange(new Date(), new Date());\r\n        setStartDateString(\r\n          `${\r\n            monthNames[new Date().getMonth()]\r\n          } ${new Date().getDate()}, ${new Date().getFullYear()}`\r\n        );\r\n        setFilterId(4);\r\n        break;\r\n      }\r\n    }\r\n    setEndDateString(\r\n      `${\r\n        monthNames[new Date().getMonth()]\r\n      } ${new Date().getDate()}, ${new Date().getFullYear()}`\r\n    );\r\n    setEndDate(new Date());\r\n    setEndDateData(new Date());\r\n  };\r\n\r\n  const selectStartDate = (day) => {\r\n    props.onSelectDateStart(DateService.toFilterByLastSeen(day))\r\n    setStartDate(day);\r\n    setStartDateData(day);\r\n    setStartDateString(\r\n      `${monthNames[day.getMonth()]} ${day.getDate()}, ${day.getFullYear()}`\r\n    );\r\n    calculateTotalDaysRange(day, endDate);\r\n  };\r\n\r\n  const selectEndDate = (day) => {\r\n    props.onSelectDateEnd(DateService.toFilterByLastSeen(day))\r\n    setEndDate(day);\r\n    setEndDateData(day);\r\n    setEndDateString(\r\n      `${monthNames[day.getMonth()]} ${day.getDate()}, ${day.getFullYear()}`\r\n    );\r\n    calculateTotalDaysRange(startDate, day);\r\n  };\r\n\r\n  const changeToDefaultForm = () => {\r\n    setStartDate(new Date());\r\n    setEndDate(new Date());\r\n    selectDayRange(1);\r\n    setStartDateData();\r\n    setEndDateData();\r\n  };\r\n\r\n  const setTemporaryFilterModel = (action) => {\r\n    const model = JSON.parse(JSON.stringify(props.filterModel));\r\n\r\n    if (action === 'Filter') {\r\n      const startData = startDateData;\r\n      const endData = endDateData;\r\n      if (startData != null) startData.setDate(startData.getDate() + 1);\r\n      if (endData != null) endData.setDate(endData.getDate() + 1);\r\n\r\n      const start = startData != null ? startData : startDate;\r\n      const end = endData != null ? endData : endDate;\r\n\r\n      if (props.component === 'Period') {\r\n        model.periodFilter = filterId;\r\n        model.periodFilterStartRange = start;\r\n        model.periodFilterEndRange = end;\r\n        model.useCache = true;\r\n      }\r\n    } else if (props.component === 'Period') {\r\n      model.periodFilter = undefined;\r\n      model.periodFilterStartRange = undefined;\r\n      model.periodFilterEndRange = undefined;\r\n      model.useCache = true;\r\n    }\r\n    return model;\r\n  };\r\n\r\n  const onClickedButtonClearFilter = () => {\r\n    changeToDefaultForm();\r\n    props.onClickedButtonFilter(setTemporaryFilterModel('Clear'));\r\n    props.toggleDropdown(null);\r\n  };\r\n\r\n  const onClickedButtonFilter = () => {\r\n    props.onClickedButtonFilter(setTemporaryFilterModel('Filter'));\r\n    props.toggleDropdown(null);\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    clearFilterModel() {\r\n      changeToDefaultForm();\r\n    },\r\n  }));\r\n\r\n  useEffect(() => {\r\n    selectDayRange(1);\r\n\r\n    document.addEventListener('mousedown', backdropClicked);\r\n    return () => document.removeEventListener('mousedown', backdropClicked);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"d-flex\" style={{ height: '100%' }} ref={dateFilterRef}>\r\n\r\n      <div className={styles.dateSection}>\r\n        <div className=\"d-flex\">\r\n          <div\r\n            className={styles.startSection}\r\n            style={{\r\n              pointerEvents: id !== 4 ? 'none' : null,\r\n              textAlign: 'center',\r\n            }}\r\n          >\r\n            <Calendar\r\n              tileClassName={({ date }) =>\r\n                date > startDate && date <= endDate\r\n                  ? 'react-calendar__month-view__days__day_between-day-range'\r\n                  : null\r\n              }\r\n              onChange={setStartDate}\r\n              onClickDay={selectStartDate}\r\n              value={startDate}\r\n              minDate={startDate}\r\n            />\r\n          </div>\r\n          <div className={styles.divider} />\r\n          <div\r\n            className={styles.endSection}\r\n            style={{\r\n              pointerEvents: id !== 4 ? 'none' : null,\r\n              textAlign: 'center',\r\n            }}\r\n          >\r\n            <Calendar\r\n              tileClassName={({ date }) =>\r\n                date >= startDate && date < endDate\r\n                  ? 'react-calendar__month-view__days__day_between-day-range'\r\n                  : null\r\n              }\r\n              onChange={setEndDate}\r\n              onClickDay={selectEndDate}\r\n              value={endDate}\r\n              minDate={startDate}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nDateFilterComponent.propTypes = {\r\n  backdropClicked: PropTypes.func.isRequired,\r\n  component: PropTypes.string,\r\n  onClickedButtonFilter: PropTypes.func.isRequired,\r\n  toggleDropdown: PropTypes.func.isRequired,\r\n  filterModel: PropTypes.shape.isRequired,\r\n};\r\nDateFilterComponent.defaultProps = {\r\n  component: '',\r\n};\r\nDateFilterComponent.displayName = 'DateFilterComponent';\r\nexport default DateFilterComponent;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"checkboxDiv\":\"styles_checkboxDiv__YkHF5\",\"box\":\"styles_box__rn6S4\",\"circle\":\"styles_circle__kQ49q\",\"notChecked\":\"styles_notChecked__bRmng\",\"checked\":\"styles_checked__Qu8Jm\",\"checkIcon\":\"styles_checkIcon__KiwCJ\",\"label\":\"styles_label__8dE5x\",\"disabled\":\"styles_disabled__lI633\",\"disabledNotChecked\":\"styles_disabledNotChecked__wumA4\",\"disabledChecked\":\"styles_disabledChecked__8iqRb\"};","import React, { useEffect, useState } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles.module.css';\r\n\r\nfunction Checkbox({ label, shape, disabled, active, onCheck, checkboxClassName, fontClassName }) {\r\n  const [isActive, setIsActive] = useState(active);\r\n\r\n  // styles\r\n  const form =\r\n    shape === 'box' ? styles.box : shape === 'circle' && styles.circle;\r\n  const isChecked = isActive ? styles.checked : styles.notChecked;\r\n  const isDisabled = disabled && styles.disabled;\r\n  // eslint-disable-next-line max-len\r\n  const isDisabledChecked =\r\n    disabled && (isActive ? styles.disabledChecked : styles.disabledNotChecked);\r\n\r\n  const executeOnCheck = () => {\r\n    // setIsActive(active === true ? true : !isActive);\r\n    // onCheck(active === true ? true : !isActive);\r\n    setIsActive(!active);\r\n    onCheck(!active);\r\n  };\r\n\r\n  const onKeyDownExecuteOnCheck = (e) => {\r\n    if (e.key === 'Enter') executeOnCheck();\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsActive(active && active);\r\n  }, [active]);\r\n\r\n  return (\r\n    <div className={styles.checkboxDiv}>\r\n      <div\r\n        className={`${form} ${isChecked} ${isDisabled} ${isDisabledChecked} ${checkboxClassName}`}\r\n        onClick={executeOnCheck}\r\n        onKeyDown={onKeyDownExecuteOnCheck}\r\n        role=\"presentation\"\r\n        tabIndex={0}\r\n      >\r\n        <span className={styles.checkIcon} />\r\n      </div>\r\n\r\n      {label && <div className={`${styles.label} ${fontClassName}`}>{label}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nCheckbox.propTypes = {\r\n  label: PropTypes.string,\r\n  shape: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  active: PropTypes.bool,\r\n  onCheck: PropTypes.func.isRequired,\r\n  style: PropTypes.shape(PropTypes.any),\r\n};\r\n\r\nCheckbox.defaultProps = {\r\n  label: null,\r\n  shape: 'box',\r\n  disabled: false,\r\n  active: false,\r\n  style: {},\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Dialog, DialogActionsBar } from \"@progress/kendo-react-dialogs\";\r\nimport stylesModal from \"./Modal.module.css\";\r\nimport Button from \"../../../shared/components/button/Button\";\r\nimport TitleExclusionDateFilterComponent from \"../filters/title-exlucsion-date-filter/title-exlucsion-date.filter.component\";\r\nimport AddButton from \"../../../assets/icons/Vector.svg\";\r\nimport TrashCan from \"../../../assets/icons/Trash-Can.png\";\r\nimport Checkbox from \"../checkbox/Checkbox\";\r\nimport CustomDateRangeInput from \"../../../shared/components/custom-date-range/CustomDateRangeInput\";\r\n\r\nfunction ShowSetTitleExclusionDateModalComponent({\r\n  show,\r\n  hideModal,\r\n  formType,\r\n  selectedProgrammeTitleList,\r\n  onAddTitles,\r\n  selectStartDate,\r\n  selectEndDate,\r\n  onAddDateRange,\r\n  onDeleteRange,\r\n}) {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const toggleDialog = () => {\r\n    setVisible(!visible);\r\n  };\r\n  const min = new Date();\r\n  const dateFilterRef = useRef();\r\n  const [isDateComponent, setisDateComponent] = useState(false);\r\n  const [titleIndex, setTitleIndex] = useState(0);\r\n  const [subIndex, setSubIndex] = useState(0);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [hasNoStartDates, setHasNoStartDates] = useState([]);\r\n  const [overlappingDates, setOverlappingDates]= useState([]);\r\n  const [invalidDateRanges, setInvalidDateRanges] = useState([]);\r\n  const [lessThanTodayDates, setLessThanTodayDates] = useState([]);\r\n  const dateTodayWithoutTimeStamp = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\r\n  const [lastAddedId, setLastAddedId] = useState(0);\r\n\r\n  const cancelButton = () => {\r\n    setVisible(false);\r\n    hideModal();\r\n    setHasNoStartDates([]);\r\n    setOverlappingDates([]);\r\n    setInvalidDateRanges([]);\r\n    setLessThanTodayDates([]);\r\n    setSubIndex(0);\r\n    setTitleIndex(0);\r\n    setIsActive(false);\r\n    setLastAddedId(0);\r\n  };\r\n\r\n  const showDateComponent = (index, index2) => {\r\n\r\n    setisDateComponent(true);\r\n  };\r\n\r\n  const hideDateComponent = (e) => {\r\n    if (!dateFilterRef.current?.contains(e.target)) {\r\n      return false;\r\n    }\r\n    setisDateComponent(false);\r\n    setTitleIndex(0);\r\n    setSubIndex(0);\r\n  };\r\n\r\n  const dateRangeOverlaps = (a_start, a_end, b_start, b_end) => {\r\n    const aStart = a_start && new Date(a_start);\r\n    const aEnd = a_end && new Date(a_end);\r\n    const bStart = b_start && new Date(b_start);\r\n    const bEnd = b_end && new Date(b_end);\r\n\r\n    if (aStart && bStart && !aEnd && !bEnd) return (aStart >= bStart) || (bStart >= aStart); // date range overlap but no end dates\r\n    if (aStart && bStart && !aEnd) return (bStart <= aStart && bEnd >= aStart) || (aStart <= bStart && aStart <= bEnd); // date range overlap but no aEnd\r\n    if (aStart && bStart && !bEnd) return (aStart <= bStart && aEnd >= bStart) || (bStart <= aStart && bStart <= aEnd); // date range overlap but no bEnd\r\n    if (aStart && bStart) return (aStart >= bStart && aStart <= bEnd) || (bStart >= aStart && bStart <= aEnd); // date range overlap\r\n  };\r\n\r\n  const checkDateRangeIfValid = () => {\r\n    let invalidDates = [];\r\n    selectedProgrammeTitleList.map((title) => (\r\n      title.effectivityDates.map((date) => {\r\n        if (date.endDate && new Date(date.startDate) > new Date(date.endDate)) {\r\n          invalidDates.push(`${title.titleId}-${date.id}`);\r\n        }\r\n      })\r\n    ));\r\n    setInvalidDateRanges(invalidDates);\r\n    return invalidDates.length > 0;\r\n  }\r\n\r\n  const checkDateArrayOverlaps = () => {\r\n    let overlappedDates = [];\r\n    let datesLessThanToday = [];\r\n    selectedProgrammeTitleList.map((title) => (\r\n      title.effectivityDates.map((date, index) => {\r\n        title.effectivityDates.map((otherDate, otherIndex) => {\r\n          const isDateOverlapping = dateRangeOverlaps(\r\n            date.startDate,\r\n            date.endDate,\r\n            otherDate.startDate,\r\n            otherDate.endDate,\r\n          ) && index !== otherIndex;\r\n          const isDateLessThanToday = date.startDate && (new Date(date.startDate) < dateTodayWithoutTimeStamp);\r\n          if (isDateOverlapping && (!date.historicalStartDate || !date.historicalEndDate)) overlappedDates.push(`${title.titleId}-${date.id}`);\r\n          if (isDateLessThanToday && !date.historicalStartDate) datesLessThanToday.push(`${title.titleId}-${date.id}`);\r\n        })\r\n      })\r\n    ));\r\n    setOverlappingDates(overlappedDates);\r\n    setLessThanTodayDates(datesLessThanToday);\r\n    return overlappedDates.length > 0 || datesLessThanToday.length > 0;\r\n  };\r\n\r\n  const checkIfSomeHasNoStartDate = () => {\r\n    let hasNoStartDate = [];\r\n    selectedProgrammeTitleList.map((title) => {\r\n      if (title.effectivityDates.every((date) => !date.startDate)) hasNoStartDate.push(title.titleId);\r\n    });\r\n    setHasNoStartDates(hasNoStartDate);\r\n    return hasNoStartDate.length > 0;\r\n  };\r\n\r\n  const handleChange = (event, index, index2, disabledStart) => {\r\n    setTitleIndex(index);\r\n    setSubIndex(index2);\r\n    if (!disabledStart) {\r\n      selectDateStart(event.start, index , index2, event.dayStart, event.monthStart, event.yearStart);\r\n      selectDateEnd(event.end, index , index2, event.dayEnd, event.monthEnd, event.yearEnd);\r\n    } else {\r\n      selectDateEnd(event.end, index , index2);\r\n    }\r\n  };\r\n\r\n  const selectDateStart = (date, index , index2, dayStart, monthStart, yearStart) => {\r\n    let items = [...selectedProgrammeTitleList];\r\n    let item = { ...items[index] };\r\n    let subItem = { ...item.effectivityDates[index2] }; \r\n    subItem.startDate = date;\r\n    items[index].effectivityDates[index2].startDate = subItem.startDate;\r\n    subItem.dayStart = dayStart;\r\n    items[index].effectivityDates[index2].dayStart = subItem.dayStart;\r\n    subItem.monthStart = monthStart;\r\n    items[index].effectivityDates[index2].monthStart = subItem.monthStart;\r\n    subItem.yearStart = yearStart;\r\n    items[index].effectivityDates[index2].yearStart = subItem.yearStart;\r\n    selectStartDate(items);\r\n  };\r\n\r\n  const selectDateEnd = (date, index , index2, dayEnd, monthEnd, yearEnd) => {\r\n    let items = [...selectedProgrammeTitleList];\r\n    let item = { ...items[index] };\r\n    let subItem = { ...item.effectivityDates[index2] };\r\n    subItem.endDate = date;\r\n    items[index].effectivityDates[index2].endDate = subItem.endDate;\r\n    subItem.dayEnd = dayEnd;\r\n    items[index].effectivityDates[index2].dayEnd = subItem.dayEnd;\r\n    subItem.monthEnd = monthEnd;\r\n    items[index].effectivityDates[index2].monthEnd = subItem.monthEnd;\r\n    subItem.yearEnd = yearEnd;\r\n    items[index].effectivityDates[index2].yearEnd = subItem.yearEnd;\r\n    selectEndDate(items);\r\n  };\r\n\r\n  const addDateRange = (index) => {\r\n    let items = [...selectedProgrammeTitleList];\r\n    let item = { ...items[index] };\r\n    let subItem = item.effectivityDates;\r\n    const max = Math.max(...subItem.map((subItemData) => subItemData.id));\r\n    if (lastAddedId === 0) setLastAddedId(max + 1);\r\n    else setLastAddedId(lastAddedId + 1);\r\n    let effectivityDates = [\r\n      {\r\n        id: (lastAddedId === 0 ? max : lastAddedId) + 1,\r\n        startDate: null,\r\n        endDate: null,\r\n      },\r\n    ];\r\n\r\n    var combinedArray = [...subItem, ...effectivityDates];\r\n    items[index].effectivityDates = combinedArray;\r\n    onAddDateRange(items);\r\n  };\r\n\r\n  const activateCheckbox = (checkState) => {\r\n    setIsActive(checkState);\r\n    \r\n    let items = [...selectedProgrammeTitleList];\r\n    let item = { ...items[0] };\r\n    let subItem = item.effectivityDates;\r\n    let startDate = subItem[0].startDate;\r\n    let endDate = subItem[0].endDate;\r\n    \r\n    for (let i = 0; i < items.length; i++) {\r\n      items[i].effectivityDates[0].startDate = checkState && startDate\r\n        ? startDate\r\n        : items[i].effectivityDates[0].startDate;\r\n      items[i].effectivityDates[0].endDate = checkState && endDate\r\n        ? endDate\r\n        : items[i].effectivityDates[0].endDate;\r\n    }\r\n    onAddDateRange(items);\r\n  };\r\n  \r\n  const deleteDateRange = (index, index2) => {\r\n    let items = [...selectedProgrammeTitleList];\r\n    let item = { ...items[index] };\r\n    let subItem = item.effectivityDates;\r\n    subItem.splice(index2, 1);\r\n    items[index].effectivityDates = subItem;\r\n    onDeleteRange(items);\r\n  };\r\n\r\n  const handleOnExcludeTitles = () => {\r\n    const hasOverlaps = checkDateArrayOverlaps();\r\n    const hasNoStartDates = checkIfSomeHasNoStartDate();\r\n    const hasDateRangeInvalid = checkDateRangeIfValid();\r\n\r\n    if (!hasOverlaps && !hasNoStartDates && !hasDateRangeInvalid) {\r\n      cancelButton();\r\n      const titleList = selectedProgrammeTitleList.map((title) => {\r\n        const normalEffectivityDates = title.effectivityDates.filter((date) => {\r\n          if (date.startDate) return date;\r\n        });\r\n        return ({\r\n          ...title,\r\n          effectivityDates: normalEffectivityDates\r\n        })\r\n      });\r\n      onAddTitles(titleList);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if(show) setVisible(true);\r\n  }, [show])\r\n\r\n  return (\r\n    <div>\r\n    {visible && (\r\n    <Dialog width={766} height={564} onClose={toggleDialog}>\r\n      <div className={stylesModal.dialogBody}>\r\n        <div className={stylesModal.titleDialog}>Title Exclusion Dates</div>\r\n        <div className={stylesModal.description}>\r\n          Please specify the date range which you want to exclude the following\r\n          program titles:\r\n        </div>\r\n\r\n        <div className={stylesModal.titleScope}>\r\n          {selectedProgrammeTitleList.map((item, index) => (\r\n            <div key={item.titleId} className={`${stylesModal.titleList} d-flex`} style={{marginTop: index > 0 ? \"10px\" : \"38px\"}}>\r\n              <div className={stylesModal.titleListColumn1}>\r\n                <div className={stylesModal.title}>{item.titleName}</div>\r\n              </div>\r\n\r\n              <div className={stylesModal.titleListColumn2}>\r\n                {item.effectivityDates.map((item2, index2) => {\r\n                  const isDateOverlapping = overlappingDates.includes(`${item.titleId}-${item2.id}`);\r\n                  const dateRangeIsInvalid = invalidDateRanges.includes(`${item.titleId}-${item2.id}`);\r\n                  const isDateLessThanToday = lessThanTodayDates.includes(`${item.titleId}-${item2.id}`);\r\n                  const hasNoStartDate = hasNoStartDates.includes(item.titleId);\r\n                  const value =  { start: item2.startDate, end: item2.endDate };     \r\n\r\n                  return (\r\n                    <div>\r\n                        <div className={`${stylesModal.effectivityDatesSection} d-flex`} style={{paddingBottom: index === 0  && index2 === 0 ? \"0px\" : \"5px\"}}>\r\n                          <div className={stylesModal.effectivityDatesDiv}>\r\n                              <CustomDateRangeInput\r\n                                key={item2.id}\r\n                                min={min}\r\n                                onChange={(e) => handleChange(e, index, index2, item2.historicalStartDate)}\r\n                                startSettings={{\r\n                                    value: value.start && new Date(value.start),\r\n                                    labelLeft: true,\r\n                                    disabled: item2.historicalStartDate,\r\n                                    dayStart: item2.dayStart,\r\n                                    monthStart: item2.monthStart,\r\n                                    yearStart: item2.yearStart,\r\n                                }}\r\n                                endSettings={{\r\n                                    value: value.end && new Date(value.end),\r\n                                    labelLeft: true,\r\n                                    disabled: item2.historicalEndDate,\r\n                                    dayEnd: item2.dayEnd,\r\n                                    monthEnd: item2.monthEnd,\r\n                                    yearEnd: item2.yearEnd,\r\n                                }}\r\n                            />\r\n                          </div>\r\n\r\n                          <div class={stylesModal.iconDiv}>\r\n                            {isDateComponent &&\r\n                            subIndex === index2 &&\r\n                            titleIndex === index ? (\r\n                              <>\r\n                                <div ref={dateFilterRef}>\r\n                                  <TitleExclusionDateFilterComponent\r\n                                    backDropClick={setisDateComponent}\r\n                                    onSelectDateStart={(date) => selectDateStart(date)}\r\n                                    onSelectDateEnd={(date) => selectDateEnd(date)}\r\n                                  />\r\n                                </div>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <div></div>\r\n                              </>\r\n                            )}\r\n                            {index2 === 0 ? (\r\n                              <>\r\n                                <img                              \r\n                                  src={AddButton}\r\n                                  className={stylesModal.addIcon}\r\n                                  onClick={() => addDateRange(index, index2)}\r\n                                />\r\n                              </>\r\n                            ) : (\r\n                              <img\r\n                                src={TrashCan}\r\n                                className={stylesModal.trashIcon}\r\n                                onClick={() => deleteDateRange(index, index2)}\r\n                              />\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      {isDateOverlapping && (\r\n                        <div className={stylesModal.errorText}>Overlapping date range for the same title is not allowed</div>\r\n                      )}\r\n                      {dateRangeIsInvalid && (\r\n                        <div className={stylesModal.errorText}>Date range is invalid</div>\r\n                      )}\r\n                      {isDateLessThanToday && (\r\n                        <div className={stylesModal.errorText}>Start should not be earlier than the current date</div>\r\n                      )}\r\n                      {hasNoStartDate && index2 === 0 && (\r\n                        <div className={stylesModal.errorText}>Start date is required</div>\r\n                      )}\r\n                      {index2 === 0 && index === 0 && (\r\n                        <>\r\n                          <div className={stylesModal.checkButton}>\r\n                            <Checkbox label=\"Use the same date range for all\" active={isActive} onCheck={activateCheckbox} />                            \r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  )\r\n                })}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          </div>\r\n        <div className={stylesModal.buttons}>\r\n          <Button defaultBtn text=\"Cancel\" onClick={cancelButton} />\r\n          <Button\r\n            text={formType === 'Update' ? 'Done' : 'Exclude Titles'}\r\n            onClick={handleOnExcludeTitles}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Dialog>\r\n    )}\r\n    </div>\r\n  );\r\n}\r\nShowSetTitleExclusionDateModalComponent.propTypes = {};\r\n\r\nShowSetTitleExclusionDateModalComponent.defaultProps = {\r\n  show: false,\r\n};\r\nShowSetTitleExclusionDateModalComponent.displayName =\r\n  \"ImportBusinessRulesModalComponent\";\r\n\r\nexport default ShowSetTitleExclusionDateModalComponent;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"body\":\"styles_body__qYY0j\",\"smallText\":\"styles_smallText__R2k2r\",\"fileName\":\"styles_fileName__8ku3S\",\"smallerText\":\"styles_smallerText__NJqK2\",\"buttons\":\"styles_buttons__HDKv+\",\"sampleTemplateText\":\"styles_sampleTemplateText__7ZNLp\",\"errorMessage\":\"styles_errorMessage__WabSX\"};","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles.module.css';\r\nimport Button from '../button/Button';\r\n\r\nfunction ImportModal({\r\n    title,\r\n    show,\r\n    onHide,\r\n    onImport,\r\n    onClickSampleTemplate,\r\n    isImporting,\r\n}) {\r\n  const chooseFileRef = useRef();\r\n  const acceptableFiles = ['xlsx', 'xls', 'csv'];\r\n  const [selectedFile, setSelectedFile] = useState();\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const handleUploadButton = () => {\r\n    chooseFileRef.current.click();\r\n  };\r\n\r\n  const onFileChangeCapture = (e) => {\r\n    const file = e.target.files[0];\r\n    setSelectedFile(file);\r\n  };\r\n\r\n  const onClickImport = () => {\r\n    const fileExtension = selectedFile.name.split('.').pop();\r\n\r\n    if (acceptableFiles.includes(fileExtension)) {\r\n      onImport(selectedFile);\r\n    } else {\r\n      setErrorMessage('Uploaded file type is not supported. Please use files in the following formats (xlsx, csv)');\r\n    }\r\n  };\r\n\r\n  const onClickCancel = () => {\r\n    onHide();\r\n    setSelectedFile();\r\n    setErrorMessage('');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!show) {\r\n      setSelectedFile();\r\n      setErrorMessage('');\r\n    }\r\n  }, [show]);\r\n\r\n  return (\r\n    <Modal show={show} centered size=\"lg\" onHide={onHide}>\r\n      <div className={styles.body}>\r\n        <div>\r\n            <div style={{ fontWeight: 'bolder' }}>{title || 'Import'}</div>\r\n                <p className={styles.smallText}>\r\n                    Download a\r\n                    {' '}\r\n                    <span\r\n                        className={styles.sampleTemplateText}\r\n                        onClick={onClickSampleTemplate}\r\n                        onKeyDown={onClickSampleTemplate}\r\n                        role=\"presentation\"\r\n                    >\r\n                        sample template\r\n                    </span>\r\n                    {' '}\r\n                    to see an example of the required format.\r\n                </p>\r\n                <p className={styles.errorMessage}>\r\n                    {errorMessage}\r\n                </p>\r\n\r\n            <div className=\"d-flex\" >\r\n                <Button\r\n                    text=\"Choose file\"\r\n                    size=\"lg\"\r\n                    style={{ marginTop: '30px', marginLeft: '0' }}\r\n                    onClick={handleUploadButton}\r\n                />\r\n                <input\r\n                    ref={chooseFileRef}\r\n                    hidden\r\n                    type=\"file\"\r\n                    accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n                    onChange={onFileChangeCapture}\r\n                />\r\n\r\n                <p className={styles.fileName} title={selectedFile && selectedFile.name}>\r\n                    {selectedFile && selectedFile.name}\r\n                </p>\r\n            </div>\r\n\r\n            <div className='pt-2'>\r\n                <small>Acceptable format: Excel, CSV</small>\r\n            </div>\r\n        </div>\r\n\r\n        <div className={styles.buttons}>\r\n          <Button text=\"Cancel\" defaultBtn onClick={onClickCancel} />\r\n          <Button text=\"Import\" onClick={onClickImport} disabled={!selectedFile} isLoading={isImporting} />\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\nImportModal.propTypes = {\r\n  onImport: PropTypes.func.isRequired,\r\n  onHide: PropTypes.func.isRequired,\r\n  onClickSampleTemplate: PropTypes.func.isRequired,\r\n  show: PropTypes.bool,\r\n};\r\nImportModal.defaultProps = {\r\n  show: false,\r\n};\r\nImportModal.displayName = 'ImportModal';\r\n\r\nexport default ImportModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"ImportTitleToExcludeResultModal_modal__RfYv4\",\"dialogContent\":\"ImportTitleToExcludeResultModal_dialogContent__tPNzt\",\"description\":\"ImportTitleToExcludeResultModal_description__nKce+\",\"table\":\"ImportTitleToExcludeResultModal_table__8dwPQ\",\"tableHeader\":\"ImportTitleToExcludeResultModal_tableHeader__0NeG8\",\"tableBodyRow\":\"ImportTitleToExcludeResultModal_tableBodyRow__BVzOT\",\"tableBody\":\"ImportTitleToExcludeResultModal_tableBody__ep5-q\",\"radioButtons\":\"ImportTitleToExcludeResultModal_radioButtons__SxPVq\",\"closeButton\":\"ImportTitleToExcludeResultModal_closeButton__7b9-4\",\"formCheckInput\":\"ImportTitleToExcludeResultModal_formCheckInput__PZjx4\",\"formCheck\":\"ImportTitleToExcludeResultModal_formCheck__8ydpV\",\"formCheckInputLabel\":\"ImportTitleToExcludeResultModal_formCheckInputLabel__y3Dav\"};","import styles from './ImportTitleToExcludeResultModal.module.css';\r\nimport { checkAltIcon, timesRedIcon } from '../../../../assets';\r\nimport Button from '../../../../shared/components/button/Button';\r\nimport { Modal } from 'react-bootstrap';\r\nimport { useState } from 'react';\r\n\r\nconst ImportTitleToExcludeResultModal = ({ show, onHide, data }) => {\r\n    const [filter, setFilter] = useState(1);\r\n    const radioButtons = [\r\n        { id: 1, label: 'Show all' },\r\n        { id: 2, label: 'Imported' },\r\n        { id: 3, label: 'Not Imported' },\r\n    ];\r\n\r\n    const onClickSetFilter = (id) => {\r\n        setFilter(id);\r\n    };\r\n    \r\n    return (\r\n        <Modal show={show} contentClassName={styles.modal} onHide={onHide} centered>\r\n            <div className={styles.dialogContent}>\r\n                <p className={styles.description}>\r\n                    <b>{data?.filter(o => o.imported).length || 0}</b>\r\n                    {\" \"}\r\n                    titles out of\r\n                    {\" \"}\r\n                    <b>{data?.length || 0}</b>\r\n                    {\" \"}\r\n                    were successfully imported and validated!\r\n                </p>\r\n\r\n                <div className={styles.table}>\r\n                    <div className={styles.tableHeader}>\r\n                        <div>Programme Title</div>\r\n                        <div>Duration</div>\r\n                        <div>Start date</div>\r\n                        <div>End date</div>\r\n                        <div></div>\r\n                        <div>Results</div>\r\n                    </div>\r\n\r\n                    <div className={styles.tableBody}>\r\n                        {data.filter(o => {\r\n                            if (filter === 1) return true;\r\n                            if (filter === 2) return o.imported;\r\n                            if (filter === 3) return !o.imported;\r\n                        }).map((item) => (\r\n                            <div className={styles.tableBodyRow}>\r\n                                <div title={item.titleName}>{item.titleName}</div>\r\n                                <div title={item.duration}>{item.duration}</div>\r\n                                <div title={item.startDate}>{item.startDate}</div>\r\n                                <div title={item.endDate}>{item.endDate}</div>\r\n                                <div title={item.imported ? 'Imported' : 'Not Imported'}>\r\n                                    <img src={item.imported ? checkAltIcon : timesRedIcon} alt=\"\" />\r\n                                </div>\r\n                                <div title={item.importResult}>{item.importResult}</div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.radioButtons}>\r\n                    {radioButtons.map((button) => (\r\n                        <div className={styles.formCheck}>\r\n                            <input\r\n                                className={`${styles.formCheckInput} form-check-input`}\r\n                                type=\"radio\"\r\n                                name=\"successFilter\"\r\n                                onClick={() => onClickSetFilter(button.id)}\r\n                                checked={filter === button.id}\r\n                            />\r\n                            <div className={styles.formCheckInputLabel}>\r\n                                {button.label}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className={styles.closeButton}>\r\n                    <Button text=\"Close\" onClick={onHide} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nexport default ImportTitleToExcludeResultModal;","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"OverrideExcludedTitlesModal_modal__hiKef\",\"content\":\"OverrideExcludedTitlesModal_content__xKv6N\",\"description\":\"OverrideExcludedTitlesModal_description__FTjK1\",\"confirmationDescriptionWrapper\":\"OverrideExcludedTitlesModal_confirmationDescriptionWrapper__p7ex5\",\"actionButtons\":\"OverrideExcludedTitlesModal_actionButtons__doC3C\",\"overrideButton\":\"OverrideExcludedTitlesModal_overrideButton__scO9V\"};","import { Modal } from 'react-bootstrap';\r\nimport styles from './OverrideExcludedTitlesModal.module.css';\r\nimport Button from '../../../../shared/components/button/Button';\r\n\r\nconst OverrideExcludedTitlesModal = ({\r\n    show,\r\n    onHide,\r\n    onOverwrite,\r\n    onOverride,\r\n    isOverwriting,\r\n    isOverriding,\r\n}) => {\r\n    return (\r\n        <Modal\r\n            contentClassName={styles.modal}\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            centered>\r\n            <div className={styles.content}>\r\n                <p className={styles.description}>The title exclusion you are importing in this channel has an existing excluded titles.</p>\r\n\r\n                <div className={styles.confirmationDescriptionWrapper}>\r\n                    <b className={styles.description}>Do you want to overwrite the existing titles or override them</b>\r\n                </div>\r\n\r\n                <div className={styles.actionButtons}>\r\n                    <Button text=\"Cancel\" defaultBtn onClick={onHide} />\r\n                    <Button\r\n                        text=\"Overwrite\"\r\n                        onClick={onOverwrite}\r\n                        isLoading={isOverwriting}\r\n                        disabled={isOverriding}\r\n                    />\r\n                    <div className={styles.overrideButton}>\r\n                        <Button\r\n                            text=\"Override\"\r\n                            onClick={onOverride}\r\n                            isLoading={isOverriding}\r\n                            disabled={isOverwriting}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nexport default OverrideExcludedTitlesModal;","import React, { useState } from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport styles from '../../../../shared/components/confirm-leave-modal/styles.module.css';\r\nimport Button from '../../../../shared/components/button/Button';\r\n\r\nconst ConfirmExportModal = ({ show, onExport, onDiscard, onHide, isExporting }) => {\r\n  const [clickedButton, setClickedButton] = useState('');\r\n\r\n  const handleOnExport = () => {\r\n    onExport();\r\n    setClickedButton('Export');\r\n  };\r\n\r\n  const handleOnDiscard = () => {\r\n    onDiscard();\r\n    setClickedButton('Discard');\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      size=\"md\"\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"confirm-export-modal\"\r\n    >\r\n      <Modal.Body className={styles.promptModalBody}>\r\n        <div>\r\n          You have unsaved changes to the title exclusion. Exporting the current\r\n          version will not include these changes. Do you want to save your\r\n          changes before exporting or proceed with the current version?\r\n        </div>\r\n        <div>\r\n          <div className={styles.button}>\r\n            <Button\r\n              text=\"Save and export\"\r\n              onClick={handleOnExport}\r\n              style={{ width: '100%' }}\r\n              isLoading={isExporting && clickedButton === 'Export'}\r\n            />\r\n          </div>\r\n          <div className={styles.button}>\r\n            <Button\r\n              text=\"Discard changes and export\"\r\n              onClick={handleOnDiscard}\r\n              style={{ width: '100%' }}\r\n              isLoading={isExporting && clickedButton === 'Discard'}\r\n            />\r\n          </div>\r\n          <div className={styles.button}>\r\n            <Button\r\n              text=\"Cancel\"\r\n              defaultBtn\r\n              onClick={onHide}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ConfirmExportModal;\r\n","import React, { useState } from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport styles from '../../../../shared/components/confirm-leave-modal/styles.module.css';\r\nimport Button from '../../../../shared/components/button/Button';\r\n\r\nconst ConfirmImportModal = ({ show, onImport, onDiscard, onHide, isImporting }) => {\r\n  const [clickedButton, setClickedButton] = useState('');\r\n\r\n  const handleOnImport = () => {\r\n    onImport();\r\n    setClickedButton('Import');\r\n  };\r\n\r\n  const handleOnDiscard = () => {\r\n    onDiscard();\r\n    setClickedButton('Discard');\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      size=\"md\"\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"confirm-import-modal\"\r\n    >\r\n      <Modal.Body className={styles.promptModalBody}>\r\n        <div>\r\n          You have unsaved changes to the excluded programme titles. Import the current\r\n          version will not include these changes. Do you want to save your\r\n          changes before importing or proceed with the current version?\r\n        </div>\r\n        <div>\r\n          <div className={styles.button}>\r\n            <Button\r\n              text=\"Save and import\"\r\n              onClick={handleOnImport}\r\n              style={{ width: '100%' }}\r\n              isLoading={isImporting && clickedButton === 'Import'}\r\n            />\r\n          </div>\r\n          <div className={styles.button}>\r\n            <Button\r\n              text=\"Discard changes and import\"\r\n              onClick={handleOnDiscard}\r\n              style={{ width: '100%' }}\r\n              isLoading={isImporting && clickedButton === 'Discard'}\r\n            />\r\n          </div>\r\n          <div className={styles.button}>\r\n            <Button\r\n              text=\"Cancel\"\r\n              defaultBtn\r\n              onClick={onHide}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ConfirmImportModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport '../../components/schedule/react-scheduler/kendo-scheduler.css'\r\n\r\nimport styles from './TitleExclusion.module.css';\r\nimport { eyeIcon, eyeSlashIcon, uploadFileIcon, downloadFileIcon } from '../../assets/index';\r\nimport IndefiniteCalendarIcon from '../../assets/icons/IndefiniteCalendar.svg';\r\nimport DefiniteCalendarIcon from '../../assets/icons/DefinedCalendar.svg'\r\nimport BannerComponent from '../_reusable/banner/BannerComponent';\r\nimport Button from '../../shared/components/button/Button';\r\nimport DualTable from '../../shared/components/dual-table/DualTable';\r\nimport TitleExclusionService from './TitleExclusionService';\r\nimport TitleExclusionStorage from './TitleExclusionStorage';\r\nimport { danger, success } from '../../shared/elements/notification/NotifyComponent';\r\nimport { useCallbackPrompt } from '../_reusable/blocker/UsePromptComponent.ts';\r\nimport ProfileService from '../profile/ProfileService';\r\nimport AuthService from '../../core/auth.service';\r\nimport ProgramDetailsComponent from '../prioritisation/prioritisation-program-details/PrioritisationProgramDetailComponent';\r\nimport ImportProgramDetailsComponent from '../prioritisation/import-program-details/ImportProgramDetailsComponent';\r\nimport ShowSetTitleExclusionDateModalComponent from './modals/ShowSetTitleExclusionDateModalComponent';\r\nimport DateService from '../_reusable/javascript/date.service';\r\nimport SelectComponent from '../../shared/elements/select/select.component';\r\nimport PrioritisationService from '../prioritisation/PrioritisationService';\r\nimport ConfirmLeavePageModalComponent from '../title-group/modals/confirm-leave-page-modal/ConfirmLeavePageModalComponent';\r\nimport ImportModal from '../../shared/components/import-modal/ImportModal';\r\nimport ImportTitleToExcludeResultModal from './modals/import-title-to-exclude-result-modal/ImportTitleToExcludeResultModal';\r\nimport moment from 'moment';\r\nimport OverrideExcludedTitlesModal from './modals/override-execluded-titles-modal/OverrideExcludedTitlesModal';\r\nimport ConfirmExportModal from './modals/confirm-export-modal/ConfirmExportModal';\r\nimport ConfirmImportModal from './modals/confirm-import-modal/ConfirmImportModal';\r\n\r\nfunction TitleExclusionComponent() {\r\n  const tableOneHeader = TitleExclusionStorage.tableOneHeaders;\r\n  const tableOneImportHeader = TitleExclusionStorage.tableOneImportHeaders;\r\n  const tableTwoHeader = TitleExclusionStorage.tableTwoHeaders;\r\n  const [\r\n    isExcludedTitlesInitialLoaded,\r\n    setIsExcludedTitlesInitialLoaded,\r\n  ] = useState(false);\r\n  const [isFetchingTitles, setIsFetchingTitles] = useState(true);\r\n  const [isFetchingExcludedTitles, setIsFetchingExcludedTitles] = useState(true);\r\n  const [tableOneData, setTableOneData] = useState([]);\r\n  const [tableTwoData, setTableTwoData] = useState([]);\r\n  const [viewedItemId, setViewedItemId] = useState(null);\r\n  const [viewedItem, setViewedItem] = useState(null);\r\n  const [queryParameters, setQueryParameters] = useState({\r\n    sortOrder: 1,\r\n    sortBy: 1,\r\n  });\r\n  const [sortParameters, setSortParameters] = useState({ order: 1, sort: 1 });\r\n  const [tableParameters, setTableParameters] = useState({});\r\n  const [paginationParameters, setPaginationParameters] = useState({});\r\n  const [tablesHeight, setTablesHeight] = useState(['371px', '371px']);\r\n  const tableLabels = ['Programme titles:', 'Excluded programme titles:'];\r\n  const [verbiage, setVerbiage] = useState([\r\n    { show: true, message: 'Please select a channel to list its available programme titles' },\r\n    { show: false, message: 'Please select and add programme titles to exclude' },\r\n  ]);\r\n  const [shouldTableOneScrollToView, setShouldTableOneScrollToView] = useState(\r\n    false\r\n  );\r\n  const [shouldTableTwoScrollToView, setShouldTableTwoScrollToView] = useState(\r\n    false\r\n  );\r\n\r\n  const [selectedProgrammeTitles, setSelectedProgrammeTitles] = useState([]);\r\n  const [titleSource, setTitleSource] = useState();\r\n  const [shouldLoadTableOne, setShouldLoadTableOne] = useState(true);\r\n  const [excludeTitleFormType, setExcludeTitleFormType] = useState('Create');\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [isDirty, setIsDirty] = useState(false);\r\n  const [showSetDateModal, setShowSetDateModal] = useState(false);\r\n  const [\r\n    showPrompt,\r\n    confirmNavigation,\r\n    cancelNavigation,\r\n    hidePrompt,\r\n  ] = useCallbackPrompt(isDirty);\r\n  const [showConfirmLeaveModal, setShowConfirmLeaveModal] = useState(false);\r\n  const [shouldClearSelected, setShouldClearSelected] = useState(false);\r\n  const [channels, setChannels] = useState([]);\r\n  const [selectedChannel, setSelectedChannel] = useState({});\r\n  const [nextChannel, setNextChannel] = useState({});\r\n  const [showTitleToExcludeModal, setShowTitleToExcludeModal] = useState(false);\r\n  const [isImporting, setIsImporting] = useState(false);\r\n  const [isOverwriting, setIsOverwriting] = useState(false);\r\n  const [isOverriding, setIsOverriding] = useState(false);\r\n  const [importedTitlesToExclude, setImportedTitlesToExclude] = useState([]);\r\n  const [showImportTitlesToExcludeModal, setShowImportTitlesToExclude] = useState(false);\r\n  const [storedSelectedFile, setStoredSelectedFile] = useState();\r\n  const [storedImportActionType, setStoredImportActionType] = useState();\r\n  const [showOverrideExcludedTitlesModal, setShowOverrideExcludedTitlesModal] = useState(false);\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const [showConfirmExportModal, setShowConfirmExportModal] =  useState(false);\r\n  const [showConfirmImportModal, setShowConfirmImportModal] =  useState(false);\r\n\r\n  const handleGetUser = () => {\r\n    const { userId } = AuthService.getUserIdentity();\r\n\r\n    ProfileService.getUser(userId).then((response) => {\r\n      setTitleSource(response.data.organisationTitleSource);\r\n    });\r\n  };\r\n\r\n  const constructQueryString = (parameters) => {\r\n    const pagination = `?page=${\r\n      parameters.pageNumber ? parameters.pageNumber : 1\r\n    }&size=${parameters.pageSize ? parameters.pageSize : 50}`;\r\n\r\n    const titleName =\r\n      parameters.titleNameFilter && parameters.titleNameFilterValue\r\n        ? `&titleNameFilter=${parameters.titleNameFilter}&titleNameFilterValue=${parameters.titleNameFilterValue}`\r\n        : '';\r\n\r\n    const genre =\r\n      parameters.genreFilter && parameters.genreFilterValue\r\n        ? `&genreFilter=${parameters.genreFilter}&genreFilterValue=${parameters.genreFilterValue}`\r\n        : '';\r\n\r\n    const grade =\r\n      parameters.gradeFilter && parameters.gradeFilterValue\r\n        ? `&gradeFilter=${parameters.gradeFilter}&gradeFilterValue=${parameters.gradeFilterValue}`\r\n        : '';\r\n\r\n    const certificate =\r\n      parameters.certificateFilter && parameters.certificateFilterValue\r\n        ? `&certificateFilter=${parameters.certificateFilter}&certificateFilterValue=${parameters.certificateFilterValue}`\r\n        : '';\r\n\r\n    const year =\r\n      parameters.yearFilter && parameters.yearFilterValue\r\n        ? `&yearFilter=${parameters.yearFilter}&yearFilterValue=${parameters.yearFilterValue}`\r\n        : '';\r\n\r\n    const searchKey = parameters.searchKey\r\n      ? `&searchKey=${parameters.searchKey}`\r\n      : '';\r\n\r\n    const sort =\r\n      parameters.sortOrder && parameters.sortBy\r\n        ? `&columnSort=${parameters.sortBy}&sortBy=${parameters.sortOrder}`\r\n        : '';\r\n\r\n    const titleIds =\r\n      tableTwoData.length > 0\r\n        ? `&titleIds=${tableTwoData.map((title) => title.titleId).join(',')}`\r\n        : '';\r\n\r\n    const channelId = selectedChannel.channelId\r\n      ? `&channelId=${selectedChannel.channelId}`\r\n      : '';\r\n\r\n    let queryString = pagination\r\n      + titleName\r\n      + genre\r\n      + grade\r\n      + certificate\r\n      + year\r\n      + searchKey\r\n      +sort\r\n      + titleIds\r\n      + channelId;\r\n\r\n    if (queryString.includes('+')) {\r\n      queryString = queryString.replace('+', '%2B');\r\n    }\r\n\r\n    return queryString;\r\n  };\r\n\r\n  const handleSetTableParameters = (parameters) => {\r\n    setTableParameters({\r\n      titleNameFilter: parameters.titleNameFilter,\r\n      titleNameFilterValue: parameters.titleNameFilterValue,\r\n      genreFilter: parameters.genreFilter,\r\n      genreFilterValue: parameters.genreFilterValue,\r\n      gradeFilter: parameters.gradeFilter,\r\n      gradeFilterValue: parameters.gradeFilterValue,\r\n      certificateFilter: parameters.certificateFilter,\r\n      certificateFilterValue: parameters.certificateFilterValue,\r\n      yearFilter: parameters.yearFilter,\r\n      yearFilterValue: parameters.yearFilterValue,\r\n    });\r\n  };\r\n\r\n  const constructProgrammeTitles = (data) => {\r\n    let programmeTitles = [];\r\n\r\n    if (titleSource === 2) {\r\n      programmeTitles = data.map((item) => ({\r\n        titleId: item.titleId,\r\n        titleName: item.titleName,\r\n        duration: item.overrodeValues.duration || item.duration,\r\n        action: {\r\n          id: item.titleId,\r\n          icon: eyeIcon,\r\n          toolTip: 'View title details',\r\n          actionName: 'viewTitleDetailsFromTableOne',\r\n        },\r\n        \r\n        isHighlighted: item.overrode,\r\n      }));\r\n    } else {\r\n      programmeTitles = data.map((item) => ({\r\n        titleId: item.titleId,\r\n        titleName: item.titleName,\r\n        genre: item.overrodeValues.genre || item.genre,\r\n        duration: item.overrodeValues.duration || item.duration,\r\n        grade: item.overrodeValues.grade || item.grade,\r\n        certificate: item.overrodeValues.certificate || item.certificate,\r\n        year: item.overrodeValues.year || item.year,\r\n        action: {\r\n          id: item.titleId,\r\n          icon: eyeIcon,\r\n          toolTip: 'View title details',\r\n          actionName: 'viewTitleDetailsFromTableOne',\r\n        },\r\n        isHighlighted: item.overrode,\r\n      }));\r\n    }\r\n\r\n    setTableOneData(programmeTitles);\r\n  };\r\n\r\n  const checkIfDatesAreDefinite = (item) => {\r\n    let state = true;\r\n    for (let i = 0; i < item.length; i++) {\r\n      if(!item[i].endDate) {\r\n        state = false;\r\n        break;\r\n      }\r\n    }\r\n    return state;\r\n  };\r\n\r\n  const constructExcludedTitles = (data) => {\r\n    const excludedTitles = data?.map((item) => {\r\n      return ({\r\n        titleId: item.titleId,\r\n        titleName: item.titleName,\r\n        action2:{\r\n          id: item.titleId,\r\n          icon: checkIfDatesAreDefinite(item.effectivityDates) ? DefiniteCalendarIcon : IndefiniteCalendarIcon,\r\n          toolTip: item.effectivityDates.map((item) => (\r\n            (item.startDate ? DateService.toLocalDMYFormat(item.startDate) : 'Immediately')\r\n            + \" - \"\r\n            + (item.endDate ? DateService.toLocalDMYFormat(item.endDate) : 'Indefinitely')\r\n          )).join('\\n'),\r\n          actionName: 'modifyTitleEffectivityDates'\r\n        },\r\n        action: {\r\n          id: item.titleId,\r\n          icon: eyeIcon,\r\n          toolTip: 'View title details',\r\n          actionName: 'viewTitleDetailsFromTableTwo',\r\n        },\r\n        effectivityDates: item.effectivityDates.length > 0\r\n          ? item.effectivityDates.map((date, i) => {\r\n            const localStartDate = DateService.toLocalDMYFormat(date.startDate);\r\n            const localEndDate = DateService.toLocalDMYFormat(date.endDate);\r\n            const startDay = localStartDate?.split('/')[0];\r\n            const startMonth = localStartDate?.split('/')[1];\r\n            const startYear = localStartDate?.split('/')[2];\r\n            const endDay = localEndDate?.split('/')[0];\r\n            const endMonth = localEndDate?.split('/')[1];\r\n            const endYear = localEndDate?.split('/')[2];\r\n            const startDateWithoutTime = new Date(parseInt(startYear), parseInt(startMonth - 1), parseInt(startDay));\r\n            const endDateWithoutTime = new Date(parseInt(endYear), parseInt(endMonth - 1), parseInt(endDay));\r\n            const dateTodayWithoutTime = new Date();\r\n            startDateWithoutTime.setHours(0, 0, 0, 0);\r\n            dateTodayWithoutTime.setHours(0, 0, 0, 0);\r\n            endDateWithoutTime.setHours(0, 0, 0, 0);\r\n            return {\r\n              id: i,\r\n              startDate: date.startDate ? DateService.toFilterByLastSeen(date.startDate) : '',\r\n              endDate: date.endDate ? DateService.toFilterByLastSeen(date.endDate) : '',\r\n              historicalStartDate: !date.startDate || startDateWithoutTime < dateTodayWithoutTime,\r\n              historicalEndDate: date.startDate && endDateWithoutTime < dateTodayWithoutTime,\r\n            }\r\n          })\r\n          : [{ startDate: '', endDate: '' }],\r\n        isHighlighted: item.overrode,\r\n      })\r\n    });\r\n    setTableTwoData(excludedTitles);\r\n    return excludedTitles;\r\n  };\r\n\r\n  const constructVerbiage = () => {\r\n    const verbiageOne = {\r\n      show: !selectedChannel.channelName,\r\n      message: !selectedChannel.channelName ? verbiage[0].message : 'No programme titles found',\r\n    };\r\n    const verbiageTwo = {\r\n      show: tableTwoData.length === 0,\r\n      message: verbiage[1].message,\r\n    };\r\n\r\n    setVerbiage([verbiageOne, verbiageTwo]);\r\n  };\r\n\r\n  const handleGetProgrammeTitles = () => {\r\n    setIsFetchingTitles(true);\r\n    TitleExclusionService.getProgrammeTitles(\r\n      constructQueryString(queryParameters)\r\n    )\r\n      .then((response) => {\r\n        constructProgrammeTitles(response.data.data);\r\n\r\n        setPaginationParameters({\r\n          totalCount: response.data.totalData,\r\n          pageSize: response.data.size,\r\n          currentPage: response.data.page,\r\n          totalPages: response.data.totalPages,\r\n        });\r\n      })\r\n      .finally(() => setIsFetchingTitles(false));\r\n  };\r\n\r\n  const handleExportExcludedTitles = (proceed) => {\r\n    if (selectedChannel?.channelName && !isExporting && tableTwoData.length > 0) {\r\n      if (!isDirty || proceed) {\r\n        setIsExporting(true);\r\n        TitleExclusionService.exportExcludedTitles(selectedChannel.channelId)\r\n        .then((response) => {\r\n          const blob = new Blob([response.data], {\r\n            type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n          });\r\n          saveAs(\r\n            blob,\r\n            `${AuthService.getUserIdentity().organisationName}_op2mise_title_exclusion_export_${selectedChannel.channelName}_${DateService.toExportFormat(new Date())}.xlsx`\r\n          );\r\n          clearDirtyForm();\r\n        })\r\n        .finally(() => {\r\n          setIsExporting(false);\r\n          setShowConfirmExportModal(false);\r\n          if (proceed) setIsFetchingExcludedTitles(false);\r\n        });\r\n      } else {\r\n        setShowConfirmExportModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleGetExcludedTitles = (fromExport, fromDiscardAndImport, fromImport) => {\r\n    setIsFetchingExcludedTitles(true);\r\n    const queryString = selectedChannel.channelId ? `?channelID=${selectedChannel.channelId}` : '';\r\n    TitleExclusionService.getExcludedTitles(queryString)\r\n      .then((response) => {\r\n        const excludedTitles = constructExcludedTitles(response.data);\r\n        if (fromExport) handleExportExcludedTitles(true);\r\n        if (fromDiscardAndImport) handleImportTitlesToExclude(storedSelectedFile, storedImportActionType, true, excludedTitles);\r\n      })\r\n      .finally(() => {\r\n        setIsExcludedTitlesInitialLoaded(true);\r\n        if (!fromImport && !fromDiscardAndImport) setIsFetchingExcludedTitles(false);\r\n      });\r\n  };\r\n\r\n  const handleOnFilter = (selectedData) => {\r\n    setQueryParameters({ ...queryParameters, ...selectedData });\r\n  };\r\n\r\n  const handleOnClearFilter = () => {\r\n    setQueryParameters({\r\n      pageNumber: 1,\r\n      sortBy: queryParameters.sortBy,\r\n      sortOrder: queryParameters.sortOrder,\r\n      pageSize: queryParameters.pageSize,\r\n      searchKey: queryParameters.searchKey,\r\n    });\r\n  };\r\n\r\n  const handleOnSearch = (searchKey) => {\r\n    setQueryParameters({ ...queryParameters, searchKey, pageNumber: 1 });\r\n  };\r\n\r\n  const handleOnSort = ({ sortBy, sortOrder }) => {\r\n    setSortParameters({ order: sortOrder, sort: sortBy });\r\n    setQueryParameters({ ...queryParameters, sortBy, sortOrder, pageNumber: 1 });\r\n  };\r\n\r\n  const handleOnPaginate = (pageNumber, pageSize) => {\r\n    setQueryParameters({ ...queryParameters, pageNumber, pageSize });\r\n  };\r\n\r\n  const selectStartDate = (items) => {\r\n    setSelectedProgrammeTitles(items);\r\n  };\r\n\r\n  const selectEndDate = (items) => {\r\n    setSelectedProgrammeTitles(items);\r\n  };\r\n\r\n  const addDateRange = (items) => {\r\n    setSelectedProgrammeTitles(items);\r\n  };\r\n\r\n  const deleteDateRange = (items) => {\r\n    setSelectedProgrammeTitles(items);\r\n  };\r\n    \r\n  const handleOnAddSelected = (toAddItems) => {\r\n    setShouldClearSelected(false);\r\n    const mappedItems = toAddItems.map((item, i) => ({\r\n      titleId: item.titleId,\r\n      titleName: item.titleName,\r\n      action2:{\r\n        id: item.titleId,\r\n        icon: \"\",\r\n        toolTip: \"\",\r\n      },\r\n      action: {\r\n        id: item.titleId,\r\n        icon: item.titleId === viewedItemId ? eyeSlashIcon : eyeIcon,\r\n        toolTip: 'View title details',\r\n        actionName: 'viewTitleDetailsFromTableTwo',\r\n      },\r\n      isHighlighted: item.isHighlighted,\r\n      effectivityDates: [\r\n        {\r\n          id: i,\r\n          startDate: null,\r\n          endDate: null,\r\n          dayStart: null,\r\n          monthStart: null,\r\n          yearStart: null,\r\n          dayEnd: null,\r\n          monthEnd: null,\r\n          yearEnd: null,\r\n        }\r\n      ]\r\n    }));\r\n\r\n    setSelectedProgrammeTitles(mappedItems);\r\n    setExcludeTitleFormType('Create');\r\n  };\r\n\r\n  const transferToTableTwo = (data) => {\r\n    setShouldClearSelected(true);\r\n    const itemIndex = tableTwoData.findIndex(o => o.titleId === data[0].titleId);\r\n    if ((itemIndex > -1) && data.length === 1) {\r\n      const newItems = JSON.parse(JSON.stringify(tableTwoData));\r\n      newItems[itemIndex] = data[0];\r\n      newItems[itemIndex].action2 = {\r\n        id: newItems[itemIndex].titleId,\r\n        icon: checkIfDatesAreDefinite(newItems[itemIndex].effectivityDates) ? DefiniteCalendarIcon : IndefiniteCalendarIcon,\r\n        toolTip: newItems[itemIndex].effectivityDates.map((item) => (\r\n          (item.startDate ? DateService.toFilterByLastSeen(item.startDate) : 'Immediately')\r\n          + \" - \"\r\n          + (item.endDate ? DateService.toFilterByLastSeen(item.endDate) : 'Indefinitely')\r\n        )).join('\\n'),\r\n        actionName: 'modifyTitleEffectivityDates'\r\n      }\r\n      setTableTwoData(newItems);\r\n    } else {\r\n      const allItems = [ ...tableTwoData, ...data ];\r\n      constructExcludedTitles(allItems)\r\n    }\r\n    setShowSetDateModal(false);\r\n    setIsDirty(true);\r\n  };\r\n\r\n  const handleOnRemoveAll = () => {\r\n    setTableTwoData([]);\r\n    setIsDirty(true);\r\n  };\r\n\r\n  const handleOnRemoveSelected = (toRemoveItems) => {\r\n    const mappedToRemoveItems = toRemoveItems.map((item) => item.titleId);\r\n    const remainingItems = tableTwoData.filter(\r\n      (item) => !mappedToRemoveItems.includes(item.titleId)\r\n    );\r\n    setTableTwoData(remainingItems);\r\n    setIsDirty(true);\r\n  };\r\n\r\n  const handleSaveTitleExclusions = (fromDirtyForms, fromExport, fromImport) => {\r\n    setIsSaving(true);    \r\n    const parameters = {\r\n      channelId: selectedChannel.channelId,\r\n      titleExclusionDetails: tableTwoData.map((title) => ({\r\n        titleId: title.titleId,\r\n        effectivityDates: title.effectivityDates\r\n          ? title.effectivityDates.map((date) => {\r\n            const isStartDateString = typeof date.startDate === 'string';\r\n            const isEndDateString = typeof date.endDate === 'string';\r\n    \r\n            if (isStartDateString || isEndDateString) {\r\n              let [startDay, startMonth, startYear] = isStartDateString\r\n              ? date.startDate.split('/')\r\n              : [date.startDate, '', ''];\r\n\r\n              if (!isStartDateString) {\r\n                const currentDate = new Date(date.startDate);\r\n                startDay = currentDate.getDate().toString();\r\n                startMonth = (currentDate.getMonth() + 1).toString();\r\n                startYear = currentDate.getFullYear().toString();\r\n              }\r\n\r\n              const [endDay, endMonth, endYear] = isEndDateString ? date.endDate.split('/') : date.endDate;\r\n              return {\r\n                startDate: new Date(Date.UTC(startYear, parseInt(startMonth) - 1, startDay)),\r\n                endDate: new Date(Date.UTC(endYear, parseInt(endMonth) - 1, endDay)),\r\n              };\r\n            } else {\r\n              return {\r\n                startDate: date.startDate,\r\n                endDate: date.endDate,\r\n              };\r\n            }\r\n          })\r\n          : [],\r\n      })),\r\n    };\r\n\r\n    TitleExclusionService.saveTitleExclusions(parameters)\r\n      .then(() => {\r\n        setIsDirty(false);\r\n        if (!fromDirtyForms) handleGetExcludedTitles(false, false, true);\r\n        else {\r\n          clearDirtyForm();\r\n          confirmNavigation();\r\n        }\r\n        if (fromExport) handleExportExcludedTitles(true);\r\n        if (fromImport) handleImportTitlesToExclude(storedSelectedFile, storedImportActionType, true)\r\n        else success('Successfully updated title exclusions');\r\n      })\r\n      .finally(() => {\r\n        setIsSaving(false);\r\n        if (fromDirtyForms) hidePrompt();\r\n      });\r\n  };\r\n\r\n  const handleOnChangeTableTwoData = (data) => {\r\n    setShouldLoadTableOne(false);\r\n    setTableTwoData(data);\r\n  };\r\n\r\n  const constructToDefaultItems = (items) => {\r\n    setViewedItemId(null);\r\n    setViewedItem(null);\r\n    setTablesHeight(['371px', '371px']);\r\n\r\n    let data = items;\r\n    data = data.map((item) => ({\r\n      ...item,\r\n      action: { ...item.action, icon: eyeIcon },\r\n    }));\r\n\r\n    return data;\r\n  };\r\n\r\n  const handleGetProgrammeTitleDetails = (selectedId) => {\r\n    TitleExclusionService.getProgrammeTitleDetails(selectedId).then(\r\n      (response) => {\r\n        setViewedItem(response.data);\r\n      }\r\n    );\r\n  };\r\n\r\n  const constructItemsAfterViewingDetails = (items, selectedId) => {\r\n    setViewedItemId(selectedId);\r\n    handleGetProgrammeTitleDetails(selectedId);\r\n    setTablesHeight(['576px', '576px']);\r\n\r\n    let data = items;\r\n    data = data.map((item) =>\r\n      item.titleId === selectedId\r\n        ? {\r\n            ...item,\r\n            scrollTo: true,\r\n            action: { ...item.action, icon: eyeSlashIcon },\r\n          }\r\n        : {\r\n            ...item,\r\n            scrollTo: false,\r\n            action: { ...item.action, icon: eyeIcon },\r\n          }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  const viewTitleDetailsFromTableOne = (selectedId) => {\r\n    setTableTwoData(constructToDefaultItems(tableTwoData));\r\n\r\n    if (selectedId === viewedItemId) {\r\n      setTableOneData(constructToDefaultItems(tableOneData));\r\n    } else {\r\n      setTableOneData(\r\n        constructItemsAfterViewingDetails(tableOneData, selectedId)\r\n      );\r\n      setTimeout(() => {\r\n        setShouldTableOneScrollToView(true);\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const viewTitleDetailsFromTableTwo = (selectedId) => {\r\n    setTableOneData(constructToDefaultItems(tableOneData));\r\n\r\n    if (selectedId === viewedItemId) {\r\n      setTableTwoData(constructToDefaultItems(tableTwoData));\r\n    } else {\r\n      setTableTwoData(\r\n        constructItemsAfterViewingDetails(tableTwoData, selectedId)\r\n      );\r\n      setTimeout(() => {\r\n        setShouldTableTwoScrollToView(true);\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const modifyTitleEffectivityDates = (rowDetails) => {\r\n    const title = JSON.parse(JSON.stringify(rowDetails));\r\n    title.effectivityDates = title.effectivityDates\r\n    ? title.effectivityDates.sort((a, b) => (\r\n      new Date(a.startDate) - new Date(b.startDate)\r\n    ))\r\n    : [{\r\n        id: 0,\r\n        startDate: '',\r\n        endDate: '',\r\n      }];\r\n      \r\n    setSelectedProgrammeTitles([title]);\r\n    setShowSetDateModal(true);\r\n    setExcludeTitleFormType('Update');\r\n  };\r\n\r\n  const handleOnAction = (actionName, selectedId, rowDetails) => {\r\n    switch (actionName) {\r\n      case 'viewTitleDetailsFromTableOne':\r\n        viewTitleDetailsFromTableOne(selectedId);\r\n        break;\r\n      case 'viewTitleDetailsFromTableTwo':\r\n        viewTitleDetailsFromTableTwo(selectedId);\r\n        break;\r\n      case 'modifyTitleEffectivityDates':\r\n        modifyTitleEffectivityDates(rowDetails);\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n  \r\n  const handleShowModal = () => {\r\n    setShowSetDateModal(true);\r\n  }\r\n\r\n  const handleHideModal = () => {\r\n    setShowSetDateModal(false);\r\n  }\r\n\r\n  const onHideDetails = () => {\r\n    setViewedItem(null);\r\n    setViewedItemId(null);\r\n    setTablesHeight(['331px', '331px']);\r\n\r\n    const defaultTableOneData = tableOneData.map((item) => ({\r\n      ...item,\r\n      action: { ...item.action, icon: eyeIcon },\r\n    }));\r\n    const defaultTableTwoData = tableTwoData.map((item) => ({\r\n      ...item,\r\n      action: { ...item.action, icon: eyeIcon },\r\n    }));\r\n\r\n    setTableOneData(defaultTableOneData);\r\n    setTableTwoData(defaultTableTwoData);\r\n  };\r\n\r\n  const handleGetChannels = () => {\r\n    PrioritisationService.getChannels().then((response) => {\r\n      setChannels(response.data);\r\n    });\r\n  };\r\n\r\n  const handleOnSelectChannel = (channel, proceed) => {\r\n    if (isDirty && !proceed) {\r\n      setNextChannel(channel);\r\n      setShowConfirmLeaveModal(true);\r\n    } else {\r\n      setSelectedChannel(channel);\r\n      setQueryParameters({ ...queryParameters, channelId: channel.channelId });\r\n      handleSaveTitleExclusionSession(channel.channelId);\r\n    }\r\n  };\r\n\r\n  const handleGetTitleExclusionSession = () => {\r\n    TitleExclusionService.getTitleExclusionSession()\r\n    .then((response) => {\r\n      setQueryParameters({ ...queryParameters, channelId: response.data.channelId })\r\n      setSelectedChannel(response.data);\r\n      setIsFetchingTitles(false);\r\n      setIsFetchingExcludedTitles(false);\r\n    });\r\n  };\r\n\r\n  const handleSaveTitleExclusionSession = (channelId) => {\r\n    TitleExclusionService.saveTitleExclusionSession({ channelId });\r\n  };\r\n\r\n  const onHideConfirmLeaveModal = () => {\r\n    setShowConfirmLeaveModal(false);\r\n  };\r\n\r\n  const clearDirtyForm = () => {\r\n    setIsDirty(false);\r\n    setNextChannel({});\r\n  }\r\n\r\n  const handleOnDiscardChanges = () => {\r\n    setShowConfirmLeaveModal(false);\r\n    handleOnSelectChannel(nextChannel, true);\r\n    clearDirtyForm();\r\n  };\r\n\r\n  const handleOnSaveChanges = () => {\r\n    handleSaveTitleExclusions(true);\r\n    setSelectedChannel(nextChannel);\r\n    setShowConfirmLeaveModal(false);\r\n  };\r\n\r\n  const openImportTitleToExcludeModal = () => {\r\n    if (selectedChannel?.channelName) setShowTitleToExcludeModal(true);\r\n  };\r\n\r\n  const closeImportTitleToExcludeModal = () => {\r\n    setShowTitleToExcludeModal(false);\r\n  };\r\n\r\n  const combineEffectivityDatesOfDuplicateTitles = (dataFromImport, dataFromTableTwo) => {\r\n    const uniqueTitles = {};\r\n    const importedData = dataFromImport.filter((title) => title.imported);\r\n    const allData = [...importedData, ...(dataFromTableTwo ? dataFromTableTwo : [])];\r\n\r\n    allData.forEach(title => {\r\n      const { titleId } = title;\r\n  \r\n      if (!uniqueTitles[titleId]) {\r\n        uniqueTitles[titleId] = {\r\n          ...title,\r\n          effectivityDates: [],\r\n        };\r\n      }\r\n  \r\n      if (title.imported) {\r\n        uniqueTitles[titleId].effectivityDates.push({\r\n          id: uniqueTitles[titleId].effectivityDates.length + 1,\r\n          startDate: moment.utc(title.startDate, 'DD/MM/YYYY'),\r\n          endDate: moment.utc(title.endDate, 'DD/MM/YYYY'),\r\n        });\r\n      } else {\r\n        uniqueTitles[titleId].effectivityDates.push(...title.effectivityDates);\r\n      }\r\n    });\r\n    \r\n  \r\n    const combinedTitles = Object.values(uniqueTitles);\r\n    return combinedTitles;\r\n  };\r\n\r\n  const executeImportTitlesToExclude = (data, actionType, excludedTitles) => {\r\n    setImportedTitlesToExclude(data);\r\n    const itemsToExclude = actionType !== 2\r\n      ? combineEffectivityDatesOfDuplicateTitles(data)\r\n      : combineEffectivityDatesOfDuplicateTitles(data, (excludedTitles || tableTwoData));\r\n    constructExcludedTitles(itemsToExclude);\r\n  };\r\n\r\n  const closeOverrideImportTitlesToExcludeModal = () => {\r\n    setShowOverrideExcludedTitlesModal(false);\r\n  };\r\n\r\n  const handleImportTitlesToExclude = (file, actionType, proceed, excludedTitles) => {\r\n    if (tableTwoData.length > 0 && !actionType) {\r\n      setStoredSelectedFile(file);\r\n      setShowTitleToExcludeModal(false);\r\n      setShowOverrideExcludedTitlesModal(true);\r\n    } else {\r\n      if (isDirty && !proceed && actionType === 2) {\r\n        setStoredSelectedFile(file);\r\n        setStoredImportActionType(actionType);\r\n        setShowConfirmImportModal(true);\r\n        setShowImportTitlesToExclude(false);\r\n        setShowOverrideExcludedTitlesModal(false);\r\n      } else {\r\n        setIsImporting(true);\r\n        if (actionType === 1) setIsOverwriting(true);\r\n        if (actionType === 2) setIsOverriding(true);\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        TitleExclusionService.importTitlesToExclude(\r\n          formData,\r\n          file.name.split('.').pop(),\r\n          selectedChannel.channelId,\r\n          actionType === 2,\r\n        ).then((response) => {\r\n          executeImportTitlesToExclude(response.data, actionType, excludedTitles);\r\n          setIsDirty(true);\r\n          setShowImportTitlesToExclude(true);\r\n          if (proceed) {\r\n            success('Successfully updated and imported title exclusion');\r\n            setIsFetchingExcludedTitles(true);\r\n          }\r\n        }).catch((error) => {\r\n          danger(error.response.data.message);\r\n        }).finally(() => {\r\n          setIsImporting(false);\r\n          setIsOverwriting(false);\r\n          setIsOverriding(false);\r\n          setShowTitleToExcludeModal(false);\r\n          if (proceed) setIsFetchingExcludedTitles(false);\r\n          setShowConfirmImportModal(false);\r\n          setShowOverrideExcludedTitlesModal(false);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOverwriteExcludedTitles = () => {\r\n    handleImportTitlesToExclude(storedSelectedFile, 1, false);\r\n  };\r\n\r\n  const handleOverrideExcludedTitles = () => {\r\n    handleImportTitlesToExclude(storedSelectedFile, 2, false);\r\n  };\r\n\r\n  const handleDownloadSampleTemplate = () => {\r\n    TitleExclusionService.exportSampleTitleExclusionExcelTemplate()\r\n    .then((response) => {\r\n      const blob = new Blob([response.data], {\r\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      });\r\n      saveAs(blob, 'title-exclusion-sample-template.xlsx');\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleGetUser();\r\n    handleGetChannels();\r\n    handleGetTitleExclusionSession();\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isExcludedTitlesInitialLoaded && shouldLoadTableOne && titleSource && selectedChannel.channelId) {\r\n      handleSetTableParameters(queryParameters);\r\n      handleGetProgrammeTitles();\r\n    }\r\n\r\n    setShouldLoadTableOne(true);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [queryParameters, tableTwoData.length, isExcludedTitlesInitialLoaded, titleSource, selectedChannel]);\r\n\r\n  useEffect(() => {\r\n    if (selectedChannel.channelId) {\r\n      handleGetExcludedTitles();\r\n    }\r\n  }, [selectedChannel]);\r\n\r\n  useEffect(() => {\r\n    constructVerbiage();\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [tableTwoData, selectedChannel]);\r\n\r\n  return (\r\n    <>\r\n      <BannerComponent\r\n        componentName=\"Title Exclusions\"\r\n        isAddButtonHidden\r\n        isSearchHidden\r\n      />\r\n      <hr style={{ borderTop: '1px  solid #b1b1b1', marginBottom: '8px' }} />\r\n\r\n      <div className={styles.selectChannel}>\r\n        <label className={styles.selectChannelLabel}>Channel: </label>\r\n        <SelectComponent\r\n          text={selectedChannel.channelName || 'Please select a channel'}\r\n          list={channels}\r\n          onSelect={handleOnSelectChannel}\r\n          width=\"300px\"\r\n          withSearch\r\n        />\r\n\r\n        <img\r\n          className={`${styles.uploadFileIcon} ${!selectedChannel?.channelName ? styles.disabledUploadFileIcon : ''}`}\r\n          title=\"Import titles to exclude\"\r\n          src={uploadFileIcon}\r\n          onClick={openImportTitleToExcludeModal}\r\n        />\r\n\r\n        <img\r\n          className={`${styles.downloadFileIcon}\r\n          ${tableTwoData.length === 0 ? styles.disabledDownloadFileIcon : ''} ${isExporting ? styles.isExportingDownloadFileIcon : ''}`}\r\n          src={downloadFileIcon}\r\n          title=\"Export the excluded programme titles\"\r\n          onClick={() => handleExportExcludedTitles(false)}\r\n        />\r\n      </div>\r\n\r\n      <div style={{ marginTop: '15px', marginBottom: '7px' }}>\r\n        <DualTable\r\n          tableHeaders={[\r\n            titleSource === 1\r\n            ? tableOneHeader\r\n            : tableOneImportHeader,\r\n            tableTwoHeader\r\n          ]}\r\n          tableDatas={[tableOneData, tableTwoData]}\r\n          tablesHeight={tablesHeight}\r\n          tableLabels={tableLabels}\r\n          noDataVerbiage={verbiage}\r\n          isFetchingDatas={[isFetchingTitles, isFetchingExcludedTitles]}\r\n          tableParameters={tableParameters}\r\n          sortParameters={sortParameters}\r\n          paginationParameters={paginationParameters}\r\n          onFilter={handleOnFilter}\r\n          onClearFilters={handleOnClearFilter}\r\n          onSearch={handleOnSearch}\r\n          onSort={handleOnSort}\r\n          onPaginate={handleOnPaginate}\r\n          onAddSelected={handleOnAddSelected}\r\n          onRemoveAll={handleOnRemoveAll}\r\n          onRemoveSelected={handleOnRemoveSelected}\r\n          onChangeTableTwoData={handleOnChangeTableTwoData}\r\n          onAction={handleOnAction}\r\n          shouldScrollToView={[\r\n            shouldTableOneScrollToView,\r\n            shouldTableTwoScrollToView,\r\n          ]}\r\n          setShouldScrollToView={[\r\n            setShouldTableOneScrollToView,\r\n            setShouldTableTwoScrollToView,\r\n          ]}\r\n          onShowSetDateModal={handleShowModal}\r\n          shouldClearSelected={shouldClearSelected}\r\n        />\r\n      </div>\r\n\r\n      <ShowSetTitleExclusionDateModalComponent\r\n        show={showSetDateModal}\r\n        hideModal={handleHideModal}\r\n        formType={excludeTitleFormType}\r\n        selectedProgrammeTitleList={selectedProgrammeTitles}\r\n        selectStartDate={selectStartDate}\r\n        selectEndDate={selectEndDate}\r\n        onAddDateRange={addDateRange}\r\n        onDeleteRange={deleteDateRange}\r\n        onAddTitles={transferToTableTwo}\r\n\r\n      />\r\n\r\n      {viewedItemId && viewedItem && (\r\n        <>\r\n          {titleSource === 1 ? (\r\n            <ProgramDetailsComponent\r\n              component=\"Title Group\"\r\n              program={viewedItem}\r\n              callbackCloseDetails={onHideDetails}\r\n            />\r\n          ) : (\r\n            <ImportProgramDetailsComponent\r\n              component=\"Title Group\"\r\n              program={viewedItem}\r\n              callbackCloseDetails={onHideDetails}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      <div style={{ textAlign: 'right', marginTop: '8px' }}>\r\n        <Button\r\n          isLoading={isSaving}\r\n          text=\"Save\"\r\n          disabled={!isDirty}\r\n          onClick={handleSaveTitleExclusions}\r\n        />\r\n      </div>\r\n\r\n      <ConfirmExportModal\r\n        show={showConfirmExportModal}\r\n        onHide={() => setShowConfirmExportModal(false)}\r\n        onDiscard={() => handleGetExcludedTitles(true)}\r\n        onExport={() => handleSaveTitleExclusions(false, true)}\r\n        isExporting={isExporting}\r\n      />\r\n\r\n      <ConfirmImportModal\r\n        show={showConfirmImportModal}\r\n        onHide={() => setShowConfirmImportModal(false)}\r\n        onDiscard={() => handleGetExcludedTitles(false, true)}\r\n        onImport={() => handleSaveTitleExclusions(false, false, true)}\r\n        isImporting={isSaving || isImporting}\r\n      />\r\n\r\n      <ImportModal\r\n        title=\"Import titles to exclude\"\r\n        show={showTitleToExcludeModal}\r\n        onImport={handleImportTitlesToExclude}\r\n        onHide={closeImportTitleToExcludeModal}\r\n        onClickSampleTemplate={handleDownloadSampleTemplate}\r\n        isImporting={isImporting}\r\n      />\r\n\r\n      <ImportTitleToExcludeResultModal\r\n        data={importedTitlesToExclude}\r\n        show={showImportTitlesToExcludeModal}\r\n        onHide={() => setShowImportTitlesToExclude(false)}\r\n      />\r\n\r\n      <OverrideExcludedTitlesModal\r\n        show={showOverrideExcludedTitlesModal}\r\n        onHide={closeOverrideImportTitlesToExcludeModal}\r\n        onOverwrite={handleOverwriteExcludedTitles}\r\n        onOverride={handleOverrideExcludedTitles}\r\n        isOverwriting={isOverwriting}\r\n        isOverriding={isOverriding}\r\n      />\r\n\r\n      {/* When changing selected channel inside the page */}\r\n      <ConfirmLeavePageModalComponent\r\n        show={showConfirmLeaveModal}\r\n        onDiscard={handleOnDiscardChanges}\r\n        onSave={handleOnSaveChanges}\r\n        onHide={onHideConfirmLeaveModal}\r\n        isSaving={isSaving}\r\n      />\r\n\r\n      {/* When leaving outside the page */}\r\n      <ConfirmLeavePageModalComponent\r\n        show={showPrompt}\r\n        onDiscard={confirmNavigation}\r\n        onSave={() => handleSaveTitleExclusions(true)}\r\n        onHide={cancelNavigation}\r\n        isSaving={isSaving}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TitleExclusionComponent;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dateInput\":\"styles_dateInput__T4igz\",\"dateInputWrapper\":\"styles_dateInputWrapper__JFOLF\",\"dayInput\":\"styles_dayInput__kWYrH\",\"monthInput\":\"styles_monthInput__CpknJ\",\"yearInput\":\"styles_yearInput__2I+id\",\"inputDivider\":\"styles_inputDivider__E1qa5\",\"invalidInput\":\"styles_invalidInput__jRCSu\",\"errorMessage\":\"styles_errorMessage__TNcHK\",\"disabledInput\":\"styles_disabledInput__w4mu9\"};","import { forwardRef, useEffect, useRef, useState } from 'react';\r\nimport moment from 'moment';\r\nimport styles from './styles.module.css';\r\n\r\nconst CustomDateInput = forwardRef(({\r\n    value,\r\n    dayStart,\r\n    monthStart,\r\n    yearStart,\r\n    dayEnd,\r\n    monthEnd,\r\n    yearEnd,\r\n    onChange,\r\n    disabled,\r\n    validate,\r\n    onValidate,\r\n    requiredDateMessage,\r\n    exceededDateMessage,\r\n    min,\r\n    max,\r\n    autoFocus,\r\n    width,\r\n}, ref) => {\r\n    const dayInputRef = useRef();\r\n    const monthInputRef = useRef();\r\n    const yearInputRef = useRef();\r\n    const [isChanged, setIsChanged] = useState(false);\r\n    const [day, setDay] = useState('');\r\n    const [month, setMonth] = useState('');\r\n    const [year, setYear] = useState('');\r\n    const [changeTimes, setChangeTimes] = useState(0);\r\n    const [isDateInvalid, setIsDateInvalid] = useState(false);\r\n    const shouldValidate = typeof onValidate === 'function' && validate;\r\n\r\n    // Restricting characters that is not convertable to number\r\n    const getNumbersOnly = (string) => {\r\n        const stringArray = string.split('');\r\n        const result = stringArray.filter((char) => (\r\n            !isNaN(char) && !isNaN(parseFloat(char))\r\n        ));\r\n        return result.join('');\r\n    }\r\n\r\n    // Change cursor\r\n    const focusToDay = () => {\r\n        setTimeout(() => {\r\n            dayInputRef.current.focus();\r\n            dayInputRef.current.select();\r\n        }, 0);\r\n    };\r\n\r\n    const focusToMonth = () => {\r\n        setTimeout(() => {\r\n            monthInputRef.current.focus();\r\n            monthInputRef.current.select();\r\n        }, 0);\r\n    };\r\n\r\n    const focusToYear = () => {\r\n        setTimeout(() => {\r\n            yearInputRef.current.focus();\r\n            yearInputRef.current.select();\r\n        }, 0);\r\n    };\r\n\r\n    const handleOnFocus = (e) => e.target.select();\r\n\r\n    const handleOnClick = (e) => {\r\n        e.stopPropagation();\r\n        const name = e.target.name;\r\n        if (name === 'day') focusToDay();\r\n        if (name === 'month') focusToMonth();\r\n        if (name === 'year') focusToYear();\r\n    }\r\n\r\n    const handleOnBlur = (e) => \r\n    {\r\n        if(e.target.name === \"year\")\r\n        {\r\n            if(!isLeapYear(e.target.value) && month === \"02\")\r\n            {\r\n                const lastDayOfTheMonth = getLastDayOfTheMonth(parseInt(\"02\"));\r\n            if (day > lastDayOfTheMonth) setDay(lastDayOfTheMonth);\r\n            }\r\n            if(isLeapYear(e.target.value) && month === \"02\"){\r\n               if(parseInt(day) > 29)\r\n               {\r\n                setDay(\"29\");\r\n               }\r\n            }\r\n\r\n            if(month !== \"02\")\r\n            {\r\n                const lastDayOfTheMonth = getLastDayOfTheMonth(month);\r\n                if (day > lastDayOfTheMonth) setDay(lastDayOfTheMonth);\r\n            }\r\n        }\r\n\r\n        setChangeTimes(0);\r\n    }\r\n\r\n    // Checking and setting values\r\n    const isTwoDigit = (value) => value.length === 3;\r\n\r\n    const isFourDigit = (value) => value.length === 5;\r\n\r\n    const getLastDayOfTheMonth = (monthIndex) => {\r\n        const dateToday = new Date(new Date().getFullYear(), monthIndex, 0);\r\n        return dateToday.getDate();\r\n    };\r\n\r\n    const padDayMonth = (value) => {\r\n        if (value.toString().length === 1) return `0${value}`;\r\n        else if (value[0] === '0') return value.substring(1, 3);\r\n        else return value;\r\n    };\r\n\r\n    const padYear = (value) => {\r\n        if (value.length === 1) return `000${value}`;\r\n        else if (value.length === 2) return `00${value}`;\r\n        else if (value.length === 3) return `0${value}`;\r\n        else if (value.length === 5 && value[0] === '0') return value.substring(1, 5);\r\n        else return value;\r\n    };\r\n\r\n    const isLeapYear = (year) => {\r\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n      }\r\n      \r\n    const isValueValid = (value, inputName) => {\r\n        const number = parseInt(value);\r\n        if (inputName === 'day') {\r\n            let lastDay = month ? getLastDayOfTheMonth(parseInt(month)) : 31;\r\n\r\n            if(parseInt(month) === 2 && isLeapYear(year))\r\n            {\r\n                lastDay = lastDay + 1;\r\n            }\r\n            return number <= lastDay;\r\n        }\r\n        if (inputName === 'month') return number <= 12;\r\n        return true;\r\n    };\r\n\r\n    const handleOnChange = (e) => {        \r\n        const name = e.target.name;\r\n        const isNotYear = ['day', 'month'].includes(name);\r\n        let value = getNumbersOnly(e.target.value);\r\n        if (isNotYear) value = padDayMonth(value);\r\n        else value = padYear(value);\r\n        const isFirstDigitZero = value[0] === '0';\r\n        const isNotValid = value && !isValueValid(value, name);\r\n\r\n        if ((changeTimes === 1 || value.length === 3) && (value.length === 2 || isNotValid)) {\r\n            if (name === 'day') focusToMonth();\r\n            else focusToYear();\r\n        }\r\n        \r\n        if (isNotYear) {\r\n            if (!isFirstDigitZero && (isTwoDigit(value) || isNotValid)) return false;\r\n        } else {\r\n            if (!isFirstDigitZero && (isFourDigit(value) || isNotValid)) return false;\r\n        }\r\n\r\n        if (name === 'day') {\r\n            setDay(value);\r\n        } else if (name === 'month') {\r\n            setMonth(value);\r\n        } else {\r\n            setYear(value);\r\n        }\r\n        setChangeTimes(changeTimes + 1);\r\n        setIsChanged(true);\r\n    };\r\n\r\n    const constructDate = (value) => {\r\n        const date = new Date(value);\r\n        const dateValue = date.getDate();\r\n        const monthValue = date.getMonth() + 1;\r\n        const yearValue = date.getFullYear();\r\n        const padDateValue = padDayMonth(dateValue);\r\n        const padMonthValue = padDayMonth(monthValue);\r\n        const padYearValue = padYear(yearValue);\r\n        setDay(padDateValue);\r\n        setMonth(padMonthValue);\r\n        setYear(padYearValue);\r\n    };\r\n\r\n    const checkIfBeforeMin = (date) => {\r\n        const minDate = new Date(min);\r\n        minDate.setHours(0);\r\n        minDate.setMinutes(0);\r\n        minDate.setSeconds(0);\r\n        minDate.setMilliseconds(0);\r\n        return date < minDate;\r\n    }\r\n\r\n    const checkIfAfterMax = (date) => {\r\n        const maxDate = new Date(max);\r\n        maxDate.setHours(0);\r\n        maxDate.setMinutes(0);\r\n        maxDate.setSeconds(0);\r\n        maxDate.setMilliseconds(0);\r\n        return date > maxDate;\r\n    }\r\n\r\n    const checkPeriod = (date) => {\r\n        const isBeforeMin = min && checkIfBeforeMin(date);\r\n        const isAfterMax = max && checkIfAfterMax(date);\r\n        return isBeforeMin || isAfterMax;\r\n    };\r\n\r\n    // Keyboard arrow navigations\r\n    const onKeyDownDay = (e) => {\r\n        if (e.key === 'ArrowRight') focusToMonth();\r\n        if (e.key === 'ArrowUp') {\r\n            let incremented = parseInt(day) + 1;\r\n            if (incremented <= getLastDayOfTheMonth(month)) setDay(padDayMonth(incremented.toString()));\r\n        }\r\n        if (e.key === 'ArrowDown') {\r\n            let decremented = parseInt(day) - 1;\r\n            if (decremented >= 1) setDay(padDayMonth(decremented.toString()));\r\n        }\r\n        if (e.key === 'Backspace') {\r\n            setDay('');\r\n            setChangeTimes(0);\r\n            setIsChanged(true);\r\n        }\r\n    };\r\n\r\n    const onKeyDownMonth = (e) => {\r\n        if (e.key === 'ArrowRight') focusToYear();\r\n        if (e.key === 'ArrowLeft') focusToDay();\r\n        if (e.key === 'ArrowUp') {\r\n            let incremented = parseInt(month) + 1;\r\n            if (incremented <= 12) setMonth(padDayMonth(incremented.toString()));\r\n        }\r\n        if (e.key === 'ArrowDown') {\r\n            let decremented = parseInt(month) - 1;\r\n            const lastDayOfTheMonth = getLastDayOfTheMonth(decremented);\r\n            if (decremented >= 1) setMonth(padDayMonth(decremented.toString()));\r\n            if (day > lastDayOfTheMonth) setDay(lastDayOfTheMonth);\r\n        }\r\n        if (e.key === 'Backspace') {\r\n            setMonth('');\r\n            setChangeTimes(0);\r\n            setIsChanged(true);\r\n        }\r\n    };\r\n\r\n    const onKeyDownYear = (e) => {\r\n        if (e.key === 'ArrowLeft') focusToMonth();\r\n        if (e.key === 'ArrowUp') {\r\n            let incremented = parseInt(year) + 1;\r\n            if (incremented <= 9999) setYear(padYear(incremented.toString()));\r\n        }\r\n        if (e.key === 'ArrowDown') {\r\n            let decremented = parseInt(year) - 1;\r\n            if (decremented >= 0) setYear(padYear(decremented.toString()));\r\n        }\r\n        if (e.key === 'Backspace') {\r\n            setYear('');\r\n            setIsChanged(true);\r\n        }\r\n    };\r\n\r\n    const getMonthInputWidth = (month) => {\r\n        const value = month.toString();\r\n        if (value === '11') return '10px';\r\n        if (['01', '10'].includes(value)) return '13px';\r\n        if (value === '07') return '16px';\r\n        if (value.includes('0')) return '17px';\r\n        if (value === '12') return '13px';\r\n        return '19px';\r\n    };\r\n\r\n    useEffect(() => {\r\n        if ((value && !isChanged) || !day || !month || !year) {\r\n            const isValidDate = value && moment(value).isValid();\r\n            if (isValidDate)\r\n            {\r\n                constructDate(value);\r\n            } \r\n            else {\r\n                dayStart && setDay(dayStart);\r\n                dayEnd && setDay(dayEnd);\r\n                monthStart && setMonth(monthStart);\r\n                monthEnd && setMonth(monthEnd);\r\n                yearStart && setYear(yearStart);\r\n                yearEnd && setYear(yearEnd);\r\n            }\r\n        }\r\n    }, [value]);\r\n\r\n    useEffect(() => {\r\n        if (isChanged) {\r\n            if (day && month && year && day !== '00' && month !== '00' && year !== '0000') {\r\n                const date = new Date(\r\n                    parseInt(year),\r\n                    parseInt(month) - 1,\r\n                    parseInt(day),\r\n                    0,\r\n                    0,\r\n                    0,\r\n                    0,\r\n                );\r\n                if (typeof onChange === 'function') \r\n                {\r\n                    onChange(date);\r\n                }\r\n                const state = checkPeriod(date);\r\n                setIsDateInvalid(state);\r\n                if (typeof onValidate === 'function') onValidate(state);\r\n            } else {\r\n                if (typeof onChange === 'function')\r\n                {\r\n                    onChange(null, day, month, year);\r\n                } \r\n            }\r\n        }\r\n    }, [day, month, year]);\r\n\r\n    useEffect(() => {\r\n        if (autoFocus) focusToDay();\r\n    }, [autoFocus]);\r\n\r\n    return (\r\n        <div className={styles.dateInput} style={{ width }}>\r\n            <div\r\n                ref={ref}\r\n                className={`${styles.dateInputWrapper} ${(shouldValidate && (!value || isDateInvalid)) && !disabled ? styles.invalidInput : ''} ${disabled ? styles.disabledInput : ''}`}\r\n                style={{ width }}\r\n                onClick={focusToDay}\r\n            >\r\n                <input\r\n                    ref={dayInputRef}\r\n                    className={styles.dayInput}\r\n                    style={{ marginLeft: day && '-5px' }}\r\n                    value={day}\r\n                    name=\"day\"\r\n                    type=\"text\"\r\n                    placeholder=\"DD\"\r\n                    onChange={handleOnChange}\r\n                    onKeyDown={onKeyDownDay}\r\n                    onFocus={handleOnFocus}\r\n                    onClick={handleOnClick}\r\n                    onBlur={handleOnBlur}\r\n                    disabled={disabled}\r\n                    autoComplete=\"off\"\r\n                />\r\n                <span className={styles.inputDivider}>/</span>\r\n                <input\r\n                    ref={monthInputRef}\r\n                    className={styles.monthInput}\r\n                    value={month}\r\n                    name=\"month\"\r\n                    type=\"text\"\r\n                    placeholder=\"MM\"\r\n                    onChange={handleOnChange}\r\n                    onKeyDown={onKeyDownMonth}\r\n                    onFocus={handleOnFocus}\r\n                    onClick={handleOnClick}\r\n                    onBlur={handleOnBlur}\r\n                    disabled={disabled}\r\n                    autoComplete=\"off\"\r\n                    style={{ width: getMonthInputWidth(month)}}\r\n                />\r\n                <span className={styles.inputDivider}>/</span>\r\n                <input\r\n                    ref={yearInputRef}\r\n                    className={styles.yearInput}\r\n                    value={year}\r\n                    name=\"year\"\r\n                    type=\"text\"\r\n                    placeholder=\"YYYY\"\r\n                    onChange={handleOnChange}\r\n                    onKeyDown={onKeyDownYear}\r\n                    onFocus={handleOnFocus}\r\n                    onClick={handleOnClick}\r\n                    onBlur={handleOnBlur}\r\n                    disabled={disabled}\r\n                    autoComplete=\"off\"\r\n                />\r\n            </div>\r\n            {!value && !disabled && shouldValidate && (\r\n                <span className={styles.errorMessage}>{requiredDateMessage || 'Date is required'}</span>\r\n            )}\r\n            {isDateInvalid && value && !disabled && shouldValidate && (\r\n                <span className={styles.errorMessage}>{exceededDateMessage || 'Date exceeded date period'}</span>\r\n            )}\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default CustomDateInput;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dateRange\":\"styles_dateRange__0PJkz\",\"dateInput\":\"styles_dateInput__HjJbJ\",\"startDateWrapper\":\"styles_startDateWrapper__5WQVY\",\"endDateWrapper\":\"styles_endDateWrapper__d6kO1\",\"dateRangeWrapper\":\"styles_dateRangeWrapper__BlW6u\",\"label\":\"styles_label__JA+3W\",\"errorMessage\":\"styles_errorMessage__A6htc\",\"labelLeft\":\"styles_labelLeft__BqCFV\",\"spaceBetween\":\"styles_spaceBetween__AfqRa\"};","import { forwardRef, useEffect, useRef, useState } from 'react';\r\nimport CustomDateInput from '../custom-date-input/CustomDateInput';\r\nimport styles from './styles.module.css';\r\nimport { NavItem } from 'react-bootstrap';\r\n\r\nconst CustomDateRangeInput = forwardRef(({\r\n    startSettings = {\r\n        value: null,\r\n        label: '',\r\n        labelLeft: false,\r\n        disabled: false,\r\n        required: false,\r\n        width: null,\r\n    },\r\n    endSettings = {\r\n        value: null,\r\n        label: '',\r\n        labelLeft: false,\r\n        disabled: false,\r\n        required: false,\r\n        width: null,\r\n    },\r\n    min,\r\n    max,\r\n    validate,\r\n    onValidate,\r\n    onChange,\r\n    invalidDateMessage,\r\n}, ref) => {\r\n    const startRef = useRef();\r\n    const endRef = useRef();\r\n    const [startDate, setStartDate] = useState(null);\r\n    const [endDate, setEndDate] = useState(null);\r\n    const [dayStart, setDayStart] = useState(null);\r\n    const [dayEnd, setDayEnd] = useState(null);\r\n    const [monthStart, setMonthStart] = useState(null);\r\n    const [monthEnd, setMonthEnd] = useState(null);\r\n    const [yearStart, setYearStart] = useState(null);\r\n    const [yearEnd, setYearEnd] = useState(null);\r\n    const [isDateInvalid, setIsDateInvalid] = useState(false);\r\n    const shouldValidate = typeof onValidate === 'function' && validate;\r\n    const invalidDateRange = isDateInvalid && !startSettings.disabled && !endSettings.disabled && shouldValidate;\r\n    const invalidStartDate = !startSettings.disabled && !startDate && startSettings.required && shouldValidate;\r\n    const invalidEndDate = !endSettings.disabled && !endDate && endSettings.required && shouldValidate;\r\n\r\n    // Setting values\r\n    const handleOnChange = (name, value, day, month, year) => {\r\n        if (name === 'start') setStartDate(value);\r\n        else setEndDate(value);\r\n\r\n        if (typeof onChange === 'function') {\r\n            onChange({\r\n                start: name === 'start' ? value : startDate,\r\n                end: name === 'end' ? value : endDate,\r\n                dayStart: name === 'start' ? day : dayStart,\r\n                monthStart: name === 'start' ? month : monthStart,\r\n                yearStart: name === 'start' ? year : yearStart,\r\n                end: name === 'end' ? value : endDate,\r\n                dayEnd: name === 'end' ? day : dayEnd,\r\n                monthEnd: name === 'end' ? month : monthEnd,\r\n                yearEnd: name === 'end' ? year : yearEnd,\r\n            })\r\n        }\r\n    };\r\n\r\n    // Check dates\r\n    const isDateRangeInvalid = () => {\r\n        return (startDate && ((min && startDate < min) || (max && startDate > max))) // compare start to min and max\r\n            || (startDate && endDate && startDate > endDate) // compare start to end\r\n            || (endDate && max && (endDate < min || endDate > max)); // compare end to min and max\r\n    };\r\n\r\n    useEffect(() => {\r\n        const isInvalid = isDateRangeInvalid();\r\n        setIsDateInvalid(isInvalid);\r\n        if (shouldValidate) onValidate(isInvalid);\r\n    }, [startDate, endDate]);\r\n\r\n    useEffect(() => {\r\n        setStartDate(startSettings.value);\r\n        setEndDate(endSettings.value);\r\n        setDayStart(startSettings.dayStart);\r\n        setDayEnd(endSettings.dayEnd);\r\n        setMonthStart(startSettings.monthStart);\r\n        setMonthEnd(endSettings.monthEnd);\r\n        setYearStart(startSettings.yearStart);\r\n        setYearEnd(endSettings.yearEnd);\r\n    }, [startSettings, endSettings]);\r\n\r\n    return (\r\n        <div className={styles.dateRange}>\r\n            <div ref={ref} className={styles.dateRangeWrapper}>\r\n                <div\r\n                    className={`${styles.startDateWrapper} ${startSettings.labelLeft && styles.labelLeft}`}\r\n                >\r\n                    {startSettings.label !== null && (\r\n                        <span className={styles.label}>{startSettings.label || 'Start'}</span>\r\n                    )}\r\n                    <div className={styles.dateInput}>\r\n                        <CustomDateInput\r\n                            ref={startRef}\r\n                            value={startSettings.value}\r\n                            dayStart={startSettings.dayStart}\r\n                            monthStart={startSettings.monthStart}\r\n                            yearStart={startSettings.yearStart}\r\n                            min={min}\r\n                            max={endDate}\r\n                            onChange={(value, day, month, year) => handleOnChange('start', value, day, month, year)}\r\n                            validate={invalidStartDate}\r\n                            disabled={startSettings.disabled}\r\n                            width={startSettings.width}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                {!endSettings.labelLeft && (\r\n                    <div className={styles.spaceBetween}></div>\r\n                )}\r\n                <div\r\n                    className={`${styles.endDateWrapper} ${endSettings.labelLeft && styles.labelLeft}`}\r\n                >\r\n                    {endSettings.label !== null && (\r\n                        <span className={styles.label}>{endSettings.label || 'End'}</span>\r\n                    )}\r\n                    <div className={styles.dateInput}>\r\n                        <CustomDateInput\r\n                            ref={endRef}\r\n                            value={endSettings.value}\r\n                            dayEnd={endSettings.dayEnd}\r\n                            monthEnd={endSettings.monthEnd}\r\n                            yearEnd={endSettings.yearEnd}\r\n                            min={startDate}\r\n                            max={max}\r\n                            onChange={(value, day, month, year) => handleOnChange('end', value, day, month, year)}\r\n                            validate={invalidEndDate}\r\n                            disabled={endSettings.disabled}\r\n                            width={endSettings.width}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {invalidStartDate && !invalidEndDate && (\r\n                <span className={styles.errorMessage}>Start date is required</span>\r\n            )}\r\n            {invalidEndDate && !invalidStartDate && (\r\n                <span className={styles.errorMessage}>End date is required</span>\r\n            )}\r\n            {invalidStartDate && invalidEndDate && (\r\n                <span className={styles.errorMessage}>Start date and End date are required</span>\r\n            )}\r\n            {invalidDateRange && (\r\n                <span className={styles.errorMessage}>{invalidDateMessage || 'Date range is invalid'}</span>\r\n            )}\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default CustomDateRangeInput;","// extracted by mini-css-extract-plugin\nexport default {\"promptModalBody\":\"styles_promptModalBody__PSuKN\",\"button\":\"styles_button__x0Yl0\"};"],"names":["PrioritisationService","savePriotisation","json","url","process","axios","getChannels","getTitles","querystring","filter","prioritisedPrograms","fromSearch","prioritisedProgramsList","channelId","month","year","getPriorityList","parameters","getTitleByID","id","uploadFile","formData","fileExtension","getSegments","exportUploadSample","responseType","generateSegments","getPrioritisationSession","savePrioritisationSession","getTitleGroupList","initial","getTitleGroupPrograms","start","end","saveTitleGroupPriotisation","ProfileService","getUser","updateUser","userId","changePassword","DualTable","withOrdering","tableHeaders","tableDatas","tablesHeight","tableLabels","noDataVerbiage","isFetchingDatas","tableParameters","sortParameters","paginationParameters","onFilter","onClearFilters","onSearch","onSort","onPaginate","onAddSelected","onRemoveAll","onRemoveSelected","onChangeTableTwoData","onAction","shouldScrollToView","setShouldScrollToView","onShowSetDateModal","shouldClearSelected","useState","tableOneClearSelected","setTableOneClearSelected","tableTwoClearSelected","setTableTwoClearSelected","tableOneItems","setTableOneItems","allTableTwoItems","setAllTableTwoItems","tableTwoItems","setTableTwoItems","toAddItems","setToAddItems","toRemoveItems","setToRemoveItems","setSearchKey","searchKeyHistory","searchRef","useRef","shouldScroll","setShouldScroll","order","sort","tableTwoSortParameters","setTableTwoSortParameters","pageSize","currentPage","tableTwoPaginationParameters","setTableTwoPaginationParameters","page","size","excludedParamters","renderNoDataComponent","message","tableHeight","className","styles","style","height","getFromIndex","item","findIndex","o","Object","keys","moveItemFromArray","toIndex","fromIndex","newAllTableTwoItems","splice","orderTableTwoData","list","direction","pageNumberAfterDragging","itemIndex","length","Math","ceil","findPageAfterDragging","pageNumber","toSkip","toTake","slice","totalCount","totalPages","setScrollTo","setTimeout","onPaginateTableTwoData","allTableTwoList","JSON","parse","stringify","a","b","titleName","toLowerCase","tableTwoPaginatedList","orderButtons","icon","angleUpEndLineIcon","action","angleUpIcon","angleDownIcon","angleDownEndLineIcon","useEffect","prevState","selectedItems","selectedItem","allItems","scrollTo","addHasOrderingToItem","sortedAllTableTwoItems","sortedTableDataTwo","backdropClicked","e","current","contains","target","document","addEventListener","removeEventListener","show","Table","headers","isFetchingData","queryParameters","clearSelected","setClearSelected","onMultiSelect","items","onClick","undefined","disabled","type","marginTop","src","arrowRightIcon","alt","paddingTop","arrowLeftIcon","marginLeft","display","width","sortOrder","sortBy","tableTwoData","sortTableTwoData","map","button","defaultProps","hostUrl","getProgrammeTitles","getProgrammeTitleDetails","titleId","getExcludedTitles","getEffectivityDates","saveTitleExclusions","titleIds","getTitleExclusionSession","saveTitleExclusionSession","exportSampleTitleExclusionExcelTemplate","importTitlesToExclude","isOverride","exportExcludedTitles","TitleExclusionStorage","tableOneHeaders","headerId","headerName","queryNames","sortable","tableOneImportHeaders","tableTwoHeaders","moment","require","toLocalFormat","isoDate","local","format","toFilterByLastSeen","localTime","utc","toDate","toLocalDMYFormat","toLocalDateOnlyFormat","date","Date","toDateString","toIsoFormat","stringDate","toIsoWithoutFormat","toIsoFormatDateOnly","split","day","isValidDate","isValid","toExportFormat","forwardRef","React","useImperativeHandle","DateFilterComponent","props","ref","monthNames","dateTodayString","getMonth","getDate","getFullYear","setId","startDate","setStartDate","setStartDateString","endDate","setEndDate","setEndDateString","setFilterId","setTotalDays","dateFilterRef","setStartDateData","setEndDateData","backDropClick","calculateTotalDaysRange","timeDifference","getTime","totalDaysComputed","round","selectDayRange","dayID","changeToDefaultForm","clearFilterModel","pointerEvents","textAlign","tileClassName","onChange","onClickDay","onSelectDateStart","DateService","value","minDate","onSelectDateEnd","component","displayName","Checkbox","label","shape","active","onCheck","checkboxClassName","fontClassName","isActive","setIsActive","form","isChecked","isDisabled","isDisabledChecked","executeOnCheck","onKeyDown","key","role","tabIndex","ShowSetTitleExclusionDateModalComponent","hideModal","formType","selectedProgrammeTitleList","onAddTitles","selectStartDate","selectEndDate","onAddDateRange","onDeleteRange","visible","setVisible","min","isDateComponent","setisDateComponent","titleIndex","setTitleIndex","subIndex","setSubIndex","hasNoStartDates","setHasNoStartDates","overlappingDates","setOverlappingDates","invalidDateRanges","setInvalidDateRanges","lessThanTodayDates","setLessThanTodayDates","dateTodayWithoutTimeStamp","lastAddedId","setLastAddedId","cancelButton","checkDateArrayOverlaps","overlappedDates","datesLessThanToday","title","effectivityDates","index","otherDate","otherIndex","isDateOverlapping","a_start","a_end","b_start","b_end","aStart","aEnd","bStart","bEnd","dateRangeOverlaps","isDateLessThanToday","historicalStartDate","historicalEndDate","push","selectDateStart","index2","dayStart","monthStart","yearStart","subItem","selectDateEnd","dayEnd","monthEnd","yearEnd","activateCheckbox","checkState","i","Dialog","onClose","stylesModal","item2","includes","dateRangeIsInvalid","hasNoStartDate","paddingBottom","CustomDateRangeInput","event","disabledStart","handleChange","startSettings","labelLeft","endSettings","class","AddButton","max","subItemData","combinedArray","addDateRange","TrashCan","deleteDateRange","Button","defaultBtn","text","hasOverlaps","every","checkIfSomeHasNoStartDate","hasDateRangeInvalid","invalidDates","checkDateRangeIfValid","titleList","normalEffectivityDates","ImportModal","onHide","onImport","onClickSampleTemplate","isImporting","chooseFileRef","acceptableFiles","selectedFile","setSelectedFile","errorMessage","setErrorMessage","Modal","centered","fontWeight","click","hidden","accept","file","files","name","pop","isLoading","data","setFilter","contentClassName","imported","duration","checkAltIcon","timesRedIcon","importResult","checked","onOverwrite","onOverride","isOverwriting","isOverriding","onExport","onDiscard","isExporting","clickedButton","setClickedButton","tableOneHeader","tableOneImportHeader","tableTwoHeader","isExcludedTitlesInitialLoaded","setIsExcludedTitlesInitialLoaded","isFetchingTitles","setIsFetchingTitles","isFetchingExcludedTitles","setIsFetchingExcludedTitles","tableOneData","setTableOneData","setTableTwoData","viewedItemId","setViewedItemId","viewedItem","setViewedItem","setQueryParameters","setSortParameters","setTableParameters","setPaginationParameters","setTablesHeight","verbiage","setVerbiage","shouldTableOneScrollToView","setShouldTableOneScrollToView","shouldTableTwoScrollToView","setShouldTableTwoScrollToView","selectedProgrammeTitles","setSelectedProgrammeTitles","titleSource","setTitleSource","shouldLoadTableOne","setShouldLoadTableOne","excludeTitleFormType","setExcludeTitleFormType","isSaving","setIsSaving","isDirty","setIsDirty","showSetDateModal","setShowSetDateModal","useCallbackPrompt","showPrompt","confirmNavigation","cancelNavigation","hidePrompt","showConfirmLeaveModal","setShowConfirmLeaveModal","setShouldClearSelected","channels","setChannels","selectedChannel","setSelectedChannel","nextChannel","setNextChannel","showTitleToExcludeModal","setShowTitleToExcludeModal","setIsImporting","setIsOverwriting","setIsOverriding","importedTitlesToExclude","setImportedTitlesToExclude","showImportTitlesToExcludeModal","setShowImportTitlesToExclude","storedSelectedFile","setStoredSelectedFile","storedImportActionType","setStoredImportActionType","showOverrideExcludedTitlesModal","setShowOverrideExcludedTitlesModal","setIsExporting","showConfirmExportModal","setShowConfirmExportModal","showConfirmImportModal","setShowConfirmImportModal","checkIfDatesAreDefinite","state","constructExcludedTitles","excludedTitles","action2","DefiniteCalendarIcon","IndefiniteCalendarIcon","toolTip","join","actionName","eyeIcon","localStartDate","localEndDate","startDay","startMonth","startYear","endDay","endMonth","endYear","startDateWithoutTime","parseInt","endDateWithoutTime","dateTodayWithoutTime","setHours","isHighlighted","overrode","handleGetProgrammeTitles","TitleExclusionService","queryString","titleNameFilter","titleNameFilterValue","genreFilter","genreFilterValue","gradeFilter","gradeFilterValue","certificateFilter","certificateFilterValue","yearFilter","yearFilterValue","searchKey","replace","constructQueryString","then","response","programmeTitles","overrodeValues","genre","grade","certificate","constructProgrammeTitles","totalData","finally","handleExportExcludedTitles","proceed","channelName","blob","Blob","saveAs","AuthService","organisationName","clearDirtyForm","handleGetExcludedTitles","fromExport","fromDiscardAndImport","fromImport","handleImportTitlesToExclude","handleSaveTitleExclusions","fromDirtyForms","titleExclusionDetails","isStartDateString","isEndDateString","currentDate","toString","UTC","success","constructToDefaultItems","constructItemsAfterViewingDetails","selectedId","handleGetProgrammeTitleDetails","eyeSlashIcon","onHideDetails","defaultTableOneData","defaultTableTwoData","handleOnSelectChannel","channel","handleSaveTitleExclusionSession","combineEffectivityDatesOfDuplicateTitles","dataFromImport","dataFromTableTwo","uniqueTitles","importedData","forEach","values","actionType","FormData","append","itemsToExclude","executeImportTitlesToExclude","catch","error","danger","organisationTitleSource","handleGetUser","verbiageOne","verbiageTwo","constructVerbiage","BannerComponent","componentName","isAddButtonHidden","isSearchHidden","borderTop","marginBottom","onSelect","withSearch","uploadFileIcon","downloadFileIcon","selectedData","mappedItems","mappedToRemoveItems","remainingItems","rowDetails","viewTitleDetailsFromTableOne","viewTitleDetailsFromTableTwo","modifyTitleEffectivityDates","newItems","program","callbackCloseDetails","ImportProgramDetailsComponent","ConfirmLeavePageModalComponent","onSave","validate","onValidate","requiredDateMessage","exceededDateMessage","autoFocus","dayInputRef","monthInputRef","yearInputRef","isChanged","setIsChanged","setDay","setMonth","setYear","changeTimes","setChangeTimes","isDateInvalid","setIsDateInvalid","shouldValidate","focusToDay","focus","select","focusToMonth","focusToYear","handleOnFocus","handleOnClick","stopPropagation","handleOnBlur","isLeapYear","lastDayOfTheMonth","getLastDayOfTheMonth","monthIndex","padDayMonth","substring","padYear","handleOnChange","isNotYear","char","isNaN","parseFloat","isFirstDigitZero","isNotValid","inputName","number","lastDay","isValueValid","isTwoDigit","isFourDigit","checkPeriod","isBeforeMin","setMinutes","setSeconds","setMilliseconds","checkIfBeforeMin","isAfterMax","maxDate","checkIfAfterMax","dateValue","monthValue","yearValue","padDateValue","padMonthValue","padYearValue","constructDate","placeholder","incremented","decremented","onFocus","onBlur","autoComplete","getMonthInputWidth","required","invalidDateMessage","startRef","endRef","setDayStart","setDayEnd","setMonthStart","setMonthEnd","setYearStart","setYearEnd","invalidDateRange","invalidStartDate","invalidEndDate","isInvalid","CustomDateInput"],"sourceRoot":""}