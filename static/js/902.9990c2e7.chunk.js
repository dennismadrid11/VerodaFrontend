(self.webpackChunksky=self.webpackChunksky||[]).push([[902],{7605:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return J}});var s=t(4942),a=t(1413),i=t(885),o=t(2791),r=t(6871),c=(t(7632),"login_body__FeUaw"),l="login_panel__Bt9vA",d="login_signInPanel__eegWO",u="login_virtualAiLogo__sioxN",_="login_title__kkF6L",m="login_emailInput__d1pT1",p="login_passwordInput__+z-aB",f="login_eyeIcon__mOQOj",g="login_errorAlertText__3yPtx",h="login_signInButton__FHRjk",x="login_signInIcon__AXy1O",y="login_marginTop0__KPCC6",v="login_redirectUrlText__mt8bW",b="login_credentialList__7cjNs",j="login_credentialListItem__+qPmp",N=t(5339),w=t(608);var C=t.p+"static/media/Sign-In.2382f2c305ac4e6667b6d8a921086991.svg",S=t(4587),k=t(251),E=t(392),I="styles_checkboxDiv__RE2W8",Z="styles_box__rL2XP",R="styles_circle__bMPcJ",T="styles_notChecked__4CGRE",L="styles_checked__UYmhI",D="styles_checkIcon__KSTqC",P="styles_label__8ZNuq",A="styles_disabled__ndc1H",F="styles_disabledNotChecked__bZk7f",K="styles_disabledChecked__iJz1g",O="styles_labelRight__Jbs53",U="styles_labelDisabled__NyL2H",H=t(184);function B(e){var n=e.label,t=e.shape,s=e.disabled,a=e.active,r=e.onCheck,c=e.checkBoxName,l=e.isLeft,d=(0,o.useState)(a),u=(0,i.Z)(d,2),_=u[0],m=u[1],p="box"===t?Z:"circle"===t&&R,f=_?L:T,g=s&&A,h=s&&(_?K:F);(0,o.useEffect)((function(){m(a&&a)}),[a]);var x=function(){m(!0===a||!_),r(!_,c)};return(0,H.jsxs)("div",{className:I,children:[l&&(0,H.jsx)("div",{className:"".concat(p," ").concat(f," ").concat(g," ").concat(h),onClick:x,onKeyDown:function(e){"Enter"===e.key&&x()},role:"presentation",tabIndex:0,children:(0,H.jsx)("span",{className:D})}),n&&(0,H.jsx)("div",{className:"".concat(l?P:O," ").concat(!_&&U),children:n}),!l&&(0,H.jsx)("div",{className:"".concat(p," ").concat(f," ").concat(g," ").concat(h),onClick:x,onKeyDown:x,role:"presentation",children:(0,H.jsx)("span",{className:D})})]})}B.defaultProps={label:"",shape:"box",disabled:!1,active:!0,onCheck:null,checkBoxName:"",isLeft:!0};var W=B,V="350d252399bc4a899f48fea09759fd2b",q=t(9704),G={encryptString:function(e){return q.AES.encrypt(e,V).toString()},decryptString:function(e){return q.AES.decrypt(e,V).toString(q.enc.Utf8)}};var J=function(e){var n=e.callbackUserLogon,t=(0,r.s0)(),I=(0,o.useRef)(),Z=(0,o.useRef)(),R=(0,o.useState)({email:"",password:""}),T=(0,i.Z)(R,2),L=T[0],D=T[1],P=(0,o.useState)(!1),A=(0,i.Z)(P,2),F=A[0],K=A[1],O=(0,o.useState)(!1),U=(0,i.Z)(O,2),B=U[0],V=U[1],q=(0,o.useState)(!1),J=(0,i.Z)(q,2),z=J[0],X=J[1],Y=(0,o.useState)("Invalid email or password, please try again"),M=(0,i.Z)(Y,2),Q=M[0],$=M[1],ee=(0,o.useState)(E.Z.getRememberedCredentials().length>0),ne=(0,i.Z)(ee,2),te=ne[0],se=ne[1],ae=(0,o.useState)(!1),ie=(0,i.Z)(ae,2),oe=ie[0],re=ie[1],ce=(0,o.useState)(E.Z.getRememberedCredentials()),le=(0,i.Z)(ce,1)[0],de=function(){K(!F)},ue=function(e){"Enter"===e.key&&de()},_e=function(e){D((function(n){var t;return(0,a.Z)((0,a.Z)({},n),{},(t={},(0,s.Z)(t,e.target.name,e.target.value),(0,s.Z)(t,"password","password"===e.target.name?e.target.value:""),(0,s.Z)(t,"ssid","password"===e.target.name?G.encryptString(e.target.value):""),t))}))},me=function(){V(!0),X(!1),E.Z.login(L).then((function(e){E.Z.setUserIdentity(e.data),setTimeout((function(){n(e.data.userId),1===e.data.roleId?t("".concat("","/organisation")):t("".concat("","/channel-profiles")),te?E.Z.rememberCredential(e.data):E.Z.removeCredential(e.data),V(!1)}),500)})).catch((function(e){401===e.response.status?$("Username or password incorrect."):$(e.response.data.message),X(!0),V(!1)})).finally((function(){}))},pe=function(e){"Enter"===e.key&&""!==L.password&&""!==L.email&&me(),9===e.which&&re(!1)},fe=function(e){D({email:e.email,password:G.decryptString(e.ssid)})},ge=function(){t("".concat("","/forgot-password"))},he=function(e){I.current&&!I.current.contains(e.target)&&Z.current&&!Z.current.contains(e.target)&&re(!1)};return(0,o.useEffect)((function(){le.length>0&&le[0].ssid&&D({email:le[0].email,password:G.decryptString(le[0].ssid)})}),[]),(0,o.useEffect)((function(){return document.addEventListener("mousedown",he),function(){return document.removeEventListener("mousedown",he)}})),(0,H.jsxs)("div",{className:c,children:[(0,H.jsx)("div",{className:l,children:(0,H.jsx)("div",{className:"container",children:(0,H.jsxs)("div",{className:"row py-3 text-center",children:[(0,H.jsx)("img",{className:"".concat(u," "),src:S.Z,alt:"op2miseLogo"}),(0,H.jsxs)("div",{className:d,children:[(0,H.jsxs)("p",{className:_,children:[(0,H.jsx)("div",{style:{height:"30px"}}),"Sign In"]}),(0,H.jsx)("input",{ref:Z,onFocus:function(){re(!0)},className:m,type:"email",placeholder:"Email",value:L.email,name:"email",autoComplete:"off",onChange:_e,onKeyDown:pe}),oe&&(0,H.jsx)("div",{ref:I,className:b,children:L.email?E.Z.getRememberedCredentials().filter((function(e){return e.email.includes(L.email)})).map((function(e){return(0,H.jsx)("div",{className:j,title:e.email,onClick:function(){return fe(e)},onKeyDown:function(){return fe(e)},role:"presentation",children:e.email},e.id)})):E.Z.getRememberedCredentials().map((function(e){return(0,H.jsx)("div",{className:j,title:e.email,onClick:function(){return fe(e)},onKeyDown:function(){return fe(e)},role:"presentation",children:e.email},e.id)}))}),(0,H.jsx)("br",{}),(0,H.jsxs)("div",{className:"input-group position-relative",children:[(0,H.jsx)("input",{className:p,type:F?"text":"password",placeholder:"Password",value:L.password,name:"password",onChange:_e,onKeyDown:pe}),(0,H.jsx)("div",{className:"".concat(f," input-group-append"),children:F?(0,H.jsx)("img",{style:{cursor:"pointer",height:"12.03px",width:"15.03px"},src:w,alt:"EyeOnIcon",onClick:de,onKeyDown:ue,role:"presentation",tabIndex:0}):(0,H.jsx)("img",{style:{cursor:"pointer"},src:N,alt:"EyeIcon",onClick:de,onKeyDown:ue,role:"presentation",tabIndex:0})})]}),(0,H.jsx)("div",{style:{position:"absolute",marginLeft:"50px",marginTop:"15px"},children:(0,H.jsx)(W,{label:"Remember me",onCheck:function(e){se(e)},disabled:B,active:te})}),(0,H.jsx)("p",{className:g,style:{display:z?null:"none"},children:Q}),(0,H.jsxs)("button",{className:"".concat(h," ").concat(z?y:""),onClick:me,disabled:B||0===L.password.length||0===L.email.length,type:"button",children:["Sign In"," ",B?(0,H.jsx)("i",{className:"fas fa-circle-notch fa-spin mr-1",style:{height:"20px",width:"20px"}}):(0,H.jsx)("img",{className:x,src:C,alt:"SignInIcon"})]}),(0,H.jsx)("p",{className:v,style:{cursor:"pointer"},onClick:ge,onKeyDown:function(e){"Enter"===e.key&&ge()},role:"presentation",tabIndex:0,children:"Forgot password?"})]})]})})}),(0,H.jsx)(k.Z,{})]})}},251:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});t(2791);var s=t(6871),a="footer_vaiFooter__NGKVU",i="footer_vaiFooterText__PL00u",o="footer_vaiFooterTextGray__a44Hr",r=t(184);var c=function(){var e=(0,s.TH)();return(0,r.jsx)("div",{className:a,children:(0,r.jsxs)("p",{className:"".concat(e.pathname==="/".concat({NODE_ENV:"production",PUBLIC_URL:"/dennismadrid11/VerodaFrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_HREF:"'https://localhost:3000/'",REACT_APP_HOST_URL:"https://localhost:44357/api/",REACT_APP_SUBFOLDER:""}.SUBFOLDER,"/login")?o:null," ").concat(i),children:["Virtual AI Ltd. \xa9 ",(new Date).getFullYear()]})})}},2480:function(){}}]);
//# sourceMappingURL=902.9990c2e7.chunk.js.map